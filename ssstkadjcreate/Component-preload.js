sap.ui.require.preload({"com/arteria/ss/stockadjustmnt/create/Component.js":'jQuery.sap.declare("com.arteria.ss.stockadjustmnt.create.Component"),jQuery.sap.require("sap.ui.Device");var gList,gListPageView,gSADetailView,gSADetailHeaderView,gSAItemView,gSubMatListView,gListView="";sap.ui.core.UIComponent.extend("com.arteria.ss.stockadjustmnt.create.Component",{metadata:{manifest:"json"},init:function(){jQuery.sap.registerModulePath("com.arteriatech.ppc.utils","/sap/bc/ui5_ui5/ARTEC/PPCUTIL/utils/"),jQuery.sap.registerModulePath("com.arteriatech.prd.utils","/sap/bc/ui5_ui5/ARTEC/SSUTIL/utils/"),sap.ui.core.UIComponent.prototype.init.apply(this,arguments);var e=sap.ui.Device,t=new sap.ui.model.json.JSONModel(e);t.setDefaultBindingMode("OneWay"),this.setModel(t,"device"),this.getRouter().initialize()}});',"com/arteria/ss/stockadjustmnt/create/controller/BaseController.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ca/ui/message/message","sap/ui/core/util/Export","sap/ui/core/util/ExportTypeCSV","sap/ca/ui/model/format/AmountFormat"],function(e){"use strict";new sap.m.BusyDialog;return e.extend("com.arteria.ss.stockadjustmnt.create.controller.BaseController",{getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this)},getText:function(){},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){return this.getView().setModel(e,t)},getResourceBundle:function(){this.getOwnerComponent().getModel("i18n").getResourceBundle();return this.getOwnerComponent().getModel("i18n").getResourceBundle()}})});',"com/arteria/ss/stockadjustmnt/create/controller/DetailPage.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","com/arteriatech/ppc/utils/js/Common","com/arteriatech/prd/utils/js/Common"],function(e,t,o,a,s){"use strict";sap.ui.Device;var i,r=new sap.m.Dialog,n=new sap.m.BusyDialog;return e.extend("com.arteria.ss.stockadjustmnt.create.controller.DetailPage",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){gSADetailView=this.getView(),this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(gSADetailView)),com.arteriatech.ss.utils.js.Common,com.arteriatech.ss.utils.js.CommonValueHelp,i=this._oComponent.getModel("i18n").getResourceBundle(),this._oComponent.getModel("ppcutili18n").getResourceBundle(),this._oRouter=sap.ui.core.UIComponent.getRouterFor(this),this._oRouter.attachRouteMatched(this.onRouteMatched,this),a.initMsgMangerObjects(),this.setReasonDD(),this.onInitHookUp_Exit&&this.onInitHookUp_Exit()},onRouteMatched:function(e){e.getParameter("name")},setDropDowns:function(){this.iTotalDDs=1,gSADetailView.setBusy(!0),this.setReasonDD(),this.getDropDowns_Exit&&this.getDropDowns_Exit()},showPopUp:function(){a.showMessagePopover(gSAItemView)},setReasonDD:function(){var e=this.getView(),t=this._oComponent.getModel("PCGW"),o=new Array;o=a.setODataModelReadFilter(e,"",o,"Typeset",sap.ui.model.FilterOperator.EQ,["STKADR"],!1,!1,!1),a.getDropdown(t,"ConfigTypesetTypes",o,"Types","TypesName",r,e,"ReasonDD","Select",function(){}),this.setMarketDD_Exit&&this.setMarketDD_Exit()},callBusyDialog:function(){this.iTotalDDs--,0===this.iTotalValueHelps&&gSADetailView.setBusy(!1)},navigateBack:function(){if(!0===this.getView().getModel("LocalViewSetting").getProperty("/editMode")&&this.backToList(),!0===this.getView().getModel("LocalViewSetting").getProperty("/reviewMode")){this.getView().getModel("LocalViewSetting").setProperty("/editMode",!0),this.getView().getModel("LocalViewSetting").setProperty("/reviewMode",!1);this._oComponent.getModel("QuantityModel");this._oComponent.getModel("MaterialDocItemDetails").setProperty("/QuantityValueState","None"),this._oComponent.getModel("MaterialDocItemDetails").setProperty("/RemarksState","None"),this._oComponent.getModel("MaterialDocItemDetails").setProperty("/QuantityValueStateText",""),this._oComponent.getModel("MaterialDocItemDetails").setProperty("/RemarksStateText","")}},backToList:function(){void 0!==sap.ui.core.routing.History.getInstance().getPreviousHash()?window.history.go(-1):""!==document.referrer?window.history.go(-1):this.router.navTo("ListPage")},onReview:function(){var e=this._oComponent.getModel("MaterialDocs");a.removeAllMsgs(),a.hideMessagePopover(gSAItemView),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),this.validate(),a.doErrMessageExist()?(e.setProperty("/MaterialDocDate",a.addHoursAndMinutesToDate({dDate:e.getProperty("/MaterialDocDate")})),this.updateMatDoc(!0)):this.showError(),this.onReview_Exit&&this.onReview_Exit()},validate:function(){this.validateItem()},validateItem:function(){a.removeAllMsgs();var e=this._oComponent.getModel("MaterialDocItemDetails").getProperty("/");if(0!==e.length)for(var t=0;t<e.length;t++){var o=!0,s="",r=e[t].AdjQty,n=e[t].Remarks;""!==e[t].ReasonID&&void 0!==e[t].ReasonID||(s=i.getText("common.message.pleaseselect",[gSAItemView.byId("FReasonID").getText()]),a.addMsg_MsgMgr(s,"error","/UI/ReasonID")),""===r||void 0===r||null===r?(s=i.getText("common.message.pleaseeneter",[gSAItemView.byId("FAdjQtyEdit").getText()]),o=!1):o=!0,o?(e[t].QuantityValueState=sap.ui.core.ValueState.None,e[t].QuantityValueStateText=""):(e[t].QuantityValueState=sap.ui.core.ValueState.Error,e[t].QuantityValueStateText=s,gSAItemView.getModel("MaterialDocItemDetails").setProperty("/",e),a.addMsg_MsgMgr(s,"error","/UI/AdjQty"+t)),""===n||void 0===n||null===n?(s=i.getText("common.message.pleaseeneter",[gSAItemView.byId("FRemarksEdit").getText()]),o=!1):o=!0,o?(e[t].RemarksState=sap.ui.core.ValueState.None,e[t].RemarksStateText=""):(e[t].RemarksState=sap.ui.core.ValueState.Error,e[t].RemarksStateText=s,gSAItemView.getModel("MaterialDocItemDetails").setProperty("/",e),a.addMsg_MsgMgr(s,"error","/UI/Remarks"+t))}},updateMatDoc:function(e,t){var o=this;t.getSource().setEnabled(!1),n.open(),o.oUpdateModel=o.getView().getModel("SSGW_MM");var s=this.updateStockHeader(e);s.MaterialDocItemDetails=this.updateMaterialDocItemDetails(s.MaterialDocGUID),o.oUpdateModel.create("/MaterialDocs",s,{success:function(t){a.removeDuplicateMsgsInMsgMgr(),a.doErrMessageExist()?e?setTimeout(function(){o.gotoSave(),n.close()},2e3):o.updatedSuccessfully(t.MaterialDocGUID):(n.close(),o.showError())},error:function(){n.close(),o.showError()}})},updateStockHeader:function(e){return this._oMaterialDocs=jQuery.extend({},this._oComponent.getModel("MaterialDocs").getData()),this._oMaterialDocs.TestRun=!0===e?"X":"",this._oMaterialDocs},updateMaterialDocItemDetails:function(e){this._oMaterialDocItemDetails=jQuery.extend(!0,[],gSAItemView.getModel("MaterialDocItemDetails").getData());for(var t=0;t<this._oMaterialDocItemDetails.length;t++)this._oMaterialDocItemDetails[t].MaterialDocGUID=e,this._oMaterialDocItemDetails[t].MatDocItemGUID=a.generateUUID(),this._oMaterialDocItemDetails[t].MaterialDocQty=this._oMaterialDocItemDetails[t].AdjQty,this._oMaterialDocItemDetails[t].StockGUID=this._oMaterialDocItemDetails[t].CPStockItemGUID,this._oMaterialDocItemDetails[t].MFD=this._oMaterialDocItemDetails[t].ManufacturingDate,delete this._oMaterialDocItemDetails[t].__metadata,delete this._oMaterialDocItemDetails[t].ManufacturingDate,delete this._oMaterialDocItemDetails[t].DiffQty,delete this._oMaterialDocItemDetails[t].AdjQty,delete this._oMaterialDocItemDetails[t].SKUGroupDesc,delete this._oMaterialDocItemDetails[t].CPStockItemGUID,delete this._oMaterialDocItemDetails[t].ManufacturingDate,delete this._oMaterialDocItemDetails[t].Quantity,delete this._oMaterialDocItemDetails[t].RemarksState,delete this._oMaterialDocItemDetails[t].RemarksStateText,delete this._oMaterialDocItemDetails[t].QuantityValueState,delete this._oMaterialDocItemDetails[t].QuantityValueStateText;return this._oMaterialDocItemDetails},gotoSave:function(){this._oComponent.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),a.hideMessagePopover(gSAItemView),this._oComponent.getModel("LocalViewSetting").setProperty("/editMode",!1),this._oComponent.getModel("LocalViewSetting").setProperty("/reviewMode",!0)},showError:function(){this._oComponent.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),a.showMessagePopover(gSAItemView)},onSave:function(e){e.getSource().setEnabled(!1),this.updateMatDoc(!1)},updatedSuccessfully:function(e){this.onCreateSuccess(e)},onCreateSuccess:function(e){var t=this,o=new sap.m.Dialog({title:"Success",type:"Standard",state:"Success",draggable:!0,content:[new sap.m.Text({text:a.getInfoMsgsFromMsgMgr()})],buttons:[new sap.m.Button({text:i.getText("view"),press:function(){t.gotoDetail(e),o.close()}}),new sap.m.Button({text:i.getText("CreateNew"),press:function(){t._oRouter.navTo("ListPage",!1),o.close()}})],afterClose:function(){o.destroy()}});o.open(),o.attachBrowserEvent("keydown",function(e){e.stopPropagation(),e.preventDefault()}),this.onCreateSuccess_Exit&&this.onCreateSuccess_Exit()},gotoDetail:function(e){var t="StockAdjustmentDetail(MaterialDocGUID=\'"+e+"\')";a.crossAppNavigation("ssstkadjcreate","ssstockadmnt","Display","ssstkadjcreate","ssstockadmnt","/View/"+t),this.gotoDetail_Exit&&this.gotoDetail_Exit()},addItemUIMessageToMM:function(e,t,o){var s="common.message.pleaseeneter";"ReasonID"===t&&(s="common.message.pleaseselect");var r=i.getText(s,e.byId("F"+t).getText());this._oComponent.getModel("MaterialDocItemDetails").setProperty("/"+o+"/"+t+"ValueState","Error"),this._oComponent.getModel("MaterialDocItemDetails").setProperty("/"+o+"/"+t+"ValueStateText",r),r=r+" for Item "+this._oComponent.getModel("MaterialDocItemDetails").getProperty("/"+o+"/ItemNo"),a.addMsg_MsgMgr(r,"error","/UI/"+t+"-"+o)},addErrorMessages:function(e,t,o){e.byId(t).setValueState("Error"),e.byId(t).setValueStateText(o),a.addMsg_MsgMgr(o,"error","/UI/"+t)},clearAllErrors:function(){this.clearValueState(["Fdebitnote"]);for(var e=sap.ui.getCore().getMessageManager().getMessageModel().getData(),t=0;t<e.length;t++){var o=e[t];o.id.indexOf("/UI/")>-1&&a.removeMsgsInMsgMgrById(o.id)}this._oComponent.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),a.hideMessagePopover(gSAItemView)},clearValueState:function(e){for(var t=0;t<e.length;t++)!gSAItemView.byId(e[t])instanceof sap.m.Input&&(gSAItemView.byId(e[t]).setValueState("None"),gSAItemView.byId(e[t]).setValueStateText(""))}})});',"com/arteria/ss/stockadjustmnt/create/controller/DetailPageHeader.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","com/arteriatech/ppc/utils/js/Common","com/arteriatech/prd/utils/js/Common"],function(e,t,o,i){"use strict";sap.ui.Device;var s,n=new sap.m.Dialog;return e.extend("com.arteria.ss.stockadjustmnt.create.controller.DetailPageHeader",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){gSADetailHeaderView=this.getView(),this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(gSADetailHeaderView)),com.arteriatech.ss.utils.js.Common,com.arteriatech.ss.utils.js.CommonValueHelp,s=this._oComponent.getModel("i18n").getResourceBundle(),this._oComponent.getModel("ppcutili18n").getResourceBundle(),this.setMoveMentTypeDD(),this.onInitHookUp_Exit&&this.onInitHookUp_Exit()},setMoveMentTypeDD:function(){var e=this._oComponent.getModel("PCGW"),t=new Array;t=i.setODataModelReadFilter(this.getView(),"",t,"Typeset",sap.ui.model.FilterOperator.EQ,["GRMTYP"],!1,!1,!1),i.getDropdown(e,"ConfigTypesetTypes",t,"Types","TypesName",n,this.getView(),"MoveMentTypeDD","None",function(){})},onDateValidate:function(e){var t=e.getSource().getId().split("-");t="/UI/InstrumentDateId-"+t[t.length-1];var o=new Date(e.getParameter("value"));if((i.getCurrentServerDate(this)-o)/864e5<=0){var n=s.getText("DetailHeader.Message.validInstDate");i.addMsg_MsgMgr(n,"error",t),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),i.showMessagePopover(gSADetailHeaderView)}else i.removeMsgsInMsgMgrById(t)}})});',"com/arteria/ss/stockadjustmnt/create/controller/DetailPageItems.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","com/arteriatech/ppc/utils/js/Common","com/arteriatech/prd/utils/js/Common"],function(t,e,o){"use strict";sap.ui.Device,com.arteriatech.ppc.utils.js.Common;return t.extend("com.arteria.ss.stockadjustmnt.create.controller.DetailPageItems",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){gSAItemView=this.getView(),this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(gSAItemView)),com.arteriatech.ss.utils.js.Common,com.arteriatech.ss.utils.js.CommonValueHelp,this._oComponent.getModel("i18n").getResourceBundle(),this._oComponent.getModel("ppcutili18n").getResourceBundle(),this.onInitHookUp_Exit&&this.onInitHookUp_Exit()},onChangeReasonDesc:function(t){if(""!==t.getSource().getSelectedKey()){var e=t.getSource().getBindingContext("MaterialDocItemDetails").getPath();t.getSource().getBindingContext("MaterialDocItemDetails").getModel().setProperty(e+"/ReasonDesc",t.getSource().getSelectedItem().getText().split(" - ")[1].trim())}},onChangeAdjQty:function(t){com.arteriatech.ppc.utils.js.Common.formatNumber(t);for(var e=this.getView().getModel("MaterialDocItemDetails").getData(),o=0;o<e.length;o++)e[o].Quantity,e[o].AdjQty,e[o].DiffQty,void 0===e[o].AdjQty||(e[o].AdjQty>e[o].Quantity?(e[o].DiffQty=e[o].Quantity-e[o].AdjQty,this._oComponent.getModel("MaterialDocs").setProperty("/MvmtTypeID","802"),this._oComponent.getModel("MaterialDocs").setProperty("/MvmntTypeDesc","")):e[o].AdjQty<e[o].Quantity?(e[o].DiffQty=e[o].Quantity-e[o].AdjQty,this._oComponent.getModel("MaterialDocs").setProperty("/MvmtTypeID","801"),this._oComponent.getModel("MaterialDocs").setProperty("/MvmntTypeDesc","")):e[o].AdjQty===e[o].Quantity&&(e[o].DiffQty=e[o].Quantity-e[o].AdjQty))}})});',"com/arteria/ss/stockadjustmnt/create/controller/DetailPageObjectHeader.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","com/arteriatech/ppc/utils/js/Common","com/arteriatech/prd/utils/js/Common"],function(o,t,e){"use strict";sap.ui.Device,com.arteriatech.ppc.utils.js.Common;return o.extend("com.arteria.ss.stockadjustmnt.create.controller.DetailPageObjectHeader",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){this._oView=this.getView(),this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(this._oView)),com.arteriatech.ss.utils.js.Common,com.arteriatech.ss.utils.js.CommonValueHelp,this._oComponent.getModel("i18n").getResourceBundle(),this._oComponent.getModel("ppcutili18n").getResourceBundle(),this.onInitHookUp_Exit&&this.onInitHookUp_Exit()}})});',"com/arteria/ss/stockadjustmnt/create/controller/ItemDetailPage.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller"],function(t){"use strict";return t.extend("com.arteria.ss.stockadjustmnt.create.controller.ItemDetailPage",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){}})});',
"com/arteria/ss/stockadjustmnt/create/controller/List.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","com/arteriatech/ppc/utils/js/Common","com/arteriatech/prd/utils/js/Common","com/arteriatech/prd/utils/js/UserMapping","com/arteriatech/prd/utils/js/CommonValueHelp","sap/m/MessageBox"],function(e,t,o,s,a,i,r,l){"use strict";var n,g,c,d,u=sap.ui.Device,M=new sap.m.BusyDialog,p=(new Array,new sap.m.BusyDialog),m=0,h=[];return e.extend("com.arteria.ss.stockadjustmnt.create.controller.List",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){gList=this.getView(),this._oView=this.getView(),this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(gList)),a=com.arteriatech.ss.utils.js.Common,r=com.arteriatech.ss.utils.js.CommonValueHelp,i=com.arteriatech.ss.utils.js.UserMapping,n=this._oComponent.getModel("i18n").getResourceBundle(),g=this._oComponent.getModel("ppcutili18n").getResourceBundle(),this._oRouter=sap.ui.core.UIComponent.getRouterFor(this),this._oRouter.attachRouteMatched(this.onRouteMatched,this),this.setHeaderData(),this.setDefaultSettings(),this.setValuehelpPropety(),this.onInitHookUp_Exit&&this.onInitHookUp_Exit()},ToolbarMaterialF4:function(e){e.getSource().setValueState("None"),e.getSource().setValueStateText("");var t=this;s.removeAllMsgs(),s.hideMessagePopover(this.getView());var o=s.getKeysFromMultiCombo(this.getView(),"inputDMSDivision");this.validateMandatory(),this.aKeys=["MaterialNo","MaterialDesc"],s.doErrMessageExist()?this.cpStockF4({oController:this,oi18n:n,oUtilsI18n:g,bMultiSelect:!1,sCustomer:t.getSelectedCustomerCode(),sCPTypeID:"01",dmsDivision:o,sCPGUID:t.getView().getModel("MaterialDocs").getData().FromGUID},function(e){for(var o=e[0].getCustomData()[0].getValue(),s=t.getView().getModel("ListItems").getProperty("/"),a=0;a<s.length;a++)if(o.MaterialNo===s[a].MaterialNo){var i=t.oi18n.getText("Create.material.Exists");return void l.error(i,{styleClass:"sapUiSizeCompact"})}t.getView().getModel("LocalViewSetting").setProperty("/MaterialTokens",[]),t.getView().getModel("LocalViewSetting").setProperty("/MaterialTokens",[o]),"1"===t.getView().byId("StockTypes").getSelectedKey()?t.setBatchModel(o.MaterialNo):t.setBatchModelCpStock(o.MaterialNo),t.updateMaterialToTableRow(o)}):(this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gObjectPageLayout))},MatF4:function(e){if(this.validateMandatory(),s.doErrMessageExist()){var t=this,o=s.getKeysFromMultiCombo(this.getView(),"inputDMSDivision"),a=e.getSource().getId().slice(-1);a=parseInt(e.getSource().getBindingContext("ListItems").getPath().split("/")[1]);var i=parseInt(a),r=this.getView().getModel("ListItems").getProperty("/"),l=e.getSource().getBindingContext("ListItems");this.getView().byId("UIListTable").getRows()[i].getCells();this.aKeys=["MaterialNo","MaterialDesc"],this.cpStockF4({oController:this,oi18n:n,oUtilsI18n:g,bMultiSelect:!1,sCustomer:t.getSelectedCustomerCode(),sCPTypeID:"01",dmsDivision:o,sCPGUID:t.getView().getModel("MaterialDocs").getData().FromGUID},function(e){var o=e[0].getCustomData()[0].getValue();t.setSelectedMaterialToTable(o,l,r,i),t.getView().getModel("ListItems").setProperty("/"+i+"/OrderMaterialGroupID",o.OrderMaterialGroupID),t.getView().getModel("ListItems").setProperty("/"+i+"/OrderMaterialGroupDesc",o.OrderMaterialGroupDesc),t.getView().getModel("ListItems").setProperty("/"+i+"/DMSDivision",o.DMSDivision),t.getView().getModel("ListItems").setProperty("/"+i+"/DmsDivisionDesc",o.DmsDivisionDesc),"1"===t.getView().byId("StockTypes").getSelectedKey()?t.setBatchModel(o.MaterialNo):t.setBatchModelCpStock(o.MaterialNo)})}else s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error")},formatToken:function(e,t){return""!==t&&(e=e+"("+t+")"),null===e?"":e.length<=10?e:(e=e.substring(0,10))+"..."},onToolMatLiveChange:function(){this.getView().byId("toolbarMaterialNoID").getTokens().length>0&&this.getView().byId("toolbarMaterialNoID").setValue("")},ToolbarMatSuggestionSelected:function(e){this.getView().getModel("LocalViewSetting").setProperty("/MaterialTokens",[]);this.getView().getModel("ListItems").getProperty("/");e.getSource().setValueState("None"),e.getSource().setValueStateText("");var t=e.getParameter("selectedRow").getBindingContext("MatSuggestorModel").getObject();jQuery.sap.delayedCall(100,this,function(){this.getView().byId("toolbarMaterialNoID").focus()}),this.getView().getModel("LocalViewSetting").setProperty("/MaterialTokens",[t]),this.localData=t,"1"===this.getView().byId("StockTypes").getSelectedKey()?this.setBatchModel(t.MaterialNo,!1):this.setBatchModelCpStock(t.MaterialNo,!1)},setBatchModelCpStock:function(e,t,o){var i=this,l=gList.getModel("SSGW_MM"),n=(s.getKeysFromMultiCombo(gList,"inputDMSDivision"),new Array);a.getCurrentLoggedUser({sServiceName:"CPStockItems",sRequestType:"read"},function(a){n=r.setODataModelReadFilter(gList,"",n,"CPGUID",sap.ui.model.FilterOperator.EQ,[gList.getModel("MaterialDocs").getData().FromGUID],!1,!1,!1),n=r.setODataModelReadFilter(gList,"",n,"CPTypeID","",[gList.getModel("MaterialDocs").getData().CPTypeID],!1,!1,!1),n=s.setODataModelReadFilter(gList,"",n,"MaterialNo","",[e],!1,!1,!1),n=s.setODataModelReadFilter("","",n,"LoginID","",[a],!1,!1,!1),n=s.setODataModelReadFilter("","",n,"StockOwner","",["01"],!1,!1,!1),n=gList.byId("StockTypes").getSelectedKey()?s.setODataModelReadFilter(gList,"",n,"StockTypeID","",[gList.byId("StockTypes").getSelectedKey()],!1,!1,!1):s.setODataModelReadFilter(gList,"",n,"StockTypeID","",["1"],!1,!1,!1),l.read("/CPStockItems",{filters:n,urlParameters:{$expand:"CPStockItemSnos"},success:function(e){for(var a=(e=s.formatItemsOData({oData:e.results}))[0].CPStockItemSnos.results,r=[],l=0;l<a.length;l++)""!==a[l].Batch&&r.push(a[l]);if(t)i.getView().getModel("ListItems").setProperty("/"+o+"/BatchSuggestorModel",r);else{var n=new sap.ui.model.json.JSONModel;n.setData(r),gList.setModel(n,"BatchSuggestorModel")}M.close()},error:function(e){}})}),this.setBatchModelCpStock_Exit&&this.setBatchModelCpStock_Exit()},validateToolBarBatches:function(e){var t=this.getView().getModel("ListItems").getProperty("/"),o=e.MaterialNo,a=e.CPSnoGUID,i=e.Batch;e.TransRefNo;if(s.removeAllMsgs(),"1"===this.getView().byId("StockTypes").getSelectedKey()){for(var r=0;r<t.length;r++)if(o===t[r].MaterialNo&&i===t[r].Batch){var l="Batch already exists";s.addMsg_MsgMgr(l,"error","Material");break}}else for(r=0;r<t.length;r++)if(o===t[r].MaterialNo&&i===t[r].Batch&&t[r].StockRefGUID===a){l="Batch already exists";s.addMsg_MsgMgr(l,"error","Material");break}},onToolBarBatchChange:function(e){e.getSource().setValueState("None");var t=e.getParameter("selectedItem").getBindingContext("ToolBarBatchDD"),o=(t.getPath(),t.getObject()),a=e.getSource().getSelectedItem().getBindingContext("ToolBarBatchDD"),i=(a.getObject(),a.getPath());this.validateToolBarBatches(o,i),s.doErrMessageExist()?(this.getView().getModel("LocalViewSetting").setProperty("/MRP",o.MRP),this.getView().getModel("LocalViewSetting").setProperty("/ManufacturingDate",o.ManufacturingDate),this.getView().getModel("LocalViewSetting").setProperty("/ExpiryDate",o.ExpiryDate),this.getView().getModel("LocalViewSetting").setProperty("/PrimaryTradeDis",o.PriDiscountPer),this.getView().getModel("LocalViewSetting").setProperty("/UnitPrice",o.UnitPrice),this.getView().getModel("LocalViewSetting").setProperty("/Quantity",o.Quantity),this.getView().getModel("LocalViewSetting").setProperty("/StockRefGUID",o.CPSnoGUID),this.getView().getModel("LocalViewSetting").setProperty("/Batch",o.Batch)):(e.getSource().setSelectedKey("(Select)"),e.getSource().setValueState("Error"),s.showMessagePopover(gList))},validateToolBarNumeric1:function(e){s.removeAllMsgs(),s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length);var t=this.getView().byId("sFAdjQtyLabel").getText(),o=e.getSource().getValue();if(/[ !@#$%^&*()_+\\-=\\[\\]{};\':.`~"\\\\|,<>\\/a-z A-Z?]/.test(o)){e.getSource().setValue("");var a=n.getText("ROCreate.message.ToolBarValidQty",[t]);s.addMsg_MsgMgr(a,"error","/UI/Quantity-"),s.doErrMessageExist()?(e.getSource().setValueState(null),e.getSource().setValueStateText("")):(this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList))}},onChangeToolBarReasonDesc:function(e){""!==e.getSource().getSelectedKey()&&(this.getView().getModel("LocalViewSetting").setProperty("/ReasonID",e.getSource().getSelectedItem().getKey()),this.getView().getModel("LocalViewSetting").setProperty("/ReasonDesc",e.getSource().getSelectedItem().getText().split("-")[1].trim()))},AddInsertToolbar:function(){s.removeAllMsgs();var e,t=this.getView().getModel("LocalViewSetting").getProperty("/"),o=!0;t.MaterialTokens?t.MaterialTokens.length||(this.getView().getModel("LocalViewSetting").getProperty("/ToolbarMatValueState","Error"),this.getView().getModel("LocalViewSetting").getProperty("/ToolbarMatValueStateText","PLease Enter Material No"),o=!1,e="Please Enter Material",s.addMsg_MsgMgr(e,"error","")):(e="Please Enter Material",o=!1,s.addMsg_MsgMgr(e,"error","")),this.getView().byId("multiInputBatch2").getTokens().map(function(e){return e.getKey()}).join(",")||(this.getView().getModel("LocalViewSetting").getProperty("/ToolbarQntyValueState","Error"),this.getView().getModel("LocalViewSetting").getProperty("/ToolbarQntyValueStateText","PLease Enter Material No"),o=!1,e="Please Select Batch",s.addMsg_MsgMgr(e,"error","")),this.getView().byId("sFAdjQty").getValue()||(o=!1,e="Please Enter Physical Stock",s.addMsg_MsgMgr(e,"error","")),t.ReasonID||(o=!1,e="Please Select Reason",s.addMsg_MsgMgr(e,"error","")),o?(this.getView().getModel("LocalViewSetting").setProperty("/toolBarInputControl",this.getView().byId("toolbarMaterialNoID")),this.updateMaterialToTableRow()):s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error")},updateMaterialToTableRow:function(){var e=this.localData,t=this.getView().getModel("LocalViewSetting").getProperty("/"),o=[];o=this.getView().getModel("BatchSuggestorModel").getData();for(var s=[],a=0;a<o.length;a++)""!==o[a].Batch&&(o[a].seperator=" - ",s.push(o[a]));s.length;var i=this.getView().byId("multiInputBatch2").getTokens().map(function(e){return e.getKey()}).join(","),r=t.BookStk,l=t.AdjQty,n=parseFloat(r)-parseFloat(l);n=parseFloat(n).toFixed(2);var g={materialEdit:!1,MaterialNo:e.MaterialNo,MaterialDesc:e.MaterialDesc,MaterialTokens:[{Material:e.MaterialNo,MaterialDesc:this.TextAbstract(e.MaterialDesc,e.MaterialNo,15)}],BatchTokens:[{Batch:i,Tooltip:this.TextAbstract(i,i,15)}],OrderMaterialGroupID:e.OrderMaterialGroupID,OrderMaterialGroupDesc:e.OrderMaterialGroupDesc,DMSDivision:e.DMSDivision,DmsDivisionDesc:e.DmsDivisionDesc,UOM:e.UOM,AdjQty:t.AdjQty,ReasonID:t.ReasonID,MRP:t.MRP,ManufacturingDate:t.ManufacturingDate,ExpiryDate:t.ExpiryDate,PrimaryTradeDis:t.PrimaryTradeDis,UnitPrice:t.UnitPrice,Quantity:r,StockRefGUID:t.StockRefGUID,Batch:t.Batch,Currency:e.Currency,DiffQty:n};g.TempBatches=s;var c=this.getView().getModel("ListItems").getProperty("/");if(c.length){var d=0,u=0;c=c.filter(function(e){return""!==e.MaterialNo&&(u=("0000"+(u=10*(d+1))).slice(-6),g.ItemNo=u,d++,!0)})}u=("0000"+(u=10*(d+1))).slice(-6),g.ItemNo=u,c.push(g);c.length,c.length>5||c.length;this.getView().getModel("ListItems").setProperty("/",c),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",c.length),this.addBlankInvoiceItemToTable(c),this.getView().getModel("LocalViewSetting").setProperty("/MaterialTokens",[]),this.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",[]),this.getView().getModel("LocalViewSetting").setProperty("/Batch",""),this.getView().getModel("LocalViewSetting").setProperty("/ReasonID",""),this.getView().getModel("LocalViewSetting").setProperty("/Quantity",""),this.getView().getModel("LocalViewSetting").setProperty("/BookStk",""),this.getView().getModel("LocalViewSetting").setProperty("/StkDifference",""),this.getView().byId("sFAdjQty").setValue(""),this.getView().byId("sFReasonIDEdit").setSelectedKey("")},formatBatchDisplay:function(e,t){var o="(Select)";if("(Select)"!==t.Batch){var s=new Date(t.ManufacturingDate);s.getDate()&&s.toLocaleDateString(),o=t.Batch+"-"+t.TransRefNo}else o=t.Batch;return o},addBlankInvoiceItemToTable:function(e){var t=1;e.length<5&&(t=5-e.length);e.length;for(var o=0;o<t;o++)e.push({MaterialTokens:[],MaterialNo:"",MaterialDesc:"",MaterialDocGUID:"",MaterialDocQty:"",StockGUID:"",Remarks:"",Currency:"",Price:"",MRP:"",UOM:"",Batch:"",ExpiryDate:null,ItemNo:"",DMSDivisionID:"",DMSDivisionDesc:"",MFD:""});this.getView().getModel("ListItems").setProperty("/",e),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",e.length),this.setItemNo(e)},MatF4Filter:function(){var e=this;if(this.validateMandatory(),s.doErrMessageExist()){var t=s.getKeysFromMultiCombo(this.getView(),"inputDMSDivision");this.aKeys=["MaterialNo","MaterialDesc"],this.MaterialInput=e.getView().byId("inputMaterial1"),this.cpStockF4({oController:this,oi18n:n,oUtilsI18n:g,bMultiSelect:!1,sCustomer:e.getSelectedCustomerCode(),sCPTypeID:"01",dmsDivision:t,sCPGUID:e.getView().getModel("MaterialDocs").getData().FromGUID},function(t){e.getView().byId("inputMaterial1").removeAllTokens();var o=t[0].getCustomData()[0].getValue(),s=t[0].mProperties.key,a=t[0].mProperties.text;t[0].mProperties.text=e.TextAbstract(a,s,10),e.MaterialInput.addToken(t[0]),e.setSelectedMaterialToTable1(o)})}else s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error")},TextAbstract:function(e,t,o){return null===(e=e+"("+t+")")?"":e.length<=o?e:(e=e.substring(0,o))+"..."},setSelectedMaterialToTable:function(e,t,o,s){var a=[];if(e.CPStockItemSnos.results&&e.CPStockItemSnos.results.length>0){1===e.CPStockItemSnos.results.length&&(e.CPStockItemSnos.results[0].Batch,e.CPStockItemSnos.results[0].ManufacturingDate,e.CPStockItemSnos.results[0].ExpiryDate),a=e.CPStockItemSnos.results;for(var i=[],r=0;r<a.length;r++)""!==a[r].Batch&&(a[r].seperator=" - ",i.push(a[r]));i.length>0&&i.unshift({Batch:"(Select)"});var l=new sap.ui.model.json.JSONModel;l.setData(i);var n=gList.byId("UIListTable").getRows()[s].getAggregation("cells")[2];n.getModel("BatchDD")?(n.getModel("BatchDD").setProperty("/",i),this.getView().getModel("ListItems").setProperty("/"+s+"/TempBatches",i)):(this.getView().getModel("ListItems").setProperty("/"+s+"/TempBatches",i),n.setModel(l,"BatchDD"))}o[s].MaterialNo=e.MaterialNo,o[s].MaterialDesc=e.MaterialDesc,o[s].UOM=e.UOM,o[s].Currency=e.Currency,o[s].materialEdit=!1;var g=[{Material:e.MaterialNo,MaterialDesc:this.TextAbstract(e.MaterialDesc,e.MaterialNo,15)}];this.getView().getModel("ListItems").setProperty("/"+s+"/MaterialTokens",g),gList.getModel("ListItems").setProperty("/",o),a.length,this.checkForNewLineItem(),this.setSelectedMaterialToTable_Exit&&this.setSelectedMaterialToTable_Exit(e,t,o,s)},handleMaterialTokenRemoveToolbar:function(e){"removed"===e.getParameter("type")&&(this.getView().getModel("LocalViewSetting").setProperty("/UMODD",[]),this.getView().getModel("LocalViewSetting")&&(this.getView().getModel("LocalViewSetting").setProperty("/MaterialTokens",[]),this.getView().getModel("LocalViewSetting").setProperty("/Batch",""),this.getView().getModel("LocalViewSetting").setProperty("/ReasonID",""),this.getView().getModel("LocalViewSetting").setProperty("/Quantity","")),this.getView().getModel("ToolBarBatchDD")&&this.getView().getModel("ToolBarBatchDD").setProperty("/",[]),this.getView().byId("sFAdjQty")&&this.getView().byId("sFAdjQty").setValue(""),this.getView().byId("sFReasonIDEdit")&&this.getView().byId("sFReasonIDEdit").setSelectedKey(""),this.getView().byId("sUIFromBatchDD")&&this.getView().byId("sUIFromBatchDD").setSelectedKey(""))},setSelectedMaterialToTable1:function(e){var t=[],o=[];if(e.CPStockItemSnos.results&&e.CPStockItemSnos.results.length>0){1===e.CPStockItemSnos.results.length&&(e.CPStockItemSnos.results[0].Batch,e.CPStockItemSnos.results[0].ManufacturingDate,e.CPStockItemSnos.results[0].ExpiryDate),o=e.CPStockItemSnos.results;for(var s=[],a=0;a<o.length;a++)""!==o[a].Batch&&s.push(o[a]);for(var i=0,r=0;r<s.length;r++){var l=i+=10;t.push({ItemNo:l,Batch:s[r].Batch,MaterialNo:e.MaterialNo,MaterialDesc:e.MaterialDesc,UOM:e.UOM,Currency:e.Currency,OrderMaterialGroupID:e.OrderMaterialGroupID,OrderMaterialGroupDesc:e.OrderMaterialGroupDesc,DMSDivision:e.DMSDivision,DmsDivisionDesc:e.DmsDivisionDesc,ManufacturingDate:s[r].ManufacturingDate,ExpiryDate:s[r].ExpiryDate,MRP:s[r].MRP,Quantity:s[r].Quantity,StockRefGUID:s[r].CPSnoGUID}),this.getView().getModel("ListItems").setProperty("/"+r+"/DiffQty",s[r].Quantity),this.getView().getModel("ListItems").setProperty("/"+r+"/StockRefGuid ",s[r].CPSnoGUID)}gList.getModel("ListItems").setProperty("/",t),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",t.length)}},checkForNewLineItem:function(){for(var e=this.getView().getModel("ListItems").getData(),t=0,o=0;o<e.length;o++)""!==e[o].MaterialNo&&(t+=1);t===e.length&&this.addExistingItem()},tokenRemoved:function(e){var t=e.getSource().getBindingContext("ListItems").getPath().split("/")[1];if("removed"===e.getParameter("type")){var o=this.getView().byId("UIListTable").getRows();e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/MaterialNo",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/MaterialDesc",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Batch",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Quantity","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/ManufacturingDate",null),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/ExpiryDate",null),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/MRP","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/UOM",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/UOMs",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Currency",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/TrnsfdQty","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/OrderMaterialGroupID",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DMSDivision",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/OrderMaterialGroupDesc",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DmsDivisionDesc",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/AdjQty","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DiffQty","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/GQuantity","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/SQuantity","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DQuantity","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/PurchasePrice","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DQuantity","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/ReasonID",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/RefDocNo",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/RefDocItemNo",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Remarks",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/TempBatches",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/BatchSuggestorModel",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/BatchTokens",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/MaterialTokens",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Batch","");o[t].getCells()}},tokenRemovedOth:function(e){var t=e.getSource().getBindingContext("ListItems").getPath().split("/")[1];if("removed"===e.getParameter("type")){gList.getModel("LocalViewSetting").setProperty("/CalculateButton",!0),gList.getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!0),gList.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!1);var o=this.getView().byId("UIListTable").getRows();e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/MaterialNo",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/MaterialDesc",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Batch",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Quantity","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/ManufacturingDate",null),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/ExpiryDate",null),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/MRP","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/UOM",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/UOMs",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Currency",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/TrnsfdQty","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/OrderMaterialGroupID",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DMSDivision",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/OrderMaterialGroupDesc",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DmsDivisionDesc",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/AdjQty","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DiffQty","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/GQuantity","0"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/SQuantity","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DQuantity","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/PurchasePrice","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/DQuantity","0.00"),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/ReasonID",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/RefDocNo",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/RefDocItemNo",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Remarks",""),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/TempBatches",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/BatchSuggestorModel",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/BatchTokens",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/MaterialTokens",[]),e.getSource().getBindingContext("ListItems").getModel().setProperty("/"+t+"/Batch","");o[t].getCells()}},tokenRemovedFilter:function(e){"removed"===e.getParameter("type")&&(gList.getModel("ListItems").setProperty("/",[]),gList.getModel("LocalViewSetting").setProperty("/ListItemsCount",1))},onBatchChange:function(e){s.hideMessagePopover(gList),s.removeAllMsgs();e.getSource().getBindingContext("ListItems");if("(Select)"!==e.getSource().getSelectedKey()){var t=e.getSource().getSelectedItem().getText().trim();e.getSource().getSelectedItem().getAdditionalText();t=t.split(" ")[0].trim();var o=e.getParameter("selectedItem").getBindingContext("ListItems"),a=(o.getPath(),o.getObject()),i=e.getSource().getBindingContext("ListItems"),r=(i.getObject(),i.getPath());this.getView().getModel("ListItems").getProperty("/");if(this.validateBatches(a,r,e),s.doErrMessageExist()){this.getView().getModel("ListItems").setProperty(r+"/MRP",a.MRP),this.getView().getModel("ListItems").setProperty(r+"/ManufacturingDate",a.ManufacturingDate),this.getView().getModel("ListItems").setProperty(r+"/ExpiryDate",a.ExpiryDate),this.getView().getModel("ListItems").setProperty(r+"/PrimaryTradeDis",a.PriDiscountPer),this.getView().getModel("ListItems").setProperty(r+"/UnitPrice",a.UnitPrice),this.getView().getModel("ListItems").setProperty(r+"/Quantity",a.Quantity),this.getView().getModel("ListItems").setProperty(r+"/StockRefGUID",a.CPSnoGUID),this.getView().getModel("ListItems").setProperty(r+"/Batch",a.Batch);var l=this.getView().getModel("ListItems").getProperty(r+"/AdjQty");if(l&&a.Quantity){var n=parseFloat(a.Quantity)-parseFloat(l);n=parseFloat(n).toFixed(2),this.getView().getModel("ListItems").setProperty(r+"/DiffQty",n)}}else e.getSource().setSelectedKey("(Select)"),s.showMessagePopover(gList)}},validateBatches:function(e,t){var o=this.getView().getModel("ListItems").getProperty("/"),a=parseInt(t.substring(t.lastIndexOf("/")+1)),i=e.MaterialNo,r=e.CPSnoGUID,l=e.Batch;e.TransRefNo;if(s.removeAllMsgs(),"1"===this.getView().byId("StockTypes").getSelectedKey()){for(var g=0;g<o.length;g++)if(a!==g&&i===o[g].MaterialNo&&l===o[g].Batch){var c=n.getText("SSInvoiceCreate.Message.BatchRepeat",o[a].ItemNo);s.addMsg_MsgMgr(c,"error","/UI/Batch-"+a);break}}else for(g=0;g<o.length;g++)if(a!==g&&i===o[g].MaterialNo&&l===o[g].Batch&&o[g].StockRefGUID===r){c=n.getText("SSInvoiceCreate.Message.BatchRepeat",o[a].ItemNo);s.addMsg_MsgMgr(c,"error","/UI/Batch-"+a);break}},callCPStockItemsForSNOs:function(e){var t=gList.getModel("SSGW_MM");t.setHeaders({"x-arteria-loginid":a.getCurrentUsers("CPStockItemSnos","read")}),t.read("/CPStockItemDetails(guid\'"+e.CPStockItemGUID+"\')",{urlParameters:{$expand:"CPStockItemSnos"},success:function(t){t=s.formatItemsOData({oData:t}),e.callBack({aData:t})},error:function(t){e.callBack({aData:null})}}),this.callCPStockItemsForSNOs_Exit&&this.callCPStockItemsForSNOs_Exit()},onRouteMatched:function(e){if("ListPage"===e.getParameter("name")||"SearchListPage"===e.getParameter("name")){M.open();var t=this,o=new sap.ui.model.json.JSONModel([]);this.getView().setModel(o,"ListItems"),this.setDefaultSettings();var s=this.getView().getModel("PUGW");a.setODataModel(s),a.getCustomerInputType(function(e){t.sCustomerInputType=e,t.getView().getModel("LocalViewSetting").setProperty("/sCustomerInputType",e),t.getCustomers("",function(){gListPageView.setBusy(!1)})})}},selectCPTypes:function(e){var t=e.getSource().getSelectedKey();this.removeAllTokenforItems(),this.getView().getModel("ListItems")&&this.getView().getModel("ListItems").setProperty("/",[]),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",1),"X"!==this.getView().getModel("LocalViewSetting").getProperty("/ProductFeatureValue")&&(this.setDataModel(),this.getView().getModel("LocalViewSetting")&&(this.getView().getModel("LocalViewSetting").setProperty("/MaterialTokens",[]),this.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",[]),this.getView().getModel("LocalViewSetting").setProperty("/Batch",""),this.getView().getModel("LocalViewSetting").setProperty("/ReasonID",""),this.getView().getModel("LocalViewSetting").setProperty("/Quantity","")),this.getView().getModel("ToolBarBatchDD")&&this.getView().getModel("ToolBarBatchDD").setProperty("/",[]),this.getView().byId("sFAdjQty")&&this.getView().byId("sFAdjQty").setValue(""),this.getView().byId("sFReasonIDEdit")&&this.getView().byId("sFReasonIDEdit").setSelectedKey(""),this.getView().byId("sUIFromBatchDD")&&this.getView().byId("sUIFromBatchDD").setSelectedKey("")),this.getView().byId("inputSKUGroup").removeAllTokens(),this.getView().byId("inputDMSDivision").setSelectedKeys(),this.getView().getModel("LocalViewSetting").setProperty("/MaterialVisible",!1),""!==t?(e.getSource().setValueState("None"),e.getSource().setValueStateText(""),this.setMaterialModel(),this.setSKUGRPModel(),"1"===t?(this.getView().byId("StockSubType").setVisible(!1),this.getView().byId("StockSubTypes").setSelectedKey("")):"2"===t?(this.getView().byId("StockSubType").setMandatory(!0),this.getView().byId("StockSubType").setVisible(!0)):(this.getView().byId("StockSubType").setMandatory(!1),this.getView().byId("StockSubType").setVisible(!1))):(this.getView().byId("StockSubType").setMandatory(!1),this.getView().byId("StockSubType").setVisible(!1),this.getView().getModel("MatSuggestorModel")&&this.getView().getModel("MatSuggestorModel").setProperty("/",[]),this.getView().getModel("SKUGRPSuggestorModel")&&this.getView().getModel("SKUGRPSuggestorModel").setProperty("/",[])),2===this.getView().byId("SelectGroupIDAW").getSelectedIndex()&&gList.getModel("ListItems").setData([])},getCurrentServerDate:function(e,t){e._oComponent.getModel("PCGW").read("/Today",{dataType:"json",success:function(e){t&&t(e.Today.Today)},error:function(e){t&&l.error("Cannot laod Server Date",{styleClass:"sapUiSizeCompact"})}})},setHeaderData:function(){var e=new Object;e.MaterialDocDate=null;var t=new sap.ui.model.json.JSONModel;t.setData(e),this._oComponent.setModel(t,"MaterialDocs")},onChangeDate:function(){},setDmsValidation:function(){var e=n.getText("common.message.pleaseselect",[this.getView().byId("DMSDivision").getLabel()]);s.addMsg_MsgMgr(e,"error","DMSDivision")},onReset:function(){this.clearTokens(["inputCustomerNo","inputSKUGroup"]),void 0!==gList.getModel("ListItems")&&(gList.getModel("ListItems").setProperty("/",[]),this.resetUITable()),this.onReset_Exit&&this.onReset_Exit()},ontokenChange:function(e){"removed"===e.getParameters().type&&0===this.getView().byId("inputCustomerNo").getTokens().length&&void 0!==gList.getModel("ListItems")&&(gList.getModel("ListItems").setProperty("/",{}),this.resetUITable(),this._oComponent.getModel("LocalViewSetting").setProperty("/ListItemsCount",1))},resetUITable:function(){s.clearUITable(gList,"UIListTable","ListItems"),this.resetUITable_Exit&&this.resetUITable_Exit()},clearTokens:function(e){for(var t=0;t<e.length;t++)gList.byId(e[t]).removeAllTokens()},setDefaultSettings:function(){var e=new sap.ui.model.json.JSONModel;this.viewSettingData={DateFormat:a.getDateFormat(),PageHeader:n.getText("List.title"),TableRowCount:0,messageLength:0,ListItemsCount:1,MaterialItemCount:0,CustomerColumnVisibleInF4:!0,CustomerDD:!1,CustomerMC:!1,CustomerVH:!1,editMode:!0,reviewMode:!1,StockFieldVisibility:!0,CustomerNo:"",CustomerName:"",SAVisible:!0,addstkVisible:!1,sCustomerInputType:"",createstkButton:!0,addnewVisible:!0,Adjvisible:!1,StockMaterial:!0,OtherMaterial:!1,gCPTypeID:"",gCPGUID:"",Distributor:!0,MicroDistributor:!1,tokenTextLength:10,prdFrEnabled:!0,prdFrMatEnabled:!1,stockMaterialT1:!1,stockMaterialT2:!0,ProductFeatureValue:"",MaterialVisible:!1,CalculateButton:!1,GUID:s.generateUUID(),stockMaterialT3:!1,AttachmentsVisible:!0,StockMaterialReview:!0},e.setData(this.viewSettingData),this._oComponent.setModel(e,"LocalViewSetting"),this.getView().setModel(e,"LocalViewSetting"),this.setDefaultSettings_Exit&&this.setDefaultSettings_Exit()},ClearValueState:function(e){gList.getModel("ListItems").getData();for(var t=0;t<gList.getModel("ListItems").getData().length;t++)for(var o=0;o<e.length;o++)gList.getModel("ListItems").setProperty("/"+t+"/"+e[o],"None")},onChangeGQty:function(e){this.ClearValueState(["MRPValueState"]),s.removeAllMsgs(),s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length);var t=e.getSource().getBindingContext("ListItems"),o=this.getView().byId("id_Qty").getText(),a=t.getProperty("ItemNo"),i=e.getSource().getValue();if(/[ !@#$%^&*()_+\\-=\\[\\]{};\':.`~"\\\\|,<>\\/a-z A-Z?]/.test(i)){e.getSource().setValue("0");var r=n.getText("ROCreate.message.ValidQty",[o,a]);s.addMsg_MsgMgr(r,"error","/UI/Quantity-"),s.doErrMessageExist()?(e.getSource().setValueState(null),e.getSource().setValueStateText(""),this.ClearValueState(["QuantityValueState"]),gList.getModel("LocalViewSetting").setProperty("/CalculateButton",!0),gList.getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),gList.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!1)):(this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList))}},onChangeMRP:function(e){com.arteriatech.ppc.utils.js.Common.formatNumber(e),this.ClearValueState(["MRPValueState"])},onChangePurchasePrice:function(e){com.arteriatech.ppc.utils.js.Common.formatNumber(e),this.ClearValueState(["UnitPriceValueState"])},onChangeBatch:function(){gList.getModel("LocalViewSetting").setProperty("/CalculateButton",!0),gList.getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),gList.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!1),this.validateOtherItems()?(this.getView().getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!0),s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length)):(s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),gList.getModel("LocalViewSetting").setProperty("/messageLength",0),this.getView().getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),sap.ui.getCore().getMessageManager().getMessageModel().getData().length)},onChangeGoodQty:function(){gList.getModel("LocalViewSetting").setProperty("/CalculateButton",!0),gList.getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),gList.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!1),this.validateOtherItems()?(this.getView().getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!0),s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length)):(s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),gList.getModel("LocalViewSetting").setProperty("/messageLength",0),this.getView().getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),sap.ui.getCore().getMessageManager().getMessageModel().getData().length)},onUMOChange:function(){gList.getModel("LocalViewSetting").setProperty("/CalculateButton",!0),gList.getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),gList.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!1),this.validateOtherItems()?(this.getView().getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!0),s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length)):(s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),gList.getModel("LocalViewSetting").setProperty("/messageLength",0),this.getView().getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),sap.ui.getCore().getMessageManager().getMessageModel().getData().length)},onChangeRefDocNo:function(e){this.ClearValueState(["RefDocNoValueState"])},onChangeRefDocItemNo:function(e){this.ClearValueState(["RefDocItemNoValueState"])},setVisibility:function(e,t){for(var o=0;o<e.length;o++)this.getView().byId(e[o]).setVisible(t)},onSelect1:function(e){s.removeAllMsgs();if(this.getView().byId("StockTypes").setSelectedKey(""),gList.getModel("LocalViewSetting").setProperty("/MaterialVisible",!1),this.getView().byId("StockSubType").setVisible(!1),this.getView().byId("inputSKUGroup").removeAllTokens(),this.getView().byId("inputMaterial1").removeAllTokens(),this.getView().byId("inputsDMSDivision").setSelectedKeys(""),gList.getModel("LocalViewSetting").setProperty("/messageLength",0),this.resetOtherMaterialTable(),1===this.getView().byId("SelectGroupIDAW").getSelectedIndex()){gList.getModel("LocalViewSetting").setProperty("/CalculateButton",!0),gList.getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),gList.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!1);var t=["StockType","SKUGroup"];this.removeAllTokenforItems(),this.removeAllTokenforItemsRadio(),this.getView().getModel("ListItems")&&this.getView().getModel("ListItems").setProperty("/",[]),this.getView().getModel("OtherMatSuggestorModel")&&this.getView().getModel("OtherMatSuggestorModel").setProperty("/",[]),this.getView().getModel("MatSuggestorModel")&&this.getView().getModel("MatSuggestorModel").setProperty("/",[]),this.setVisibility(t,!1),this.setDataModel(),this.getView().getModel("LocalViewSetting").setProperty("/prdFrMatEnabled",!1),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT2",!1),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT1",!1),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT3",!1),this.getView().getModel("LocalViewSetting").setProperty("/StockMaterialReview",!0),this.setOtherMaterialSuggestion()}else{if(gList.getModel("LocalViewSetting").setProperty("/StockMaterial",!0),gList.getModel("LocalViewSetting").setProperty("/CalculateButton",!1),gList.getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),gList.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!0),this.getView().getModel("ListItems")&&this.getView().getModel("ListItems").setProperty("/",[]),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",1),"X"!==this.getView().getModel("LocalViewSetting").getProperty("/ProductFeatureValue")){this.setDataModel();t=["StockType"];2===this.getView().byId("SelectGroupIDAW").getSelectedIndex()?(this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT1",!1),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT3",!0),this.getView().getModel("LocalViewSetting").setProperty("/Uploadatacount",0),this.getView().getModel("LocalViewSetting").setProperty("/StockMaterialReview",!1),gList.getModel("ListItems").setData([]),gList.byId("fileUploader").setValue("")):(this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT1",!0),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT3",!1),this.getView().getModel("LocalViewSetting").setProperty("/StockMaterialReview",!0)),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT2",!1),this.getView().getModel("LocalViewSetting").setProperty("/prdFrMatEnabled",!1),this.setVisibility(t,!0)}else{t=["StockType","SKUGroup"];this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT2",!0),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT1",!1),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT3",!1),this.getView().getModel("LocalViewSetting").setProperty("/prdFrMatEnabled",!0),this.getView().getModel("LocalViewSetting").setProperty("/StockMaterialReview",!0),this.setVisibility(t,!0)}}},setOtherMaterialSuggestion:function(){var e=this._oComponent.getModel("SFGW_MST"),t=s.getKeysFromMultiCombo(this.getView(),"inputsDMSDivision"),o=new Array;o=s.setODataModelReadFilter("","",o,"LoginID","",[this.getCurrentUsers("Materials","read")],!1,!1,!1),o=s.setODataModelReadFilter("","",o,"DivisionID","",t.split(";"),!0,!1,!1),e.read("/Materials",{filters:o,success:function(e){e=s.formatItemsOData({oData:e.results});var t=new sap.ui.model.json.JSONModel;t.setData(e),gList.setModel(t,"OtherMatSuggestorModel")},error:function(e){}})},setDataOtherModel:function(){for(var e=[],t=0;t<5;t++){var o={MaterialNo:"",MaterialDesc:"",CPStockItemGUID:s.generateUUID(),ExpiryDate:null,OrderMaterialGroupID:"",OrderMaterialGroupDesc:"",ManufacturingDate:null,GQuantity:"0",DQuantity:"0",SQuantity:"0",Currency:"",UOM:"",Batch:"",PurchasePrice:"0.00",BatchValueState:"None",BatchValueStateText:"",UOMValueState:"None",UOMValueStateText:"",MRP:"0.00",MRPValueState:"None",MRPValueStateText:"",UnitPrice:"0.00",UnitPriceValueState:"None",UnitPriceValueStateText:"",InvoiceItemGUID:"",QuantityValueState:"None",MDateValueState:"None",MDateValueStateText:"",EDateValueState:"None",EDateValueStateText:"",Remarks:"",RemarksState:"None",DeletionInd:"",BatchOrSerial:""};e.push(o)}var a=new sap.ui.model.json.JSONModel(e);gList.setModel(a,"ListItems"),gList.getModel("LocalViewSetting").setProperty("/ListItemsCount",e.length)},onSelect:function(e){for(var t=!1,o=0;o<this.getView().getModel("ListItems").getData().length;o++)!0===this.getView().getModel("ListItems").getData()[o].Selected&&(t=!0,this._oComponent.getModel("LocalViewSetting").setProperty("/addnewVisible",!1),this._oComponent.getModel("LocalViewSetting").setProperty("/createstkButton",!0));t||(this._oComponent.getModel("LocalViewSetting").setProperty("/addnewVisible",!0),this._oComponent.getModel("LocalViewSetting").setProperty("/createstkButton",!1))},setMaterialItemModel:function(){var e=new sap.ui.model.json.JSONModel([]);gListPageView.setModel(e,"TestRequestCallBacks"),this.setMaterialItemModel_Exit&&this.setMaterialItemModel_Exit()},onChangeReasonDesc:function(e){if(""!==e.getSource().getSelectedKey()){var t=e.getSource().getBindingContext("ListItems").getPath();e.getSource().getBindingContext("ListItems").getModel().setProperty(t+"/ReasonDesc",e.getSource().getSelectedItem().getText().split(" - ")[1].trim())}},validateNumeric1:function(e){s.removeAllMsgs(),s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length);var t=e.getSource().getBindingContext("ListItems"),o=this.getView().byId("FAdjQtyEdit").getText(),a=t.getProperty("ItemNo"),i=e.getSource().getValue();if(/[ !@#$%^&*()_+\\-=\\[\\]{};\':."\\\\|,<>\\/a-z A-Z?]/.test(i)){e.getSource().setValue("");var r=n.getText("ROCreate.message.ValidQty",[o,a]);s.addMsg_MsgMgr(r,"error","/UI/Quantity-"),s.doErrMessageExist()?(e.getSource().setValueState(null),e.getSource().setValueStateText("")):(this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList))}},onChangeAdjQty:function(e){com.arteriatech.ppc.utils.js.Common.formatNumber(e),s.removeAllMsgs(),s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length);var t=e.getSource().getBindingContext("ListItems"),o=t.getPath(),a=t.getProperty("Quantity")+"",i=t.getProperty("AdjQty")+"",r=t.getProperty("MaterialNo");this.getView().getModel("ListItems").setProperty(o+"/QuantityValueState","None"),this.getView().getModel("ListItems").setProperty(o+"/QuantityValueStateText","");var l="",g="0",c=!0;""===i||void 0===i||null===i||"NaN"===i?(c=!1,l=n.getText("List.Input.Adjqty.AdjQtyEmpty",r),this.getView().getModel("ListItems").setProperty(o+"/QuantityValueState","Error"),this.getView().getModel("ListItems").setProperty(o+"/QuantityValueStateText",l),s.addMsg_MsgMgr(l,"error","/UI/FAdjQty")):i.indexOf(".")>-1?(c=!1,l=n.getText("List.Input.Adjqty.AdjQtyWithZero",r),this.getView().getModel("ListItems").setProperty(o+"/QuantityValueState","Error"),this.getView().getModel("ListItems").setProperty(o+"/QuantityValueStateText",l),s.addMsg_MsgMgr(l,"error","/UI/FAdjQty")):parseFloat(i)<0?(c=!1,l=n.getText("List.Input.Adjqty.AdjQtyWithNegative",r),this.getView().getModel("ListItems").setProperty(o+"/QuantityValueState","Error"),this.getView().getModel("ListItems").setProperty(o+"/QuantityValueStateText",l),s.addMsg_MsgMgr(l,"error","/UI/FAdjQty")):parseFloat(i)>parseFloat(a)?(g=parseFloat(a)-parseFloat(i),g=parseFloat(g).toFixed(2),this.getView().getModel("ListItems").setProperty(o+"/DiffQty",g)):parseFloat(i)<parseFloat(a)?(g=parseFloat(a)-parseFloat(i),g=parseFloat(g).toFixed(2),this.getView().getModel("ListItems").setProperty(o+"/DiffQty",g)):parseFloat(i)===parseFloat(a)&&(l=n.getText("List.Input.Adjqty.AdjQtyWithZero",r),g=parseFloat(a)-parseFloat(i),g=parseFloat(g).toFixed(2),this.getView().getModel("ListItems").setProperty(o+"/DiffQty",g)),c||(this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList))},getPrdFeatures:function(){var e=this,t=gList.getModel("PCGW"),o=new Array;o=s.setODataModelReadFilter(gList,"",o,"Typeset",sap.ui.model.FilterOperator.EQ,["SS"],!1,!1,!1),o=s.setODataModelReadFilter(gList,"",o,"Types","",["STADJSELCT"],!1,!1,!1),e.getDropdown(t,"ConfigTypsetTypeValues",o,"Types","TypeValue",M,gList,"PrdFr1","Select",function(t){"X"===t[0].Text?(gList.getModel("LocalViewSetting").setProperty("/stockMaterialT2",!0),gList.getModel("LocalViewSetting").setProperty("/stockMaterialT1",!1),gList.getModel("LocalViewSetting").setProperty("/prdFrMatEnabled",!0),gList.getModel("LocalViewSetting").setProperty("/ProductFeatureValue",t[0].Text),gList.getModel("ListItems")&&gList.getModel("ListItems").setProperty("/",[]),gList.getModel("LocalViewSetting").setProperty("/ListItemsCount",1)):(e.setDataModel(),gList.getModel("LocalViewSetting").setProperty("/stockMaterialT2",!1),gList.getModel("LocalViewSetting").setProperty("/stockMaterialT1",!0),gList.getModel("LocalViewSetting").setProperty("/prdFrMatEnabled",!1),gList.getModel("LocalViewSetting").setProperty("/ProductFeatureValue",""))})},onPrdFrChange:function(e){this.getView().getModel("ListItems")&&this.getView().getModel("ListItems").setProperty("/",[]),"X"===e.getSource().getSelectedKey()?(this.getView().getModel("LocalViewSetting").setProperty("/prdFrMatEnabled",!0),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT2",!0),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT1",!1),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",1)):(this.getView().getModel("LocalViewSetting").setProperty("/prdFrMatEnabled",!1),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT2",!1),this.getView().getModel("LocalViewSetting").setProperty("/stockMaterialT1",!0),this.setDataModel())},onDateSelectionChanged:function(e){var t=this,o=e.getSource(),s=e.getParameter("selectedItem").getKey();a.openManualDateSelectionDialog(this,s,o,this.PreviousSelectedKeyDate,"DateViewSetting",n,"inputDate",function(e){t.Date.FromDate=e.fromDate,t.Date.ToDate=e.toDate}),this.PreviousSelectedKeyDate=e.getParameter("selectedItem").getKey(),"MS"!==e.getParameter("selectedItem").getKey()&&(this.PreviousSelectedKeyDate=e.getParameter("selectedItem").getKey())},confirmDialog:function(){var e=this,t=new sap.m.Dialog({title:"Confirm",type:"Message",stete:"Warning",icon:"sap-icon://message-warning",content:new sap.m.Text({text:n.getText("List.Footer.Clear.confirmation")}),beginButton:new sap.m.Button({text:"Yes",press:function(){e.clearAll(),t.close()}}),endButton:new sap.m.Button({text:"No",press:function(){t.close()}}),afterClose:function(){t.destroy()}});t.open()},clearAll:function(){this.onReset(),s.removeAllMsgs(),s.hideMessagePopover(gList),gList.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length)},setCustomersModel:function(){var e=this,t=this._oComponent.getModel("SFGW_MST");t.attachRequestSent(function(){M.open()}),t.attachRequestCompleted(function(){M.close()});var o=new Array;o=s.setODataModelReadFilter("","",o,"LoginID","",[a.getCurrentUsers("Customers","read")],!1,!1,!1),t.read("/Customers",{filters:o,urlParameters:{$select:"CustomerNo,Name"},success:function(t){var o=new sap.ui.model.json.JSONModel;o.setData(t.results),e._oComponent.setModel(o,"CustomerSuggestorModel")},error:function(){}})},setSKUGRPModel:function(){var e=this,t=this._oComponent.getModel("SFGW_MST"),o=s.getKeysFromMultiCombo(this.getView(),"inputDMSDivision"),i=new Array;a.getCurrentLoggedUser({sServiceName:"OrderMaterialGroups",sRequestType:"read"},function(a){i=s.setODataModelReadFilter("","",i,"LoginID","",[a],!1,!1,!1),i=s.setODataModelReadFilter("","",i,"DMSDivision","",o.split(";"),!0,!1,!1),t.read("/OrderMaterialGroups",{filters:i,success:function(t){var o=[];0===o.length&&o.push(t.results[0]);for(var s=0;s<t.results.length;s++){for(var a=!1,i=0;i<o.length;i++)o[i].OrderMaterialGroupID===t.results[s].OrderMaterialGroupID&&(a=!0);a||o.push(t.results[s])}var r=new sap.ui.model.json.JSONModel;r.setData(o),e._oComponent.setModel(r,"SKUGRPSuggestorModel")},error:function(){}})})},handleSKUGRPSuggest:function(e){this.validateMandatory("",""),s.doErrMessageExist()?s.handleSuggest({oEvent:e,aProperties:["OrderMaterialGroupID","OrderMaterialGroupDesc"],sBinding:"suggestionItems"}):(e.getSource().setValue(""),s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error"))},suggestionSKUGRPItemSelected:function(e){var t=this;this.suggestionSKUItemSelected({oEvent:e,thisController:this,sModelName:"SKUGRPSuggestorModel",sKey:"OrderMaterialGroupID",sDescription:"OrderMaterialGroupDesc"},function(e,o,s){t.getView().getModel("ListItems")&&t.getView().getModel("ListItems").setProperty("/",[]),t.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",1);var a=t.getView().getModel("LocalViewSetting").getProperty("/ProductFeatureValue");t.getView().getModel("LocalViewSetting").getProperty("/StockMaterial")?"X"!==a&&t.setDataModel():t.setDataModel(),t.setMaterialModel()}),this.getView().byId("inputSKUGroup").setValueState("None"),this.getView().byId("inputSKUGroup").setValueStateText("")},suggestionSKUItemSelected:function(e,t){e.oEvent.getSource().setValueState("None"),e.oEvent.getSource().setValueStateText("");var o=e.oEvent.getParameter("selectedItem").getBindingContext(e.sModelName).getPath();if(e.sGUID){var s=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sGUID),a=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sKey),i=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:s,text:this.TextAbstract(i,a,10),tooltip:i+" ("+a+")"})),e.oEvent.getSource().setValue("")}else{a=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sKey),i=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:a,text:this.TextAbstract(i,a,10),tooltip:i+" ("+a+")"})),e.oEvent.getSource().setValue("")}var r=e.thisController.getView().getModel(e.sModelName).getProperty(o);t&&t(a,i,r)},onChangeSKUGRP:function(e){var t=this;this.validateMandatory("",""),s.doErrMessageExist()?s.suggestionOnChange({oEvent:e,thisController:this,sModelName:"SKUGRPSuggestorModel",sKey:"OrderMaterialGroupID",sDescription:"OrderMaterialGroupDesc"},function(o,a,i,r){if(""!==o)if(a)t.setMaterialModel();else{var l=n.getText("List.Filterbar.MultiInput.custNoError",[t.getView().byId("SKUGroup").getLabel()]);e.getSource().setValueStateText(l),s.displayMsg_MsgBox(t.getView(),l,"error")}}):(e.getSource().setValue(""),s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error"))},getSelectedDMSDiv:function(e){this.removeAllTokenforItems(),this.removeAllTokenforOtherItems(),this.getView().byId("inputSKUGroup").removeAllTokens(),this.getView().getModel("ListItems")&&this.getView().getModel("ListItems").setProperty("/",[]),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",1);var t=this.getView().getModel("LocalViewSetting").getProperty("/ProductFeatureValue");this.getView().getModel("LocalViewSetting").getProperty("/StockMaterial")?"X"!==t&&this.setDataModel():this.setDataModel(),this.getView().getModel("LocalViewSetting").getProperty("/stockMaterialT1")||this.getView().getModel("LocalViewSetting").getProperty("/stockMaterialT2")?(this.setSKUGRPModel(),this.setMaterialModel()):this.setOtherMaterialSuggestion()},changeSubStockType:function(e){this.removeAllTokenforItems(),this.getView().byId("inputDMSDivision").setSelectedKeys([]),this.getView().getModel("ListItems")&&this.getView().getModel("ListItems").setProperty("/",[]),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",1),"X"!==this.getView().getModel("LocalViewSetting").getProperty("/ProductFeatureValue")&&(this.setDataModel(),this.getView().getModel("LocalViewSetting")&&(this.getView().getModel("LocalViewSetting").setProperty("/MaterialTokens",[]),this.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",[]),this.getView().getModel("LocalViewSetting").setProperty("/Batch",""),this.getView().getModel("LocalViewSetting").setProperty("/ReasonID",""),this.getView().getModel("LocalViewSetting").setProperty("/Quantity","")),this.getView().getModel("ToolBarBatchDD")&&this.getView().getModel("ToolBarBatchDD").setProperty("/",[]),this.getView().byId("sFAdjQty")&&this.getView().byId("sFAdjQty").setValue(""),this.getView().byId("sFReasonIDEdit")&&this.getView().byId("sFReasonIDEdit").setSelectedKey(""),this.getView().byId("sUIFromBatchDD")&&this.getView().byId("sUIFromBatchDD").setSelectedKey(""))},handleDMSDivSuggest:function(e){s.handleSuggest({oEvent:e,aProperties:["DMSDivision","DmsDivisionDesc"],sBinding:"suggestionItems"})},suggestionDMSDivItemSelected:function(e){s.suggestionItemSelected({oEvent:e,thisController:this,sModelName:"DMSDivSuggestorModel",sKey:"DMSDivision",sDescription:"DmsDivisionDesc"},function(){}),this.getView().byId("inputDMSDivision").setValueState("None"),this.getView().byId("inputDMSDivision").setValueStateText("")},onChangeDMSDiv:function(e){var t=this;s.suggestionOnChange({oEvent:e,thisController:this,sModelName:"DMSDivSuggestorModel",sKey:"DMSDivision",sDescription:"DmsDivisionDesc"},function(e,o,a,i){if(""!==e&&!o){var r=n.getText("List.Filterbar.MultiInput.custNoError",[t.getView().byId("DMSDivision").getLabel()]);s.displayMsg_MsgBox(t.getView(),r,"error")}})},deleteitem:function(e){var t=e.getSource().getBindingContext("ListItems").getPath().split("")[1],o=e.getSource().getBindingContext("ListItems").getModel();o.getData().splice(t,1),o.refresh();for(var s=0;s<o.getData().length;s++)o.getData()[s].slno=s+1;this.getView().getModel("LocalViewSetting").setProperty("/MaterialItemCount",o.getData().length),o.refresh()},getParametersFromContext:function(e){var t=this;this.iTotalValueHelps=4;var o=s.getPropertyValueFromContextPath(t.contextPath,"Distributor"),i=s.getPropertyValueFromContextPath(t.contextPath,"OrderMaterialGroupID"),r=(s.getPropertyValueFromContextPath(t.contextPath,"TicketDate"),s.getPropertyValueFromContextPath(t.contextPath,"DMSDivision")),l=s.getPropertyValueFromContextPath(this.contextPath,"MaterialNo"),n=a.getCurrentUsers("CPStockItems","read"),g=s.getPropertyValueFromContextPath(t.contextPath,"StockSubTypeID"),c=s.getPropertyValueFromContextPath(t.contextPath,"StockTypeID");if(t.getView().getModel("MaterialDocs").setProperty("/FromGUID",o),"VH"===this.sCustomerInputType)if(this.setCustomerInputVisibility(),""!==o){var d=new Array;d=s.setODataModelReadFilter(this.getView(),"inputCustomerNo",d,"CustomerNo",sap.ui.model.FilterOperator.EQ,o.split(";"),!0,!1,!1);var u=this._oComponent.getModel("SFGW_MST");a.createTokens(u,"Customers",d,"CustomerNo","Name",this.getView().byId("inputCustomerNo"),function(){t.callService()})}else t.getCustomers(o),t.callService();else t.getCustomers(o);if(r?(this.getView().byId("inputDMSDivision").setSelectedKeys(r),t.callService()):t.callService(),""!==i){d=new Array;d=s.setODataModelReadFilter(this.getView(),"inputSKUGroup",d,"OrderMaterialGroupID",sap.ui.model.FilterOperator.EQ,i.split(";"),!0,!1,!1),d=s.setODataModelReadFilter(this.getView(),"",d,"LoginID",sap.ui.model.FilterOperator.EQ,[n],!1,!1,!1);u=this._oComponent.getModel("SFGW_MST");a.createTokens(u,"OrderMaterialGroups",d,"OrderMaterialGroupID","OrderMaterialGroupDesc",this.getView().byId("inputSKUGroup"),function(){t.callService()})}else t.callService();if(""!==l){var M=new Array;M=s.setODataModelReadFilter(this.getView(),"",M,"CPGUID",sap.ui.model.FilterOperator.EQ,[o],!0,!1,!1),M=s.setODataModelReadFilter(this.getView(),"Material",M,"MaterialNo",sap.ui.model.FilterOperator.EQ,l.split(";"),!0,!1,!1),M=s.setODataModelReadFilter(this.getView(),"",M,"CPTypeID",sap.ui.model.FilterOperator.EQ,["01"],!0,!1,!1),M=s.setODataModelReadFilter(this.getView(),"",M,"StockOwner",sap.ui.model.FilterOperator.EQ,["01"],!0,!1,!1),M=s.setODataModelReadFilter(this.getView(),"",M,"StockTypeID",sap.ui.model.FilterOperator.EQ,["1"],!0,!1,!1);u=this._oComponent.getModel("SSGW_MM");a.createTokens(u,"CPStockItems",M,"MaterialNo","MaterialDesc",this.getView().byId("inputMaterial"),function(){t.callService()})}else t.callService();this.getView().byId("StockTypes").setSelectedKey(c),this.getView().byId("StockSubTypes").setSelectedKey(g),""!==c?"1"===c?(this.getView().byId("StockSubType").setVisible(!1),this.getView().byId("StockSubTypes").setSelectedKey("")):"2"===c?(this.getView().byId("StockSubType").setMandatory(!0),this.getView().byId("StockSubType").setVisible(!0)):(this.getView().byId("StockSubType").setMandatory(!1),this.getView().byId("StockSubType").setVisible(!1)):(this.getView().byId("StockSubType").setMandatory(!1),this.getView().byId("StockSubType").setVisible(!0)),this.getParametersFromContext_Exit&&this.getParametersFromContext_Exit()},callService:function(){this.iTotalValueHelps--,0===this.iTotalValueHelps&&(gListPageView.setBusy(!1),this.getTableDetails())},onSearch:function(){if(s.removeAllMsgs(),this.getView().getModel("ListItems")&&(this.getView().getModel("ListItems").setProperty("/",[]),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",1)),this.checkValueState())if(this.validateMandatory(),s.doErrMessageExist()){var e=this.prepareContext();this.getView().getModel("LocalViewSetting").setProperty("/StockMaterial",!0),this.getView().getModel("LocalViewSetting").setProperty("/OtherMaterial",!1),void 0!==this.contextPath&&this.contextPath===e?(this.resetUITable(),this.getTableDetails()):this._oRouter.navTo("SearchListPage",{contextPath:e},!1)}else s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error");else s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error")},validateMandatory:function(e,t){if(s.removeAllMsgs(),"VH"===this.sCustomerInputType)if(0===this.getView().byId("inputCustomerNo").getTokens().length){this.byId("inputCustomerNo").setValueState(sap.ui.core.ValueState.Error);var o=n.getText("List.FilterBar.Validation.custNo",[this.getView().byId("CustomerNo").getLabel()]);this.byId("inputCustomerNo").setValueStateText(o),s.addMsg_MsgMgr(o,"error","FG_CustomerNo")}else""===this.byId("inputCustomerNo").getValue()&&this.byId("inputCustomerNo").setValueState(sap.ui.core.ValueState.None);else if(""===this.getView().byId("customer").getSelectedKey()){o=n.getText("List.FilterBar.Validation.custNo",[this.getView().byId("Customer").getLabel()]);s.addMsg_MsgMgr(o,"error","FG_CustomerNo")}if(this.getView().getModel("LocalViewSetting").getProperty("/StockMaterial")){if(""===this.getView().byId("StockTypes").getSelectedKey()){var a=n.getText("List.FilterBar.Validation.custNo",[this.getView().byId("StockType").getLabel()]);s.addMsg_MsgMgr(a,"error","StockType")}if("2"===this.getView().byId("StockTypes").getSelectedKey()&&""===this.getView().byId("StockSubTypes").getSelectedKey()){var i=n.getText("List.FilterBar.Validation.custNo",[this.getView().byId("StockSubType").getLabel()]);s.addMsg_MsgMgr(i,"error","StockSubType")}}this.validateMandatory_Exit&&this.validateMandatory_Exit()},prepareContext:function(){var e="",t="";"DD"===this.sCustomerInputType?t=this.getSelectedCustomerCode():"VH"===this.sCustomerInputType&&(t=s.getKeysFromTokens(this.getView(),"inputCustomerNo"));var o=this.getView().byId("StockTypes").getSelectedKey(),a=this.getView().byId("StockSubTypes").getSelectedKey(),i=s.getKeysFromTokens(this.getView(),"inputSKUGroup"),r=s.getKeysFromTokens(this.getView(),"inputMaterial");return e="Distributor="+t+",OrderMaterialGroupID="+i+",Date="+this.getView().getModel("MaterialDocs").getProperty("/MaterialDocDate")+",DMSDivision="+s.getKeysFromMultiCombo(this.getView(),"inputDMSDivision")+",StockTypeID="+o+",StockSubTypeID="+a+",MaterialNo="+r+")",this.prepareContext_Exit&&(e=this.prepareContext_Exit(e)),e},getTableDetails:function(e){var t=this,o=this.getView();M.open();var i=s.getPropertyValueFromContextPath(t.contextPath,"DMSDivision"),r=a.getCurrentUsers("CPStockItems","read"),l=this._oComponent.getModel("SSGW_MM"),n=new Array,c=s.getPropertyValueFromContextPath(t.contextPath,"OrderMaterialGroupID");n=s.setODataModelReadFilter(this.getView(),"inputSKUGroup",n,"OrderMaterialGroupID",sap.ui.model.FilterOperator.EQ,c.split(";"),!0,!1,!1);var d=this.getView().getModel("MaterialDocs").getProperty("/FromGUID");n=s.setODataModelReadFilter(o,"",n,"CPGUID","",[d],!1,!1,!1),n=s.setODataModelReadFilter(o,"",n,"CPTypeID","",["01"],!1,!1,!1),n=s.setODataModelReadFilter(o,"",n,"StockOwner","",["01"],!1,!1,!1),n=s.setODataModelReadFilter(o,"",n,"LoginID",sap.ui.model.FilterOperator.EQ,[r],!1,!1,!1),n=s.setODataModelReadFilter(o,"",n,"StockTypeID","",[this.getView().byId("StockTypes").getSelectedKey()],!1,!1,!1);var u=s.getPropertyValueFromContextPath(this.contextPath,"MaterialNo");n=s.setODataModelReadFilter(o,"",n,"DMSDivision","",i.split(";"),!0,!1,!1),n=s.setODataModelReadFilter(o,"",n,"MaterialNo",sap.ui.model.FilterOperator.EQ,[u],!1,!1,!1),n=s.setODataModelReadFilter(o,"",n,"StockSubTypeID",sap.ui.model.FilterOperator.EQ,[this.getView().byId("StockSubTypes").getSelectedKey()],!1,!1,!1),l.attachRequestSent(function(){M.open()}),l.attachRequestCompleted(function(){M.close()}),l.read("/CPStockItems",{filters:n,urlParameters:{$expand:"CPStockItemSnos"},success:function(e){if(e.results.length>0)for(var o=[],s=[],a=e.results.length,i=0;i<e.results.length;i++){if(a--,e.results[i].CPStockItemSnos.results.length>0)for(var r=0;r<e.results[i].CPStockItemSnos.results.length;r++)s=e.results[i].CPStockItemSnos.results[r],e.results[i].CPStockItemSnos.results[r].DMSDivision=e.results[i].DMSDivision,e.results[i].CPStockItemSnos.results[r].DmsDivisionDesc=e.results[i].DmsDivisionDesc,e.results[i].CPStockItemSnos.results[r].OrderMaterialGroupID=e.results[i].OrderMaterialGroupID,e.results[i].CPStockItemSnos.results[r].OrderMaterialGroupDesc=e.results[i].OrderMaterialGroupDesc,o.push(s);if(0===a){var l=new sap.ui.model.json.JSONModel;l.setData(o),t.getView().setModel(l,"ListItems"),t.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",o.length),setTimeout(M.close(),1e3)}}else M.close(),t.getView().setBusy(!1),t.setNodataFound()},error:function(e){M.close(),t.getView().setBusy(!1),t.setNodataFound(),s.dialogErrorMessage(e,g.getText("common.Dialog.Error.ServiceError.Header")),o.setBusy(!1)}})},setTableTitleCount:function(e){e>0?(this.getView().byId("ListTableTitle").setText(n.getText("List.Table.TitleCount",[e])),this.getView().byId("UIListTableTitle").setText(n.getText("List.Table.TitleCount",[e]))):(this.getView().byId("ListTableTitle").setText(n.getText("List.Table.Title")),this.getView().byId("UIListTableTitle").setText(n.getText("List.Table.Title")))},navigateBack:function(){if(!0===this.getView().getModel("LocalViewSetting").getProperty("/editMode")&&this.backToList(),!0===this.getView().getModel("LocalViewSetting").getProperty("/reviewMode")){this.getView().getModel("LocalViewSetting").setProperty("/editMode",!0),this.getView().getModel("LocalViewSetting").setProperty("/reviewMode",!1),this.getView().getModel("LocalViewSetting").setProperty("/PageHeader",n.getText("List.title"));this._oComponent.getModel("QuantityModel")}},backToList:function(){void 0!==sap.ui.core.routing.History.getInstance().getPreviousHash()?window.history.go(-1):""!==document.referrer?window.history.go(-1):this.router.navTo("ListPage")},prepareSTKItemsODataFilter:function(e){var t=new Array;return t=s.setODataModelReadFilter(this.getView(),"",t,"LoginID","",[e],!1,!1,!1),this.prepareSTKItemsODataFilter_Exit&&(t=this.prepareSTKItemsODataFilter_Exit(t)),t},setNodataFound:function(){var e=this.getView();void 0!==e.getModel("ListItems")&&e.getModel("ListItems").setProperty("/",{}),e.byId("ListTable").setNoDataText(g.getText("common.NoResultsFound")),e.byId("UIListTable").setNoData(g.getText("common.NoResultsFound")),e.byId("UIListTable").setVisibleRowCount(2),e.byId("UIListTable").setMinAutoRowCount(2),e.getModel("LocalViewSetting").setProperty("/ListItemsCount",1)},checkValueState:function(){return"VH"!==this.sCustomerInputType||"Error"!==this.getView().byId("inputCustomerNo").getValueState()},applyTableGrouping:function(e,t,o,a){s.setGroupInTable(this.getView(),"ListTable",e,!0,o,t,a)},applyUITableGrouping:function(){var e=this.getView().byId("UIListTable").getColumns()[2];this.getView().byId("UIListTable").sort(e,"Descending",!1)},getCurrentUsers:function(e,t,o){if(!o)return a.getCurrentLoggedUser({sServiceName:e,sRequestType:t});a.getCurrentLoggedUser({sServiceName:e,sRequestType:t},function(e){o(e)})},validate:function(){},updateStockHeader:function(e){return this._oMaterialDocs=jQuery.extend({},this._oComponent.getModel("MaterialDocs").getData()),this._oMaterialDocs.TestRun=!0===e?"X":"",this._oMaterialDocs},updateMaterialDocItemDetails:function(e){this._oMaterialDocItemDetails=jQuery.extend(!0,[],gSAItemView.getModel("MaterialDocItemDetails").getData());for(var t=0;t<this._oMaterialDocItemDetails.length;t++)this._oMaterialDocItemDetails[t].MaterialDocGUID=e,this._oMaterialDocItemDetails[t].MatDocItemGUID=s.generateUUID(),this._oMaterialDocItemDetails[t].MaterialDocQty=this._oMaterialDocItemDetails[t].AdjQty,this._oMaterialDocItemDetails[t].StockGUID=this._oMaterialDocItemDetails[t].CPStockItemGUID,this._oMaterialDocItemDetails[t].MFD=this._oMaterialDocItemDetails[t].ManufacturingDate,delete this._oMaterialDocItemDetails[t].__metadata,delete this._oMaterialDocItemDetails[t].ManufacturingDate,delete this._oMaterialDocItemDetails[t].DiffQty,delete this._oMaterialDocItemDetails[t].AdjQty,delete this._oMaterialDocItemDetails[t].SKUGroupDesc,delete this._oMaterialDocItemDetails[t].CPStockItemGUID,delete this._oMaterialDocItemDetails[t].ManufacturingDate,delete this._oMaterialDocItemDetails[t].Quantity,delete this._oMaterialDocItemDetails[t].RemarksState,delete this._oMaterialDocItemDetails[t].RemarksStateText,delete this._oMaterialDocItemDetails[t].QuantityValueState,delete this._oMaterialDocItemDetails[t].QuantityValueStateText;return this._oMaterialDocItemDetails},gotoSave:function(){this._oComponent.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.hideMessagePopover(gList),this._oComponent.getModel("LocalViewSetting").setProperty("/editMode",!1),this._oComponent.getModel("LocalViewSetting").setProperty("/reviewMode",!0)},showError:function(){this._oComponent.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList)},gotoDetail:function(e){var t="StockAdjustmentDetail(MaterialDocGUID=\'"+e+"\')";s.crossAppNavigation("ssstkadjcreate","ssstockadmnt","Display","ssstkadjcreate","ssstockadmnt","/View/"+t),this.gotoDetail_Exit&&this.gotoDetail_Exit()},getCustomers:function(e,t){var o=this;if(o.setCustomerInputVisibility(),"VH"!==this.sCustomerInputType){var s=this._oComponent.getModel("SFGW_MST");i.getCustomers(s,"000002","2",M,this.getView(),function(t){o.callService(),M.close(),o.getCurrentServerDate(o,function(e){o.getView().getModel("LocalViewSetting").setProperty("/Today",e),o.getView().getModel("MaterialDocs").setProperty("/MaterialDocDate",e)}),o.getDropDowns(),"02"===t[0].CPTypeID?(o.getView().getModel("LocalViewSetting").setProperty("/Distributor",!1),o.getView().getModel("LocalViewSetting").setProperty("/MicroDistributor",!0),o.getView().getModel("MaterialDocs").setProperty("/FromGUID",t[0].CPGUID),o.getView().getModel("MaterialDocs").setProperty("/CPTypeID",t[0].CPTypeID)):(o.getView().getModel("LocalViewSetting").setProperty("/Distributor",!0),o.getView().getModel("LocalViewSetting").setProperty("/MicroDistributor",!1),o.getView().getModel("MaterialDocs").setProperty("/FromGUID",t[0].CustomerNo),o.getView().getModel("MaterialDocs").setProperty("/CPTypeID",t[0].CPTypeID)),"DD"===o.sCustomerInputType?o.getView().byId("customer").setSelectedKey(e):"MC"===o.sCustomerInputType&&(t.length>1&&(t.splice(0,1),o.getView().getModel("Customers").setProperty("/",t)),o.getView().byId("customerMultiCombo").setSelectedKeys(e.split(";"))),1===t.length&&(o.getView().getModel("LocalViewSetting").setProperty("/CustomerNo",t[0].CustomerNo),o.getView().getModel("LocalViewSetting").setProperty("/CustomerName",t[0].Name));for(var s=new sap.ui.model.json.JSONModel,a=0;a<t.length;a++)"02"===t[a].CPTypeID?t[a].FormattedCustomerNo=t[a].CPGUID:t[a].FormattedCustomerNo=t[a].CustomerNo;s.setData(t),gList.setModel(s,"Customers"),o.getView().getModel("LocalViewSetting").setProperty("/gCPTypeID",t[0].CPTypeID),o.getView().getModel("LocalViewSetting").setProperty("/gCPGUID",t[0].CPGUID),o.getView().getModel("LocalViewSetting").setProperty("/gCPNo",t[0].CustomerNo),o.getView().getModel("LocalViewSetting").setProperty("/gCPName",t[0].Name)})}else M.close(),o.setCustomerF4Model(),o.getDropDowns(),o.getCurrentServerDate(o,function(e){o.getView().getModel("LocalViewSetting").setProperty("/Today",e),o.getView().getModel("MaterialDocs").setProperty("/MaterialDocDate",e)}),gListPageView.setBusy(!1)},SKUChange:function(){this.getView().getModel("ListItems")&&this.getView().getModel("ListItems").setProperty("/",[]),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",1);var e=this.getView().getModel("LocalViewSetting").getProperty("/ProductFeatureValue");this.getView().getModel("LocalViewSetting").getProperty("/StockMaterial")?"X"!==e&&(this.setDataModel(),this.removeAllTokenforItems()):this.setDataModel(),this.setMaterialModel()},setMaterialModel:function(){var e=gList.getModel("SSGW_MM"),t=s.getKeysFromMultiCombo(gList,"inputDMSDivision"),o=new Array;a.getCurrentLoggedUser({sServiceName:"CPStockItems",sRequestType:"read"},function(a){o=r.setODataModelReadFilter(gList,"",o,"CPGUID",sap.ui.model.FilterOperator.EQ,[gList.getModel("MaterialDocs").getData().FromGUID],!1,!1,!1),o=r.setODataModelReadFilter(gList,"",o,"CPTypeID","",[gList.getModel("MaterialDocs").getData().CPTypeID],!1,!1,!1),o=r.setODataModelReadFilter(gList,"",o,"StockOwner","",["01"],!1,!1,!1),o=gList.byId("StockTypes").getSelectedKey()?s.setODataModelReadFilter(gList,"",o,"StockTypeID","",[gList.byId("StockTypes").getSelectedKey()],!1,!1,!1):s.setODataModelReadFilter(gList,"",o,"StockTypeID","",["1"],!1,!1,!1),o=s.setODataModelReadFilter(gList,"",o,"DMSDivision","",t.split(";"),!0,!1,!1);var i=s.getKeysFromTokens(gList,"inputSKUGroup");o=s.setODataModelReadFilter(gList,"inputSKUGroup",o,"OrderMaterialGroupID",sap.ui.model.FilterOperator.EQ,i.split(";"),!0,!1,!1),o=s.setODataModelReadFilter(gList,"",o,"StockSubTypeID",sap.ui.model.FilterOperator.EQ,[gList.byId("StockSubTypes").getSelectedKey()],!1,!1,!1),o=s.setODataModelReadFilter("","",o,"LoginID","",[a],!1,!1,!1),e.read("/CPStockItems",{filters:o,urlParameters:{$expand:"CPStockItemSnos"},success:function(e){e=s.formatItemsOData({oData:e.results});var t=new sap.ui.model.json.JSONModel;t.setData(e),gList.setModel(t,"MatSuggestorModel"),gList.getModel("LocalViewSetting").setProperty("/MaterialVisible",!0)},error:function(e){gList.getModel("LocalViewSetting").setProperty("/MaterialVisible",!0)}})}),this.setMaterialModel_Exit&&this.setMaterialModel_Exit()},setBatchForExcelUpload:function(e){M.open();var t=gList.getModel("SSGW_MM"),o=new Array;a.getCurrentLoggedUser({sServiceName:"CPBatchStkSet",sRequestType:"read"},function(i){o=r.setODataModelReadFilter(gList,"",o,"CPGuid",sap.ui.model.FilterOperator.EQ,[gList.getModel("MaterialDocs").getData().FromGUID],!1,!1,!1),o=r.setODataModelReadFilter(gList,"",o,"CPType","",[gList.getModel("MaterialDocs").getData().CPTypeID],!1,!1,!1),o=s.setODataModelReadFilter("","",o,"LoginID","",[i],!1,!1,!1),o=s.setODataModelReadFilter("","",o,"StockOwner","",["01"],!1,!1,!1),o=gList.byId("StockTypes").getSelectedKey()?s.setODataModelReadFilter(gList,"",o,"StockType","",[gList.byId("StockTypes").getSelectedKey()],!1,!1,!1):s.setODataModelReadFilter(gList,"",o,"StockType","",["1"],!1,!1,!1),o=s.setODataModelReadFilter(gList,"",o,"StockBy","",["01"],!1,!1,!1),o=s.setODataModelReadFilter(gList,"",o,"ExpiryDateFlag","",["X"],!1,!1,!1),t.read("/CPBatchStkSet",{filters:o,success:function(t){t=s.formatItemsOData({oData:t.results});for(var o=0;o<t.length;o++)t[o].ExpDate=a.getFormattedDate(t[o].ExpDate);t.sort(function(e,t){return e.MaterialDesc<t.MaterialDesc?-1:e.MaterialDesc>t.MaterialDesc?1:0});var i=new sap.ui.model.json.JSONModel;i.setData(t),gList.setModel(i,"BatchExcelUploadModel"),gList.getModel("ListItems").setData([]),M.close(),e&&e()},error:function(e){M.close()}})}),this.setMaterialModel_Exit&&this.setMaterialModel_Exit()},setBatchModel:function(e,t,o){var i=this,l=gList.getModel("SSGW_MM"),n=new Array;a.getCurrentLoggedUser({sServiceName:"CPBatchStkSet",sRequestType:"read"},function(a){n=r.setODataModelReadFilter(gList,"",n,"CPGuid",sap.ui.model.FilterOperator.EQ,[gList.getModel("MaterialDocs").getData().FromGUID],!1,!1,!1),n=r.setODataModelReadFilter(gList,"",n,"CPType","",[gList.getModel("MaterialDocs").getData().CPTypeID],!1,!1,!1),n=s.setODataModelReadFilter(gList,"",n,"MaterialNo","",[e],!1,!1,!1),n=s.setODataModelReadFilter("","",n,"LoginID","",[a],!1,!1,!1),n=s.setODataModelReadFilter("","",n,"StockOwner","",["01"],!1,!1,!1),n=gList.byId("StockTypes").getSelectedKey()?s.setODataModelReadFilter(gList,"",n,"StockType","",[gList.byId("StockTypes").getSelectedKey()],!1,!1,!1):s.setODataModelReadFilter(gList,"",n,"StockType","",["1"],!1,!1,!1),n=s.setODataModelReadFilter(gList,"",n,"StockBy","",["01"],!1,!1,!1),l.read("/CPBatchStkSet",{filters:n,success:function(e){e=s.formatItemsOData({oData:e.results});for(var a,r=[],l=0;l<e.length;l++)""!==e[l].Batch&&r.push(e[l]);t?((a=new sap.ui.model.json.JSONModel).setData(r),i.getView().getModel("ListItems").setProperty("/"+o+"/BatchSuggestorModel",r)):((a=new sap.ui.model.json.JSONModel).setData(r),gList.setModel(a,"BatchSuggestorModel"));M.close()},error:function(e){}})}),this.setMaterialModel_Exit&&this.setMaterialModel_Exit()},getSelectedCustomerCode:function(){var e;if("DD"===this.sCustomerInputType)e=this.getView().byId("customer").getSelectedKey();else if("MC"===this.sCustomerInputType){var t=this.getView().byId("customerMultiCombo").getSelectedKeys();if(t.length>0){e=t[0];for(var o=1;o<t.length;o++)""!==t[o]&&(e+=";"+t[o])}}else"VH"===this.sCustomerInputType&&(e=s.getKeysFromTokens(this.getView(),"inputCustomerNo"));return e},getSelectedVendorCode:function(){var e="",t=this._oComponent.getModel("Customers").getData();return this.geView()&&("DD"===this.sCustomerInputType?e=t[0].CPNo:"VH"===this.sCustomerInputType&&(e=s.getKeysFromTokens(this.getView(),"inputCustomerNo"))),e},_oGetCustomers:function(e,t,o,i,r,l,n){r.getModel("SSGW_MST")&&(e=r.getModel("SSGW_MST"));var g=this,c=new Array;a.getCurrentLoggedUser({sServiceName:"UserChannelPartners",sRequestType:"read"},function(t){c=s.setODataModelReadFilter("","",c,"LoginID","",[t],!1,!1,!1);var o="Customers";r.getModel("SSGW_MST")&&(o="UserChannelPartners"),e.read("/"+o,{filters:c,success:function(e){if(e.results.length>0){"02"===e.results[0].CPTypeID&&g.distributorDetails(e.results[0].CPGUID);var t=new sap.ui.model.json.JSONModel;if(t.setData(e.results),e.results.length>0){r.setModel(t,"Customers");var o=r.getModel("Customers").getData();g.getView().getModel("LocalViewSetting").setProperty("/gCPTypeDesc",o[0].CPTypeDesc),g.getView().getModel("LocalViewSetting").setProperty("/gCPTypeID",o[0].CPTypeID),g.getView().getModel("LocalViewSetting").setProperty("/gCPGUID",o[0].CPGUID),g.getView().getModel("LocalViewSetting").setProperty("/gCPNo",o[0].CustomerNo),g.getView().getModel("LocalViewSetting").setProperty("/gCPName",o[0].Name),g.getDropDowns(),l(o),gListPageView.setBusy(!1)}}},error:function(e){}})})},setDataModel:function(){for(var e=[],t=0,o=0;o<5;o++){var s={ItemNo:t+=10,MaterialNo:"",MaterialDesc:"",MaterialDocGUID:"",MaterialDocQty:"",StockGUID:"",Remarks:"",Currency:"",Price:"",MRP:"",PurchasePrice:"",UOM:"",Batch:"",ExpiryDate:null,materialEdit:!0,DMSDivisionID:"",DMSDivisionDesc:"",ManufacturingDate:null,GQuantity:"0",SQuantity:"0",DQuantity:"0"};e.push(s)}var a=new sap.ui.model.json.JSONModel(e);this.getView().setModel(a,"ListItems"),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",e.length)},setCustomerF4Model:function(){var e=this._oComponent.getModel("SFGW_MST"),t=new Array;t=s.setODataModelReadFilter("","",t,"LoginID","",[this.getCurrentUsers("Customers","read")],!1,!1,!1),e.read("/Customers",{filters:t,urlParameters:{$select:"CustomerNo,Name"},success:function(e){e=s.formatItemsOData({oData:e.results});var t=new sap.ui.model.json.JSONModel;t.setData(e),gList.setModel(t,"CustomerF4SuggestorModel")},error:function(e){}})},handleCustomerSuggest:function(e){s.handleSuggest({oEvent:e,aProperties:["CustomerNo","Name"],sBinding:"suggestionItems"})},suggestionItemSelectedCustomerF4:function(e){var t=this;t.suggestionItemSelected({oEvent:e,thisController:this,sModelName:"CustomerF4SuggestorModel",sKey:"CustomerNo",sDescription:"Name"},function(e,o,s){e&&(t.getView().getModel("LocalViewSetting").setProperty("/CustomerNo",e),t.getView().getModel("LocalViewSetting").setProperty("/CustomerName",o),t.getView().getModel("MaterialDocs").setProperty("/FromGUID",e),t.getView().getModel("MaterialDocs").setProperty("/ToGUID",e),t.getView().getModel("MaterialDocs").setProperty("/CPTypeID","01"),t.setOtherMaterialSuggestion(),t.setMaterialModel())}),this.getView().byId("inputCustomerNo").setValueState("None"),this.getView().byId("inputCustomerNo").setValueStateText("")},suggestionItemSelected:function(e,t){e.oEvent.getSource().setValueState("None"),e.oEvent.getSource().setValueStateText("");var o=e.oEvent.getParameter("selectedItem").getBindingContext(e.sModelName).getPath();if(e.sGUID){var s=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sGUID),a=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sKey),i=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:s,text:this.TextAbstract(i,a,10),tooltip:i+" ("+a+")"})),e.oEvent.getSource().setValue("")}else{a=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sKey),i=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:a,text:this.TextAbstract(i,a,10),tooltip:i+" ("+a+")"})),e.oEvent.getSource().setValue("")}var r=e.thisController.getView().getModel(e.sModelName).getProperty(o);t&&t(a,i,r)},onChangeCustomerF4:function(e){var t=this;t.suggestionOnChange({oEvent:e,thisController:this,sModelName:"CustomerF4SuggestorModel",sKey:"CustomerNo",sDescription:"Name"},function(e,o,a,i,r){if(""!==e)if(o)t.getView().getModel("LocalViewSetting").setProperty("/CustomerNo",a),t.getView().getModel("LocalViewSetting").setProperty("/CustomerName",i),t.getView().getModel("MaterialDocs").setProperty("/FromGUID",a),t.getView().getModel("MaterialDocs").setProperty("/ToGUID",a),t.getView().getModel("MaterialDocs").setProperty("/CPTypeID","01"),t.setOtherMaterialSuggestion(),t.setMaterialModel();else{var l=n.getText("List.Filterbar.MultiInput.custNoError",[t.getView().byId("CustomerNo").getLabel()]);s.displayMsg_MsgBox(t.getView(),l,"error")}})},CustomerF4:function(){var e=this;r.CustomerF4({oController:this,oi18n:n,oUtilsI18n:g,bMultiSelect:!1},function(t){e.sCustomer=t[0].mProperties.key,e.sCustomerName=t[0].mProperties.text.split(" (")[0],e.getView().getModel("LocalViewSetting").setProperty("/CustomerNo",e.sCustomer),e.getView().getModel("LocalViewSetting").setProperty("/CustomerName",e.sCustomerName),e.CustomerTokenInput=e.getView().byId("inputCustomerNo"),e.CustomerTokenInput.removeAllTokens();var o=new sap.m.Token({key:e.sCustomer,text:e.TextAbstract(e.sCustomerName,e.sCustomer,5),tooltip:e.sCustomerName+" ("+e.sCustomer+")"}),s=[];e.getView().getModel("MaterialDocs").setProperty("/CPTypeID",t[0].mAggregations.customData[0].mProperties.value.CPTypeID),s.push(t[0].mAggregations.customData[0].mProperties.value),e.getView().getModel("MaterialDocs").setProperty("/FromGUID",s[0].CustomerNo),e.getView().getModel("MaterialDocs").setProperty("/ToGUID",s[0].CustomerNo),e.getView().getModel("MaterialDocs").setProperty("/CPTypeID","01"),e.CustomerTokenInput.addToken(o),t.length>0&&(e.setOtherMaterialSuggestion(),e.setMaterialModel())})},UserCustomerF4:function(e,t){void 0===e.controlID||e.controlID,void 0!==e.bMultiSelect&&null!==e.bMultiSelect||(e.bMultiSelect=!1);var o;e.oController.CustomerTokenInput&&(o=e.oController.CustomerTokenInput.getValue());var s=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:o,title:"Distributor",supportMultiselect:e.bMultiSelect,supportRanges:!1,supportRangesOnly:!1,key:e.oController.aCustomerKeys[0],descriptionKey:e.oController.aCustomerKeys[1],stretch:sap.ui.Device.system.phone,ok:function(o){if(e.oController.CustomerTokenInput){var a=o.getParameter("tokens"),i=a[0].mProperties.key,r=a[0].getCustomData()[0].mProperties.value.Name;a[0].mProperties.text=e.oController.TextAbstract(r,i,10),e.oController.CustomerTokenInput.setTokens(a),e.controlID&&e.oController.getView().byId(e.controlID)?(e.oController.getView().byId(e.controlID).setValueState(sap.ui.core.ValueState.None),e.oController.getView().byId(e.controlID).setValueStateText("")):(e.oController.CustomerTokenInput.setValueState(sap.ui.core.ValueState.None),e.oController.CustomerTokenInput.setValueStateText("")),t&&t(e.oController.CustomerTokenInput.getTokens())}s.close()},cancel:function(e){s.close()},afterClose:function(){s.destroy()}});this.setUserCustomerF4Columns(s,e),this.setUserCustomerF4FilterBar(s,e),!1===sap.ui.Device.support.touch&&s.addStyleClass("sapUiSizeCompact"),s.open(),e.oController.CustomerTokenInput&&s.setTokens(e.oController.CustomerTokenInput.getTokens())},setUserCustomerF4Columns:function(e,t){if(e.getTable().bindItems){var o=new sap.ui.model.json.JSONModel;o.setData({cols:[{label:"Distributor No",template:"CustomerNo"},{label:"Distributor Name",template:"Name"}]}),e.getTable().setModel(o,"columns")}else e.getTable().addColumn(new sap.ui.table.Column({label:new sap.m.Text({text:"Distributor No"}),template:new sap.m.Text({text:"{CPNo}"}),sortProperty:"CPNo",filterProperty:"CPNo"})),e.getTable().addColumn(new sap.ui.table.Column({label:new sap.m.Text({text:"Distributor Name"}),template:new sap.m.Text({text:"{Name}"}),sortProperty:"Name",filterProperty:"Name"})),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoItemSelected"))},setUserCustomerF4FilterBar:function(e,t){var o="";t.oController.CustomerTokenInput&&(o=t.oController.CustomerTokenInput.getValue());var i=new sap.m.Input({value:o,maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SFGW_MST"),sEntityType:"UserCustomer",sPropertyName:"CustomerNo",oUtilsI18n:t.oUtilsI18n})}),l=new sap.m.Input({});e.setFilterBar(new sap.ui.comp.filterbar.FilterBar({advancedMode:!0,filterGroupItems:[new sap.ui.comp.filterbar.FilterGroupItem({groupTitle:"Customer",groupName:"gn1",name:"n1",label:"Distributor No",control:i}),new sap.ui.comp.filterbar.FilterGroupItem({groupTitle:"Customer",groupName:"gn1",name:"n2",label:"Distributor Name",control:l})],search:function(o){var n=i.getValue(),g=l.getValue(),c=new Array;c=s.setODataModelReadFilter("","",c,"LoginID","",[a.getCurrentLoggedUser({sServiceName:"UserCustomers",sRequestType:"read"})],!1,!1,!1),c=s.setODataModelReadFilter(t.oController.getView(),"",c,"CPNo","",[n],!1,!1,!1),c=s.setODataModelReadFilter(t.oController.getView(),"",c,"Name","",[g],!1,!1,!1);var d=t.oController._oComponent.getModel("SSGW_MST");d.attachRequestSent(function(){M.open()}),d.attachRequestCompleted(function(){M.close()}),d.read("/UserChannelPartners",{filters:c,success:function(o){var s=new sap.ui.model.json.JSONModel;if(e.getTable().bindRows)e.getTable().clearSelection(),s.setData(o.results),e.getTable().setModel(s),e.getTable().bindRows("/"),0===o.results.length&&e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound"));else{var a=new sap.ui.model.json.JSONModel;if(a.setData(o.results),e.getTable().setModel(a),e.getTable().bindItems){var i=e.getTable();i.bindAggregation("items","/",function(){var e=i.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:e.map(function(e){var t=e.template;return new sap.m.Text({text:"{"+t+"}",wrapping:!0})})})})}0===o.results.length&&e.getTable().setNoDataText(t.oUtilsI18n.getText("common.NoResultsFound"))}o.results.length>0&&e.update()},error:function(o){e.getTable().clearSelection(),void 0!==e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound")),r.dialogErrorMessage(o,"No Data Found")}})},reset:function(){}}))},setCPNoF4Details:function(e){var t=new sap.ui.model.json.JSONModel;t.setData(e),gList.setModel(t,"Customers"),this.getView().getModel("LocalViewSetting").setProperty("/gCPTypeDesc",e.CPTypeDesc),this.getView().getModel("LocalViewSetting").setProperty("/gCPTypeID",e.CPTypeID),this.getView().getModel("LocalViewSetting").setProperty("/gCPGUID",e.CPGUID),this.getView().getModel("LocalViewSetting").setProperty("/gCPNo",e.CustomerNo),this.getView().getModel("LocalViewSetting").setProperty("/gCPName",e.Name),this.setCPNoF4Details_Exit&&this.setCPNoF4Details_Exit(e)},distributorDetails:function(e){e=e.substring(0,8)+"-"+e.substring(8,12)+"-"+e.substring(12,16)+"-"+e.substring(16,20)+"-"+e.substring(20,e.length);var t=this.getView().getModel("SSGW_MST"),o=this.getCurrentUsers("ChannelPartners","read");t.setHeaders({"x-arteria-loginid":o}),t.read("/ChannelPartners(CPGUID=guid\'"+e+"\')",{urlParameters:{$expand:"CPDMSDivisions,CPPartnerFunctions"},success:function(e){},error:function(e){}}),this.distributorDetails_Exit&&this.distributorDetails_Exit()},setCustomerDetails:function(e){var t=this.getView().getModel("SFGW_MST"),o=this.getCurrentUsers("ChannelPartners","read");t.setHeaders({"x-arteria-loginid":o}),t.read("/Customers(CustomerNo=\'"+e+"\')",{success:function(e){},error:function(e){}}),this.setCustomerDetails_Exit&&this.setCustomerDetails_Exit()},getEntityLock1:function(){var e=this.getView(),t=this._oComponent.getModel("PCGW"),o=new Array;o=s.setODataModelReadFilter("","",o,"ModelID","",["SSGW_MST"],!1,!1,!1),o=s.setODataModelReadFilter("","",o,"EntityType","",["EntityLock"],!1,!1,!1),o=s.setODataModelReadFilter("","",o,"PropName","",["CPGuid"],!1,!1,!1),this.getDropdown(t,"ValueHelps",o,"ID","Description",M,e,"EntityLockDD","",function(e){console.log(e)}),this.setDMSDivDD_Exit&&this.setDMSDivDD_Exit()},getEntityLock:function(e,t){var o=this._oComponent.getModel("PCGW"),s=this.getCurrentUsers("EntityLockSet","read");o.setHeaders({"x-arteria-loginid":s}),o.read("/EntityLockSet(CPGuid=\'"+t+"\')",{success:function(e){console.log(e)},error:function(e){console.log(e)}})},getSelectedCustomerName:function(e){var t=e.getSource().getSelectedItem().getBindingContext("Customers").getObject();this.getView().getModel("MaterialDocs").setProperty("/CPTypeID",t.CPTypeID),this.getView().getModel("MaterialDocs").setProperty("/FromGUID",e.getSource().getSelectedKey()),this.getView().getModel("LocalViewSetting").setProperty("/CustomerNo",t.CustomerNo),this.getView().getModel("LocalViewSetting").setProperty("/CustomerName",t.Name),"01"===t.CPTypeID?(this.getView().getModel("LocalViewSetting").setProperty("/Distributor",!0),this.getView().getModel("LocalViewSetting").setProperty("/MicroDistributor",!1)):(this.getView().getModel("LocalViewSetting").setProperty("/Distributor",!1),this.getView().getModel("LocalViewSetting").setProperty("/MicroDistributor",!0)),this.getView().byId("customer").setTooltip(this.getCustomerName()),this.getView().byId("inputSKUGroup").removeAllTokens();var o=this.getView().byId("customer").getSelectedKey();""!==o&&(e.getSource().setValueState("None"),e.getSource().setValueStateText(""),this.setOtherMaterialSuggestion(),this.setMaterialModel()),2===this.getView().byId("SelectGroupIDAW").getSelectedIndex()&&(gList.getModel("ListItems").setData([]),gList.byId("fileUploader").setValue("")),this.getEntityLock(t.CPTypeID,o)},getCustomerName:function(){return this.getView().byId("customer").getSelectedItem().getText().split("-").length>1?(this.getView().getModel("LocalViewSetting").setProperty("/CustomerColumnVisibleInF4",!1),this.getView().byId("customer").getSelectedItem().getText().split("-")[1].trim()):(this.getView().getModel("LocalViewSetting").setProperty("/CustomerColumnVisibleInF4",!0),this.getView().byId("customer").getSelectedItem().getText().split("-")[0].trim())},setCustomerColumnVisibility:function(){this.getView().byId("customer").getSelectedItem().getText().split("-").length>1?this.getView().getModel("LocalViewSetting").setProperty("/CustomerColumnVisibleInResult",!1):this.getView().getModel("LocalViewSetting").setProperty("/CustomerColumnVisibleInResult",!0)},setCustomerInputVisibility:function(){"DD"===this.sCustomerInputType?(this.getView().getModel("LocalViewSetting").setProperty("/CustomerDD",!0),this.getView().getModel("LocalViewSetting").setProperty("/CustomerVH",!1)):"VH"===this.sCustomerInputType&&(this.getView().getModel("LocalViewSetting").setProperty("/CustomerVH",!0),this.getView().getModel("LocalViewSetting").setProperty("/CustomerDD",!1)),this.setCustomerInputVisibility_Exit&&this.setCustomerInputVisibility_Exit()},getDropDowns:function(){this.setDMSDivDD(),this.setReasonDD(),this.StockTypesDD(),this.stockSubType(),this.getPrdFeatures(),this.getDropDowns_Exit&&this.getDropDowns_Exit()},setUOM:function(){var e=this._oComponent.getModel("PCGW"),t=new Array;t=s.setODataModelReadFilter(this.getView(),"",t,"Typeset",sap.ui.model.FilterOperator.EQ,["STAUOM"],!1,!1,!1),this.getDropdown(e,"ConfigTypesetTypes",t,"Types","TypesName",M,this.getView(),"UOMs","Select",function(e){e.length}),this.setUOM_Exit&&this.setUOM_Exit()},getDropdown:function(e,t,o,i,r,l,n,g,c,d,u,M,p,m){var h=new Array;if(e)a.getCurrentLoggedUser({sServiceName:t,sRequestType:"read",Application:M},function(a){o="ConfigTypsetTypeValues"===t?s.setODataModelReadFilter("","",o,"LoginId","",[a],!1,!1,!1):s.setODataModelReadFilter("","",o,"LoginID","",[a],!1,!1,!1),e.read("/"+t,{filters:o,success:function(e){if(e.results.length>0){null==c||void 0==c||""==c||1==e.results.length&&("None"!=c&&"Select"!=c||!p)||h.push({Key:"",Text:"("+c+")"});for(var t=0;t<e.results.length;t++)h.push({Key:e.results[t][i],Text:e.results[t][r],Seperator:" - "});var o=new sap.ui.model.json.JSONModel;o.setData(h),m&&m.bSetSizeLimit&&o.setSizeLimit(h.length),n.setModel(o,g)}d&&d(h)},error:function(e){l.close(),com.arteriatech.ppc.utils.js.Common.showServiceErrorPopup(e)}})});else{var y=new sap.ui.model.json.JSONModel;y.setData([]),n.setModel(y,g),d&&d([])}},setDMSDivDD:function(){var e=this,t=this.getView(),o=this._oComponent.getModel("PCGW"),a=new Array;a=s.setODataModelReadFilter("","",a,"ModelID","",["SSGW_MST"],!1,!1,!1),a=s.setODataModelReadFilter("","",a,"EntityType","",["ChannelPartner"],!1,!1,!1),a=s.setODataModelReadFilter("","",a,"PropName","",["DMSDiv"],!1,!1,!1),e.getDropdown(o,"ValueHelps",a,"ID","Description",M,t,"DMSDivisionDD","",function(o){o&&(t.setBusy(!1),1===o.length&&e.getView().byId("inputDMSDivision").setSelectedKeys(o[0].Key))}),this.setDMSDivDD_Exit&&this.setDMSDivDD_Exit()},setReasonDD:function(){var e=this._oComponent.getModel("PCGW"),t=new Array;t=s.setODataModelReadFilter(this.getView(),"",t,"Typeset",sap.ui.model.FilterOperator.EQ,["STKADR"],!1,!1,!1),this.getDropdown(e,"ConfigTypesetTypes",t,"Types","TypesName",M,this.getView(),"ReasonDD","Select",function(e){e.length}),this.setReasonDD_Exit&&this.setReasonDD_Exit()},StockTypesDD:function(){var e=this,t=this._oComponent.getModel("PCGW"),o=new Array;o=s.setODataModelReadFilter(this.getView(),"",o,"Typeset",sap.ui.model.FilterOperator.EQ,["STKTPS"],!1,!1,!1),e.getDropdown(t,"ConfigTypesetTypes",o,"Types","TypesName",M,this.getView(),"StockTypes","Select",function(t){1===t.length&&(gList.getModel("StockTypes").setProperty("/Key",t[0].Key),e.setMaterialModel(),e.setSKUGRPModel())}),this.StockTypesDD_Exit&&this.StockTypesDD_Exit()},stockSubType:function(){var e=this._oComponent.getModel("PCGW"),t=new Array;t=s.setODataModelReadFilter(this.getView(),"",t,"Typeset",sap.ui.model.FilterOperator.EQ,["BLKSST"],!1,!1,!1),this.getDropdown(e,"ConfigTypesetTypes",t,"Types","TypesName",M,this.getView(),"StockSubTypes","Select",function(e){e.length,e.length}),this.stockSubType_Exit&&this.stockSubType_Exit()},callBusyDialog:function(){this.iTotalDDs--,0===this.iTotalValueHelps&&gList.setBusy(!1)},setValuehelpPropety:function(){this.CustomerTokenInput=this.getView().byId("inputCustomerNo"),this.aCustomerKeys=["CustomerNo","Name"],this.aBatchKeys=["Batch","Batch"],this.setValuehelpPropety_Exit&&this.setValuehelpPropety_Exit()},getAllSelectedCustomerName:function(){var e="";if("DD"===this.sCustomerInputType)e=this.getCustomerName();else if("MC"===this.sCustomerInputType){var t=this.getView().byId("customerMultiCombo").getSelectedItems();if(t.length>0){e=t[0].getText().split(" - ")[1]+" ("+t[0].getText().split(" - ")[0]+")";for(var o=1;o<t.length;o++)e+="; "+t[o].getText().split(" - ")[1]+" ("+t[o].getText().split(" - ")[0]+")"}}else"VH"===this.sCustomerInputType&&(e=s.getTextFromTokens(this.getView(),"inputCustomerNo"));return""===e&&(e="(All)"),e},MaterialNoF4:function(e){var t=this,o=t.getView().getModel("LocalViewSetting").getProperty("/tokenTextLength");s.removeAllMsgs();var a=e.getSource().getId().slice(-1);a=parseInt(e.getSource().getBindingContext("ListItems").getPath().split("/")[1]);var i=parseInt(a);this.validateMandatory();this.getView().getModel("ListItems").getProperty("/"),e.getSource().getBindingContext("ListItems");for(var r=this.getView().byId("UIListTableOther").getRows()[i].getCells(),l=0;l<r.length;l++)-1!==r[l].getId().indexOf("inputOtherMaterial")&&(this.MaterialInput=this.getView().byId(r[l].getId()));if(s.doErrMessageExist()){var c=s.getKeysFromMultiCombo(this.getView(),"inputsDMSDivision");this.MaterialKeys=["MaterialNo","MaterialDesc"],t.materialF4({oController:this,oi18n:n,oUtilsI18n:g,controlID:"inputSKUGroup",modelID:"SFGW_MST",entityType:"Materials",tokenInput:this.MaterialInput,defaultVisible:!1,dmsDivision:c},function(e){e.forEach(function(e){e.setTooltip(e.mProperties.text),e.mProperties.text=t.TextAbstract(e.mProperties.text.split("(")[0].trim(),e.mProperties.key,o)}),t.MaterialInput.setTokens(e),t.addItemstoOtherTable(e,i)})}else s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error")},addItemstoOtherTable:function(e,t){var o=e[0].getCustomData()[0].getProperty("value"),s=[{Uom:o.BaseUom},{Uom:o.AlternativeUOM1}];this.getView().getModel("ListItems").setProperty("/"+t+"/MaterialNo",o.MaterialNo),this.getView().getModel("ListItems").setProperty("/"+t+"/MaterialDesc",o.MaterialDesc),this.getView().getModel("ListItems").setProperty("/"+t+"/OrderMaterialGroupID",o.ProdHier),this.getView().getModel("ListItems").setProperty("/"+t+"/OrderMaterialGroupDesc",o.ProdHierDesc),this.getView().getModel("ListItems").setProperty("/"+t+"/DMSDivision",o.DivisionID),this.getView().getModel("ListItems").setProperty("/"+t+"/UOMs",s),this.checkForNewLineItem()},addItemstoTable:function(e){var t=this.getView().getModel("ListItems").getData();if(0===t.length)for(var o=0;o<e.length;o++){var a=e[o].getCustomData()[0].getProperty("value");t.push({MaterialNo:a.MaterialNo,MaterialDesc:a.MaterialDesc,CPStockItemGUID:s.generateUUID(),ExpiryDate:null,OrderMaterialGroupID:a.MaterialGrp,OrderMaterialGroupDesc:a.MaterialGrpDesc,ManufacturingDate:null,GQuantity:"0",DQuantity:"0",SQuantity:"0",Currency:"",UOM:"",Batch:"",BatchValueState:"None",BatchValueStateText:"",PurchasePrice:"0.00",UOMValueState:"None",UOMValueStateText:"",MRP:a.MRP,MRPValueState:"None",MRPValueStateText:"",UnitPrice:"0.00",UnitPriceValueState:"None",UnitPriceValueStateText:"",InvoiceItemGUID:"",QuantityValueState:"None",MDateValueState:"None",MDateValueStateText:"",EDateValueState:"None",EDateValueStateText:"",Remarks:"",RemarksState:"None",DeletionInd:"",BatchOrSerial:""})}else for(var i=0;i<e.length;i++){for(var r=!1,l=(a=e[i].getCustomData()[0].getProperty("value"),0);l<t.length;l++)a.MaterialNo===t[l].MaterialNo&&(r=!0);r?s.addMsg_MsgMgr(a.MaterialNo+" already Exists","error","Material"):t.push({MaterialNo:a.MaterialNo,MaterialDesc:a.MaterialDesc,CPStockItemGUID:s.generateUUID(),ExpiryDate:null,OrderMaterialGroupID:a.MaterialGrp,OrderMaterialGroupDesc:a.MaterialGrpDesc,ManufacturingDate:null,GQuantity:"0",DQuantity:"0",SQuantity:"0",UnitPrice:"0.00",PurchasePrice:"0.00",Currency:"",BatchValueState:"None",BatchValueStateText:"",UOMValueState:"None",UOMValueStateText:"",MRPValueState:"None",MRPValueStateText:"",UnitPriceValueState:"None",UnitPriceValueStateText:"",UOM:"",Batch:"",MRP:a.MRP,InvoiceItemGUID:"",QuantityValueState:"None",Remarks:"",RemarksState:"None",DeletionInd:"",BatchOrSerial:""})}this.getView().getModel("ListItems").setProperty("/",t),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",t.length),s.doErrMessageExist()||this.popUp()},materialF4:function(e,t){e.bMultiSelect=!1;var o=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:"",title:"Materials",supportMultiselect:e.bMultiSelect,supportRanges:!1,supportRangesOnly:!1,key:e.oController.MaterialKeys[0],descriptionKey:e.oController.MaterialKeys[1],stretch:sap.ui.Device.system.phone,ok:function(s){e.isByPlusButton,t&&t(s.getParameter("tokens")),o.close()},cancel:function(e){o.close()},afterClose:function(){o.destroy()}});this.MaterialF4Columns(o,e),this.MaterialF4FilterBar(o,e),!1===sap.ui.Device.support.touch&&o.addStyleClass("sapUiSizeCompact"),o.open(),e.oController.SKUGrpTokenInput&&o.setTokens(e.oController.SKUGrpTokenInput.getTokens())},MaterialF4FilterBar:function(e,t){var o=new sap.m.Input({value:"",maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SFGW_MST"),sEntityType:"Material",sPropertyName:"MaterialNo",oUtilsI18n:t.oUtilsI18n})}),i=new sap.m.Input({maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SFGW_MST"),sEntityType:"Material",sPropertyName:"MaterialDesc",oUtilsI18n:t.oUtilsI18n})});e.setFilterBar(new sap.ui.comp.filterbar.FilterBar({advancedMode:!0,filterGroupItems:[new sap.ui.comp.filterbar.FilterGroupItem({groupName:"gn1",name:"n1",label:"Material No",control:o}),new sap.ui.comp.filterbar.FilterGroupItem({groupName:"gn1",name:"n2",label:"Material Desc",control:i})],search:function(l){var n=o.getValue(),g=i.getValue(),c=new Array;c=s.setODataModelReadFilter("","",c,"LoginID","",[a.getCurrentUsers("Materials","read")],!1,!1,!1),c=s.setODataModelReadFilter("","",c,"MaterialNo","",[n],!1,!1,!1),c=s.setODataModelReadFilter("","",c,"MaterialDesc","",[g],!1,!1,!1),c=s.setODataModelReadFilter("","",c,"DivisionID","",t.dmsDivision.split(";"),!0,!1,!1);var d=t.oController._oComponent.getModel("SFGW_MST");d.attachRequestSent(function(){M.open()}),d.attachRequestCompleted(function(){M.close()}),d.setHeaders({"x-arteria-loginid":a.getCurrentUsers("Materials","read")}),d.read("/Materials",{filters:c,success:function(o){var s=new sap.ui.model.json.JSONModel;if(e.getTable().bindRows)e.getTable().clearSelection(),s.setData(o.results),e.getTable().setModel(s),e.getTable().bindRows("/"),0===o.results.length&&e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound"));else{var a=new sap.ui.model.json.JSONModel;if(a.setData(o.results),e.getTable().setModel(a),e.getTable().bindItems){var i=e.getTable();i.bindAggregation("items","/",function(){var e=i.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:e.map(function(e){var t=e.template;return new sap.m.Text({text:"{"+t+"}",wrapping:!0})})})})}0===o.results.length&&e.getTable().setNoDataText(t.oUtilsI18n.getText("common.NoResultsFound"))}o.results.length>0&&e.update()},error:function(o){e.getTable().clearSelection(),void 0!==e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound")),r.dialogErrorMessage(o,"No Data Found")}})},reset:function(){}}))},MaterialF4Columns:function(e,t){if(e.getTable().bindItems){var o=new sap.ui.model.json.JSONModel;o.setData({cols:[{label:"Material No",template:"MaterialNo"},{label:"Material Desc",template:"MaterialNo"}]}),e.getTable().setModel(o,"columns")}else e.getTable().addColumn(new sap.ui.table.Column({label:new sap.m.Text({text:"Material No"}),template:new sap.m.Text({text:"{MaterialNo}"}),sortProperty:"MaterialNo",filterProperty:"MaterialNo"})),e.getTable().addColumn(new sap.ui.table.Column({label:new sap.m.Text({text:"Material Desc"}),template:new sap.m.Text({text:"{MaterialDesc}"}),sortProperty:"MaterialDesc",filterProperty:"MaterialDesc"})),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoItemSelected"))},SKUGroupF4:function(){if(s.removeAllMsgs(),this.validateMandatory("",""),s.doErrMessageExist()){var e=this,t=s.getKeysFromMultiCombo(this.getView(),"inputDMSDivision");this.SKUGrpTokenInput=this.getView().byId("inputSKUGroup"),this.SKUGrpKeys=["OrderMaterialGroupID","OrderMaterialGroupDesc"],e.selectedSKUGrpF4({oController:this,oi18n:n,oUtilsI18n:g,controlID:"inputSKUGroup",modelID:"SFGW_MST",entityType:"OrderMaterialGroups",tokenInput:this.SKUGrpTokenInput,defaultVisible:!1,dmsDivision:t},function(t){t.forEach(function(t){t.setTooltip(t.mProperties.text),t.mProperties.text=e.TextAbstract(t.mProperties.text.split("(")[0].trim(),t.mProperties.key,10)}),e.SKUGrpTokenInput.setTokens(t),e.getView().getModel("ListItems")&&e.getView().getModel("ListItems").setProperty("/",[]),e.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",1);var o=e.getView().getModel("LocalViewSetting").getProperty("/ProductFeatureValue");e.getView().getModel("LocalViewSetting").getProperty("/StockMaterial")?"X"!==o&&e.setDataModel():e.setDataModel(),e.setMaterialModel()})}else s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error")},selectedSKUGrpF4:function(e,t){void 0!==e.controlID&&null!==e.controlID||(e.controlID="inputSKUGroup"),void 0!==e.bMultiSelect&&null!==e.bMultiSelect||(e.bMultiSelect=!0);var o="",s="";e.oController.SKUGrpTokenInput&&(s=e.oController.SKUGrpTokenInput.getValue()),e.isByPlusButton||(o=s);var a=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:o,title:e.oi18n.getText("List.ValueHelp.SKUGroup"),supportMultiselect:e.bMultiSelect,supportRanges:!1,supportRangesOnly:!1,key:e.oController.SKUGrpKeys[0],descriptionKey:e.oController.SKUGrpKeys[1],stretch:sap.ui.Device.system.phone,ok:function(o){if(e.isByPlusButton)t&&t(o.getParameter("tokens"));else{var s=o.getParameter("tokens");s.forEach(function(t){var o=t.mProperties.key,s=t.mProperties.text;t.mProperties.text=e.oController.TextAbstract(s,o,10),t.setTooltip(s+" ("+o+")")}),e.oController.SKUGrpTokenInput.setTokens(s),e.oController.getView().byId(e.controlID).setValueState(sap.ui.core.ValueState.None),e.oController.getView().byId(e.controlID).setValueStateText(""),t&&t(e.oController.SKUGrpTokenInput.getTokens())}a.close()},cancel:function(e){a.close()},afterClose:function(){a.destroy()}});this.setSKUGrpF4Columns(a,e),this.setSKUGrpF4FilterBar(a,e),!1===sap.ui.Device.support.touch&&a.addStyleClass("sapUiSizeCompact"),a.open(),e.oController.SKUGrpTokenInput&&a.setTokens(e.oController.SKUGrpTokenInput.getTokens())},setSKUGrpF4Columns:function(e,t){if(e.getTable().bindItems){var o=new sap.ui.model.json.JSONModel;o.setData({cols:[{label:"SKU Group ID",template:"OrderMaterialGroupID"},{label:"SKU Group Desc",template:"OrderMaterialGroupDesc"}]}),e.getTable().setModel(o,"columns")}else e.getTable().addColumn(new sap.ui.table.Column({label:new sap.m.Text({text:"SKU Group ID"}),template:new sap.m.Text({text:"{OrderMaterialGroupID}"}),sortProperty:"OrderMaterialGroupID",filterProperty:"OrderMaterialGroupID"})),e.getTable().addColumn(new sap.ui.table.Column({label:new sap.m.Text({text:"SKU Group Desc"}),template:new sap.m.Text({text:"{OrderMaterialGroupDesc}"}),sortProperty:"OrderMaterialGroupDesc",filterProperty:"OrderMaterialGroupDesc"})),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoItemSelected"))},setSKUGrpF4FilterBar:function(e,t){var o="";t.oController.SKUGrpTokenInput&&(o=t.oController.SKUGrpTokenInput.getValue());var i=new sap.m.Input({value:o,maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"OrderMaterialGroupID",oUtilsI18n:t.oUtilsI18n})}),l=new sap.m.Input({maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"OrderMaterialGroupDesc",oUtilsI18n:t.oUtilsI18n})});e.setFilterBar(new sap.ui.comp.filterbar.FilterBar({advancedMode:!0,filterGroupItems:[new sap.ui.comp.filterbar.FilterGroupItem({groupName:"gn1",name:"n1",label:"SKU Group ID",control:i}),new sap.ui.comp.filterbar.FilterGroupItem({groupName:"gn2",name:"n2",label:"SKU Group Desc",control:l})],search:function(o){var n=i.getValue(),g=l.getValue(),c=new Array;c=s.setODataModelReadFilter("","",c,"LoginID","",[a.getCurrentUsers("OrderMaterialGroups","read")],!1,!1,!1),c=s.setODataModelReadFilter("","",c,"DMSDivision","",t.dmsDivision.split(";"),!0,!1,!1),c=s.setODataModelReadFilter(t.oController.getView(),"",c,"OrderMaterialGroupID","",[n],!1,!1,!1),c=s.setODataModelReadFilter(t.oController.getView(),"",c,"OrderMaterialGroupDesc","",[g],!1,!1,!1);var d=t.oController._oComponent.getModel("SFGW_MST");d.attachRequestSent(function(){M.open()}),d.attachRequestCompleted(function(){M.close()}),d.setHeaders({"x-arteria-loginid":a.getCurrentUsers("OrderMaterialGroups","read")}),d.read("/OrderMaterialGroups",{filters:c,success:function(o){var s=[];0===s.length&&s.push(o.results[0]);for(var a=0;a<o.results.length;a++){for(var i=!1,r=0;r<s.length;r++)s[r].OrderMaterialGroupID===o.results[a].OrderMaterialGroupID&&(i=!0);i||s.push(o.results[a])}var l=new sap.ui.model.json.JSONModel;if(e.getTable().bindRows)e.getTable().clearSelection(),l.setData(s),e.getTable().setModel(l),e.getTable().bindRows("/"),0===o.results.length&&e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound"));else{var n=new sap.ui.model.json.JSONModel;if(n.setData(s),e.getTable().setModel(n),e.getTable().bindItems){var g=e.getTable();g.bindAggregation("items","/",function(){var e=g.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:e.map(function(e){var t=e.template;return new sap.m.Text({text:"{"+t+"}",wrapping:!0})})})})}0===o.results.length&&e.getTable().setNoDataText(t.oUtilsI18n.getText("common.NoResultsFound"))}o.results.length>0&&e.update()},error:function(o){e.getTable().clearSelection(),void 0!==e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound")),r.dialogErrorMessage(o,"No Data Found")}})},reset:function(){}}))},handleViewSettingsDialogButtonPressed:function(e){this.ListDialog||(this.ListDialog=sap.ui.xmlfragment("com.arteria.ss.stockadjustmnt.create.util.Dialog",this));var t=this.getView().getModel("<ToAdd Model Name> Eg: PSGW_PUR");this.ListDialog.setModel(t,"<ToAdd Model Name> Eg: PSGW_PUR"),jQuery.sap.syncStyleClass("sapUiSizeCompact",this.getView(),this.ListDialog),this.ListDialog.open()},sorterFilterSTK:function(){this._busyDialog||(this._busyDialog=sap.ui.xmlfragment("com.arteria.ss.stockadjustmnt.create.util.Dialog",this));var e=this.getView().getModel("SSGW_MM");this._busyDialog.setModel(e,"SSGW_MM"),jQuery.sap.syncStyleClass("sapUiSizeCompact",this.getView(),this._busyDialog),this._busyDialog.open()},sortAndFilterTable:function(e){var t=this.getView(),o=this,a=this.getView().byId("ListTable");s.sortAndFilterTable(a,e,function(e,a){t.getModel("LocalViewSetting").setProperty("/ListItemsCount",e),e<=0?t.byId("ListTable").setNoDataText(g.getText("common.NoResultsFound")):(s.setGroupInTable(t,"ListTable","",!0,"","",a),"VH"===o.sCustomerInputType&&1!==o.getView().byId("inputDistributor").getTokens().length&&s.setGroupInTable(t,"ListTable","CustomerNo",!0,"Customer","CustomerName",a))},void 0)},exportToExcel:function(e){u.system.desktop&&s.copyAndApplySortingFilteringFromUITable({thisController:this,mTable:this.getView().byId("ListTable"),uiTable:this.getView().byId("UIListTable")});var t=this.getView().byId("ListTable"),o=this.getView().getModel("ListItems");s.exportToExcel(t,o)},deleteItem:function(e){var t=e.getSource().getBindingContext("ListItems").getPath().split("")[1];e.getSource().getBindingContext("ListItems").getModel().getData().splice(t,1),e.getSource().getBindingContext("ListItems").getModel().refresh();var o=e.getSource().getBindingContext("ListItems").getModel().getData().length;this._oComponent.getModel("LocalViewSetting").setProperty("/ListItemsCount",o)},gotoDetails:function(e){var t="StockAdjustmentDetail(MaterialDocGUID=\'"+e+"\')";s.crossAppNavigation("ssstkadjcreate","ssstockadmnt","Display","ssstkadjcreate","ssstockadmnt","/View/"+t),this.gotoDetail_Exit&&this.gotoDetail_Exit()},cpStockF4:function(e,t){void 0!==e.controlID&&null!==e.controlID||(e.controlID="inputMaterial"),void 0!==e.bMultiSelect&&null!==e.bMultiSelect||(e.bMultiSelect=!0);var o="";e.oController.MaterialInput&&(o=e.oController.MaterialInput.getValue());var s=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:o,title:e.oi18n.getText("List.ValueHelp.Material.header"),supportMultiselect:e.bMultiSelect,supportRanges:!1,supportRangesOnly:!1,key:e.oController.aKeys[0],descriptionKey:e.oController.aKeys[1],stretch:sap.ui.Device.system.phone,ok:function(o){e.oController.MaterialInput&&(e.oController.getView().byId(e.controlID).setValueState(sap.ui.core.ValueState.None),e.oController.getView().byId(e.controlID).setValueStateText("")),t&&t(o.getParameter("tokens")),s.close()},cancel:function(e){s.close()},afterClose:function(){s.destroy()}});this.setCPStockF4Columns(s,e),this.setCPStockF4FilterBar(s,e),!1===sap.ui.Device.support.touch&&s.addStyleClass("sapUiSizeCompact"),s.open(),e.oController.MaterialTokenInput&&s.setTokens(e.oController.MaterialTokenInput.getTokens()),this.utilMaterialF4_Exit&&this.utilMaterialF4_Exit()},setCPStockF4Columns:function(e,t){var o=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"MaterialNo",oUtilsI18n:t.oUtilsI18n}),a=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"MaterialDesc",oUtilsI18n:t.oUtilsI18n}),i=(s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItemSno",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n}),s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItemSno",sPropertyName:"Quantity",oUtilsI18n:t.oUtilsI18n}),s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItemSno",sPropertyName:"MRP",oUtilsI18n:t.oUtilsI18n})),r=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPBatchStk",sPropertyName:"StockConversion",oUtilsI18n:t.oUtilsI18n});s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItemSno",sPropertyName:"PriDiscountPer",oUtilsI18n:t.oUtilsI18n});if(e.getTable().bindItems){var l=new sap.ui.model.json.JSONModel;l.setData({cols:[{label:o,template:"MaterialNo"},{label:a,template:"MaterialDesc"}]}),e.getTable().setModel(l,"columns")}else e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:o}),template:new sap.m.Text({text:"{MaterialNo}"}),sortProperty:"MaterialNo",filterProperty:"MaterialNo",autoResizable:!0})),e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:a}),template:new sap.m.Text({text:"{MaterialDesc}"}),sortProperty:"MaterialDesc",filterProperty:"MaterialDesc",autoResizable:!0})),e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:i}),template:new sap.m.Text({text:"{MRP}"}),sortProperty:"MRP",filterProperty:"MRP",autoResizable:!0})),e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:r}),template:new sap.m.Text({text:"{StockConversion}"}),sortProperty:"StockConversion",filterProperty:"StockConversion",width:"10rem"}));this.setMaterialF4Columns_Exit&&this.setMaterialF4Columns_Exit()},setCPStockF4FilterBar:function(e,t){var o=this,i=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"MaterialNo",oUtilsI18n:t.oUtilsI18n}),r=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"MaterialDesc",oUtilsI18n:t.oUtilsI18n}),l=new sap.m.BusyDialog,n="";t.oController.CPTokenInput&&(n=t.oController.CPTokenInput.getValue());var g=new sap.m.Input({value:n,maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"CPNo",oUtilsI18n:t.oUtilsI18n})}),c=new sap.m.Input({});e.setFilterBar(new sap.ui.comp.filterbar.FilterBar({advancedMode:!0,filterGroupItems:[new sap.ui.comp.filterbar.FilterGroupItem({groupTitle:"Material",groupName:"gn1",name:"n1",label:i,control:g}),new sap.ui.comp.filterbar.FilterGroupItem({groupTitle:"Material",groupName:"gn1",name:"n2",label:r,control:c})],search:function(i){var r=g.getValue(),n=c.getValue(),d=a.getCurrentUsers("CPStockItems","read"),u=new Array;u=s.setODataModelReadFilter("","",u,"LoginID","",[d],!1,!1,!1),u=t.sCPGUID?s.setODataModelReadFilter(t.oController.getView(),"",u,"CPGUID",sap.ui.model.FilterOperator.EQ,[t.sCPGUID],!1,!1,!1):s.setODataModelReadFilter(t.oController.getView(),"",u,"CPGUID",sap.ui.model.FilterOperator.EQ,[t.sCustomer],!1,!1,!1),u=s.setODataModelReadFilter(t.oController.getView(),"",u,"CPTypeID","",["01"],!1,!1,!1),u=s.setODataModelReadFilter(t.oController.getView(),"",u,"StockOwner","",["01"],!1,!1,!1),u=s.setODataModelReadFilter(t.oController.getView(),"",u,"MaterialNo","",[r],!1,!1,!1),u=s.setODataModelReadFilter(t.oController.getView(),"",u,"MaterialDesc","",[n],!1,!1,!1),u=s.setODataModelReadFilter(t.oController.getView(),"",u,"DMSDivision","",t.dmsDivision.split(";"),!0,!1,!1),u=s.setODataModelReadFilter(t.oController.getView(),"",u,"StockTypeID","",[o.getView().byId("StockTypes").getSelectedKey()],!1,!1,!1);var M=s.getKeysFromTokens(o.getView(),"inputSKUGroup");u=s.setODataModelReadFilter(o.getView(),"inputSKUGroup",u,"OrderMaterialGroupID",sap.ui.model.FilterOperator.EQ,M.split(";"),!0,!1,!1),u=s.setODataModelReadFilter(t.oController.getView(),"",u,"StockSubTypeID",sap.ui.model.FilterOperator.EQ,[o.getView().byId("StockSubTypes").getSelectedKey()],!1,!1,!1);var p=t.oController._oComponent.getModel("SSGW_MM");p.attachRequestSent(function(){l.open()}),p.attachRequestCompleted(function(){l.close()}),p.setHeaders({"x-arteria-loginid":d}),p.read("/CPStockItems",{filters:u,urlParameters:{$expand:"CPStockItemSnos"},success:function(o){if(e.getTable().bindRows){var s=[];if(o.results.length>0){var a=new sap.ui.model.json.JSONModel;e.getTable().clearSelection();for(var i=0;i<o.results.length;i++)s.push(o.results[i]);a.setData(s),e.getTable().setModel(a),e.getTable().bindRows("/")}else void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound"))}else{for(var r=[],l=new sap.ui.model.json.JSONModel,n=0;n<o.results[n].length;n++)o.results[n].CPStockItemSnos&&r.push(o.results[n].CPStockItemSnos);if(l.setData(r),e.getTable().setModel(l),e.getTable().bindItems){var g=e.getTable();g.bindAggregation("items","/",function(){var e=g.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:e.map(function(e){var t=e.template;return new sap.m.Text({text:"{"+t+"}",wrapping:!0})})})})}0===o.results.length&&e.getTable().setNoDataText(t.oUtilsI18n.getText("common.NoResultsFound"))}},error:function(o){e.getTable().clearSelection(),void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound")),com.arteriatech.ss.utils.js.CommonValueHelp.dialogErrorMessage(o,"No Data Found")}})},reset:function(){}})),this.setCPMaterialF4FilterBar_Exit&&this.setCPMaterialF4FilterBar_Exit()},handleMaterialSuggest:function(e){this.validateMandatory(),s.doErrMessageExist()?s.handleSuggest({oEvent:e,aProperties:["MaterialNo","MaterialDesc"],sBinding:"suggestionRows"}):(e.getSource().setValue(""),s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error"))},handleOtherMaterialSuggest:function(e){this.validateMandatory(),s.doErrMessageExist()?s.handleSuggest({oEvent:e,aProperties:["MaterialNo","MaterialDesc"],sBinding:"suggestionRows"}):(e.getSource().setValue(""),s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error"))},suggestionMatItemSelected1:function(e){var t=this;t.suggestionMatTokenItemSelected({oEvent:e,thisController:t,sModelName:"MatSuggestorModel",sKey:"MaterialNo",sDescription:"MaterialDesc"},function(e,o,s){t.setSelectedMaterialToTable1(s)}),this.suggestionMatItemSelected1_Exit&&this.suggestionMatItemSelected1_Exit(e)},suggestionMatItemSelected:function(e){var t=this;if(s.removeAllMsgs(),this.validateMandatory(),s.doErrMessageExist()){var o=e.getSource().getId().slice(-1);o=parseInt(e.getSource().getBindingContext("ListItems").getPath().split("/")[1]);var a=parseInt(o),i=this.getView().getModel("ListItems").getProperty("/"),r=e.getSource().getBindingContext("ListItems");this.getView().byId("UIListTable").getRows()[a].getCells();this.suggestionMatTokenItemSelected({oEvent:e,thisController:this,sModelName:"MatSuggestorModel",sKey:"MaterialNo",sDescription:"MaterialDesc"},function(o,s,l){e.getSource().setValueState("None"),e.getSource().setValueStateText(""),t.setSelectedMaterialToTable(l,r,i,a),t.getView().getModel("ListItems").setProperty("/"+a+"/OrderMaterialGroupID",l.OrderMaterialGroupID),t.getView().getModel("ListItems").setProperty("/"+a+"/OrderMaterialGroupDesc",l.OrderMaterialGroupDesc),t.getView().getModel("ListItems").setProperty("/"+a+"/DMSDivision",l.DMSDivision),t.getView().getModel("ListItems").setProperty("/"+a+"/DmsDivisionDesc",l.DmsDivisionDesc),"1"===t.getView().byId("StockTypes").getSelectedKey()?t.setBatchModel(l.MaterialNo,!0,a):t.setBatchModelCpStock(l.MaterialNo,!0,a)})}else e.getSource().setValue(""),s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error");this.suggestionMatItemSelected_Exit&&this.suggestionMatItemSelected_Exit(e)},suggestionMatTokenItemSelected:function(e,t){e.oEvent.getSource().setValueState("None"),e.oEvent.getSource().setValueStateText("");var o=e.oEvent.getParameter("selectedRow").getBindingContext(e.sModelName).getPath();if(e.sGUID){var s=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sGUID),a=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sKey),i=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:s,text:this.TextAbstract(i,a,10),tooltip:i+" ("+a+")"})),e.oEvent.getSource().setValue("")}else{a=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sKey),i=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:a,text:this.TextAbstract(i,a,10),tooltip:i+" ("+a+")"})),e.oEvent.getSource().setValue("")}var r=e.thisController.getView().getModel(e.sModelName).getProperty(o);t&&t(a,i,r)},suggestionOtherMatItemSelected:function(e){var t=this;if(s.removeAllMsgs(),this.validateMandatory(),s.doErrMessageExist()){var o=e.getSource().getId().slice(-1);o=parseInt(e.getSource().getBindingContext("ListItems").getPath().split("/")[1]);for(var a=parseInt(o),i=(this.getView().getModel("ListItems").getProperty("/"),e.getSource().getBindingContext("ListItems"),this.getView().byId("UIListTableOther").getRows()[a].getCells()),r=0;r<i.length;r++)-1!==i[r].getId().indexOf("inputOtherMaterial")&&(this.MaterialInput=this.getView().byId(i[r].getId()));t.suggestionNewMatItemSelected({oEvent:e,thisController:this,sModelName:"OtherMatSuggestorModel",sKey:"MaterialNo",sDescription:"MaterialDesc"},function(e,o,s){var i=[{Uom:s.BaseUom},{Uom:s.AlternativeUOM1}];t.getView().getModel("ListItems").setProperty("/"+a+"/MaterialNo",s.MaterialNo),t.getView().getModel("ListItems").setProperty("/"+a+"/MaterialDesc",s.MaterialDesc),t.getView().getModel("ListItems").setProperty("/"+a+"/OrderMaterialGroupID",s.ProdHier),t.getView().getModel("ListItems").setProperty("/"+a+"/OrderMaterialGroupDesc",s.ProdHierDesc),t.getView().getModel("ListItems").setProperty("/"+a+"/DMSDivision",s.DivisionID),t.getView().getModel("ListItems").setProperty("/"+a+"/UOMs",i),t.checkForNewLineItem(),t.callBatchModel(s.MaterialNo,s.Batch,a)})}else e.getSource().setValue(""),s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error");this.suggestionOtherMatItemSelected_Exit&&this.suggestionOtherMatItemSelected_Exit(e)},BatchF4:function(e){s.removeServerMsgsInMsgMgrByTarget("/");var t=e.getSource().getBindingContext("ListItems").getProperty("/"),o=e.getSource().getBindingContext("ListItems").getPath().split("/")[1],a=parseInt(o);if(""===t[o].MaterialNo||null===t[o].MaterialNo||void 0===t[o].MaterialNo){var i="Please enter Material for Item No "+t[o].ItemNo;s.addMsg_MsgMgr(i,"error","/UI/MaterialNo")}if(s.doErrMessageExist()){var r=this;this.BatchbyCustomerF4({oController:this,oi18n:n,oUtilsI18n:g,bMultiSelect:!1,controlID:"multiInputBatch",sCPTypeID:this.getView().getModel("LocalViewSetting").getProperty("/gCPTypeID"),CPNo:this.getView().getModel("LocalViewSetting").getProperty("/gCPNo"),MaterialNo:t[o].MaterialNo},function(e){var t=e[0].getCustomData()[0].getValue();if(t){var o=[{Batch:t.Batch,Tooltip:t.Batch+"("+t.Batch+")"}];r.getView().getModel("ListItems").setProperty("/"+a+"/BatchTokens",o),r.getView().getModel("ListItems").setProperty("/"+a+"/Batch",t.Batch),r.onChangeBatch()}}),s.hideMessagePopover(gList),r.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length)}else this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList);this.MaterialF4_Exit&&this.MaterialF4_Exit(e)},BatchF41:function(e){"1"===this.getView().byId("StockTypes").getSelectedKey()?this.BatchF42CpBatchStk(e,!1):this.BatchF42CpStock(e,!1)},BatchF42:function(e){"1"===this.getView().byId("StockTypes").getSelectedKey()?this.BatchF42CpBatchStk(e,!0):this.BatchF42CpStock(e,!0)},BatchF42CpBatchStk:function(e,t){var o=jQuery.extend({},e);if(s.removeServerMsgsInMsgMgrByTarget("/"),!0===t){if(""===(c=this.getView().byId("toolbarMaterialNoID").getTokens().map(function(e){return e.getKey()}).join(","))||null===c||void 0===c){var a="Please enter Material for Item No "+c;s.addMsg_MsgMgr(a,"error","/UI/MaterialNo")}}else{var i=e.getSource().getBindingContext("ListItems").getProperty("/"),r=e.getSource().getBindingContext("ListItems").getPath().split("/")[1],l=parseInt(r);if(""===i[r].MaterialNo||null===i[r].MaterialNo||void 0===i[r].MaterialNo){a="Please enter Material for Item No "+i[r].ItemNo;s.addMsg_MsgMgr(a,"error","/UI/MaterialNo")}var c=i[r].MaterialNo}if(s.doErrMessageExist()){var d=this;this.BatchbyCustomerF42({oController:this,oi18n:n,oUtilsI18n:g,bMultiSelect:!1,controlID:"multiInputBatch2",sCPTypeID:d.getView().getModel("MaterialDocs").getProperty("/CPTypeID"),CPNo:this.getView().getModel("MaterialDocs").getProperty("/FromGUID"),MaterialNo:c},function(e){var s=e[0].getCustomData()[0].getValue();if(s)if(t){var a=[{Batch:s.Batch,Tooltip:s.Batch+"("+s.Batch+")"}];d.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",[]),d.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",a),d.onBatchChange1(o,s)}else{a=[{Batch:s.Batch,Tooltip:s.Batch+"("+s.Batch+")"}];d.getView().getModel("ListItems").setProperty("/"+l+"/BatchTokens",a),d.getView().getModel("ListItems").setProperty("/"+l+"/Batch",s.Batch),d.onBatchChange2(o,s)}}),s.hideMessagePopover(gList),d.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length)}else this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList);this.MaterialF4_Exit&&this.MaterialF4_Exit(e)},BatchF42CpStock:function(e,t){var o=jQuery.extend({},e);if(s.removeServerMsgsInMsgMgrByTarget("/"),!0===t){if(""===(c=this.getView().byId("toolbarMaterialNoID").getTokens().map(function(e){return e.getKey()}).join(","))||null===c||void 0===c){var a="Please enter Material for Item No "+c;s.addMsg_MsgMgr(a,"error","/UI/MaterialNo")}}else{var i=e.getSource().getBindingContext("ListItems").getProperty("/"),r=e.getSource().getBindingContext("ListItems").getPath().split("/")[1],l=parseInt(r);if(""===i[r].MaterialNo||null===i[r].MaterialNo||void 0===i[r].MaterialNo){a="Please enter Material for Item No "+i[r].ItemNo;s.addMsg_MsgMgr(a,"error","/UI/MaterialNo")}var c=i[r].MaterialNo}if(s.doErrMessageExist()){var d=this;this.BatchbyCustomerF4CpStock({oController:this,oi18n:n,oUtilsI18n:g,bMultiSelect:!1,controlID:"multiInputBatch2",sCPTypeID:d.getView().getModel("MaterialDocs").getProperty("/CPTypeID"),CPNo:this.getView().getModel("MaterialDocs").getProperty("/FromGUID"),MaterialNo:c},function(e){var s=e[0].getCustomData()[0].getValue();if(s)if(t){var a=[{Batch:s.Batch,Tooltip:s.Batch+"("+s.Batch+")"}];d.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",[]),d.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",a),d.onBatchChange1(o,s)}else{a=[{Batch:s.Batch,Tooltip:s.Batch+"("+s.Batch+")"}];d.getView().getModel("ListItems").setProperty("/"+l+"/BatchTokens",a),d.getView().getModel("ListItems").setProperty("/"+l+"/Batch",s.Batch),d.onBatchChange2(o,s)}}),s.hideMessagePopover(gList),d.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length)}else this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList);this.MaterialF4_Exit&&this.MaterialF4_Exit(e)},BatchbyCustomerF4CpStock:function(e,t){void 0!==e.controlID&&null!==e.controlID||(e.controlID="inputMaterial"),void 0!==e.bMultiSelect&&null!==e.bMultiSelect||(e.bMultiSelect=!0);var o="";e.oController.BatchTokenInput&&(o=e.oController.BatchTokenInput.getValue());var s=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:o,title:e.oi18n.getText("List.ValueHelp.Batch.header"),supportMultiselect:e.bMultiSelect,supportRanges:!1,supportRangesOnly:!1,key:e.oController.aBatchKeys[0],descriptionKey:e.oController.aBatchKeys[1],stretch:sap.ui.Device.system.phone,ok:function(o){e.oController.BatchTokenInput&&(e.oController.BatchTokenInput.setTokens(o.getParameter("tokens")),e.oController.getView().byId(e.controlID).setValueState(sap.ui.core.ValueState.None),e.oController.getView().byId(e.controlID).setValueStateText("")),t&&t(o.getParameter("tokens")),s.close()},cancel:function(e){s.close()},afterClose:function(){s.destroy()}});this.BatchbyCustomerF4ColumnsCpStock(s,e),this.BatchbyCustomerF4FilterBarCpStock(s,e),!1===sap.ui.Device.support.touch&&s.addStyleClass("sapUiSizeCompact"),s.open(),e.oController.BatchTokenInput&&s.setTokens(e.oController.BatchTokenInput.getTokens()),this.utilMaterialF4_Exit&&this.utilMaterialF4_Exit()},BatchbyCustomerF4ColumnsCpStock:function(e,t){var o=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n}),a=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"ExpiryDate",oUtilsI18n:t.oUtilsI18n});if(e.getTable().bindItems){var i=new sap.ui.model.json.JSONModel;i.setData({cols:[{label:o,template:"Batch"},{label:a,template:"ExpiryDate"}]}),e.getTable().setModel(i,"columns")}else e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:o}),template:new sap.m.Text({text:"{Batch}"}),sortProperty:"Batch",filterProperty:"Batch"})),e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:a}),template:new sap.m.Text({text:"{path:\'ExpiryDate\' , formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\' }"}),sortProperty:"ExpiryDate"})),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoItemSelected"));this.setMaterialF4Columns_Exit&&this.setMaterialF4Columns_Exit()},BatchbyCustomerF4FilterBarCpStock:function(e,t){var o=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n}),a=new sap.m.BusyDialog,i="";t.oController.CPTokenInput&&(i=t.oController.CPTokenInput.getValue());var r=new sap.m.Input({value:i,maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n})});new sap.m.Input({});e.setFilterBar(new sap.ui.comp.filterbar.FilterBar({advancedMode:!0,filterGroupItems:[new sap.ui.comp.filterbar.FilterGroupItem({groupTitle:"Batch",groupName:"gn1",name:"n1",label:o,control:r})],search:function(o){var i=r.getValue(),l=t.oController.getCurrentUsers("CPStockItems","read"),n=new Array;n=s.setODataModelReadFilter("","",n,"LoginID","",[l],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"CPGUID",sap.ui.model.FilterOperator.EQ,[t.CPNo],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"CPTypeID","",[t.sCPTypeID],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"MaterialNo","",[t.MaterialNo],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"Batch","",[i],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"StockOwner","",["01"],!1,!1,!1),n=gList.byId("StockTypes").getSelectedKey()?com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(gList,"",n,"StockTypeID","",[gList.byId("StockTypes").getSelectedKey()],!1,!1,!1):com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(gList,"",n,"StockTypeID","",["1"],!1,!1,!1);var g=t.oController._oComponent.getModel("SSGW_MM");g.attachRequestSent(function(){a.open()}),g.attachRequestCompleted(function(){a.close()}),g.setHeaders({"x-arteria-loginid":l}),g.read("/CPStockItems",{filters:n,urlParameters:{$expand:"CPStockItemSnos"},success:function(o){if(e.getTable().bindRows)if(o.results.length>0){for(var a=(o=s.formatItemsOData({oData:o.results}))[0].CPStockItemSnos.results,i=[],r=0;r<a.length;r++)""!==a[r].Batch&&i.push(a[r]);var l=new sap.ui.model.json.JSONModel;e.getTable().clearSelection(),l.setData(i),e.getTable().setModel(l),e.getTable().bindRows("/")}else void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound"));else{var n=new sap.ui.model.json.JSONModel;if(n.setData(o.results),e.getTable().setModel(n),e.getTable().bindItems){var g=e.getTable();g.bindAggregation("items","/",function(){var e=g.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:e.map(function(e){var t=e.template;return new sap.m.Text({text:"{"+t+"}",wrapping:!0})})})})}0===o.results.length&&e.getTable().setNoDataText(t.oUtilsI18n.getText("common.NoResultsFound"))}},error:function(o){e.getTable().clearSelection(),void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound")),com.arteriatech.ss.utils.js.CommonValueHelp.dialogErrorMessage(o,"No Data Found")}})},reset:function(){}})),this.setCPMaterialF4FilterBar_Exit&&this.setCPMaterialF4FilterBar_Exit()},onBatchChange1:function(e,t){s.hideMessagePopover(gList),s.removeAllMsgs();e.getSource().getBindingContext("ListItems");var o=t;this.validateToolBarBatches(o);var a=gList.byId("StockTypes").getSelectedKey();if(s.doErrMessageExist()){this.getView().getModel("LocalViewSetting").setProperty("/MRP",o.MRP),this.getView().getModel("LocalViewSetting").setProperty("/ManufacturingDate",o.ManufDate),this.getView().getModel("LocalViewSetting").setProperty("/ExpiryDate",o.ExpDate),this.getView().getModel("LocalViewSetting").setProperty("/PrimaryTradeDis",o.PriDiscountPer),this.getView().getModel("LocalViewSetting").setProperty("/UnitPrice",o.UnitPrice),this.getView().getModel("LocalViewSetting").setProperty("/Quantity",o.Unrestricted),this.getView().getModel("LocalViewSetting").setProperty("/StockRefGUID",o.CPStockItmGuid),this.getView().getModel("LocalViewSetting").setProperty("/Batch",o.Batch),"1"===a?this.getView().getModel("LocalViewSetting").setProperty("/BookStk",o.Unrestricted):"2"===a?this.getView().getModel("LocalViewSetting").setProperty("/BookStk",o.Quantity):this.getView().getModel("LocalViewSetting").setProperty("/BookStk",o.FreeQty);var i=this.getView().getModel("LocalViewSetting").getProperty("/AdjQty");if(i&&o.Unrestricted){var r=parseFloat(o.Unrestricted)-parseFloat(i);r=parseFloat(r).toFixed(2),this.getView().getModel("LocalViewSetting").setProperty("/DiffQty",r)}}else this.getView().byId("multiInputBatch2").removeAllTokens(),s.showMessagePopover(gList)},onChangeToolQty:function(e){var t=this.getView().getModel("LocalViewSetting").getProperty("/AdjQty"),o=this.getView().getModel("LocalViewSetting").getProperty("/BookStk"),s=parseInt(o)-parseInt(t);this.getView().getModel("LocalViewSetting").setProperty("/StkDifference",s)},onBatchChange2:function(e,t){s.hideMessagePopover(gList),s.removeAllMsgs();e.getSource().getBindingContext("ListItems");var o=e.getSource().getBindingContext("ListItems"),a=(o.getObject(),o.getPath()),i=(this.getView().getModel("ListItems").getProperty("/"),t);this.validateBatches(i,a);var r=gList.byId("StockTypes").getSelectedKey();if(s.doErrMessageExist()){this.getView().getModel("ListItems").setProperty(a+"/MRP",i.MRP),this.getView().getModel("ListItems").setProperty(a+"/ManufacturingDate",i.ManufDate),this.getView().getModel("ListItems").setProperty(a+"/ExpiryDate",i.ExpDate),this.getView().getModel("ListItems").setProperty(a+"/PrimaryTradeDis",i.PriDiscountPer),this.getView().getModel("ListItems").setProperty(a+"/UnitPrice",i.UnitPrice),"1"===r?this.getView().getModel("ListItems").setProperty(a+"/Quantity",i.Unrestricted):"2"===r?this.getView().getModel("ListItems").setProperty(a+"/Quantity",i.Quantity):this.getView().getModel("ListItems").setProperty(a+"/Quantity",i.FreeQty),this.getView().getModel("ListItems").setProperty(a+"/StockRefGUID",i.CPStockItmGuid),this.getView().getModel("ListItems").setProperty(a+"/Batch",i.Batch);var l=this.getView().getModel("ListItems").getProperty(a+"/AdjQty");if(l&&i.Quantity){var n=parseFloat(i.Quantity)-parseFloat(l);n=parseFloat(n).toFixed(2),this.getView().getModel("ListItems").setProperty(a+"/DiffQty",n)}}else e.getSource().removeAllTokens(),s.showMessagePopover(gList)},onBatchChange3:function(e,t){s.hideMessagePopover(gList),s.removeAllMsgs();e.getSource().getBindingContext("ListItems");var o=e.getSource().getBindingContext("ListItems"),a=(o.getObject(),o.getPath()),i=(this.getView().getModel("ListItems").getProperty("/"),t);if(s.doErrMessageExist()){this.getView().getModel("ListItems").setProperty(a+"/MRP",i.MRP),this.getView().getModel("ListItems").setProperty(a+"/ManufacturingDate",i.ManufacturingDate),this.getView().getModel("ListItems").setProperty(a+"/ExpiryDate",i.ExpiryDate),this.getView().getModel("ListItems").setProperty(a+"/PrimaryTradeDis",i.PriDiscountPer),this.getView().getModel("ListItems").setProperty(a+"/UnitPrice",i.UnitPrice),this.getView().getModel("ListItems").setProperty(a+"/Quantity",i.Quantity),this.getView().getModel("ListItems").setProperty(a+"/StockRefGUID",i.CPSnoGUID),this.getView().getModel("ListItems").setProperty(a+"/Batch",i.Batch);var r=this.getView().getModel("ListItems").getProperty(a+"/AdjQty");if(r&&i.Quantity){var l=parseFloat(i.Quantity)-parseFloat(r);l=parseFloat(l).toFixed(2),this.getView().getModel("ListItems").setProperty(a+"/DiffQty",l)}}else s.showMessagePopover(gList)},onBatchChange4:function(e,t){s.hideMessagePopover(gList),s.removeAllMsgs();e.getSource().getBindingContext("ListItems");var o=t;if(s.doErrMessageExist()){this.getView().getModel("LocalViewSetting").setProperty("/MRP",o.MRP),this.getView().getModel("LocalViewSetting").setProperty("/ManufacturingDate",o.ManufacturingDate),this.getView().getModel("LocalViewSetting").setProperty("/ExpiryDate",o.ExpiryDate),this.getView().getModel("LocalViewSetting").setProperty("/PrimaryTradeDis",o.PriDiscountPer),this.getView().getModel("LocalViewSetting").setProperty("/UnitPrice",o.UnitPrice),this.getView().getModel("LocalViewSetting").setProperty("/Quantity",o.Quantity),this.getView().getModel("LocalViewSetting").setProperty("/StockRefGUID",o.CPSnoGUID),this.getView().getModel("LocalViewSetting").setProperty("/Batch",o.Batch);var a=this.getView().getModel("LocalViewSetting").getProperty("/AdjQty");if(a&&o.Quantity){var i=parseFloat(o.Quantity)-parseFloat(a);i=parseFloat(i).toFixed(2),this.getView().getModel("LocalViewSetting").setProperty("/DiffQty",i)}}else s.showMessagePopover(gList)},validateOtherItems1:function(){for(var e=gList.getModel("ListItems").getData(),t=!0,o=0;o<e.length;o++)""===e[o].GQuantity&&(e[o].GQuantity="0"),""===e[o].SQuantity&&(e[o].SQuantity="0"),""===e[o].DQuantity&&(e[o].DQuantity="0");this.ClearValueState1(["BatchValueState","UOMValueState","MRPValueState","UnitPriceValueState","MDateValueState","EDateValueState","RefDocNoValueState","RefDocItemNoValueState","QuantityValueState"]);for(var a=!0,i=0;i<e.length;i++)if(""!==e[i].MaterialNo){t=!1;gList.byId("UIListTableOther").getRows()[i].getCells();if(""===e[i].Batch){var r="Please enter Batch for Material No "+e[i].MaterialNo;s.addMsg_MsgMgr(r,"error","Batch"+i),a=!1}if(0===parseFloat(e[i].GQuantity)){r="Please enter Quantity for Material No "+e[i].MaterialNo;s.addMsg_MsgMgr(r,"error","Quantity"+i),a=!1}}if(t){s.addMsg_MsgMgr("Please add atleast one Material to create Stock Adjustment","error","material"),a=!1}return a},formateMatToken:function(e,t){return""!==t&&(e=e+"("+t+")"),null===e?"":e.length<=5?e:(e=e.substring(0,5))+"..."},BatchbyCustomerF41:function(e,t){void 0!==e.controlID&&null!==e.controlID||(e.controlID="inputMaterial"),void 0!==e.bMultiSelect&&null!==e.bMultiSelect||(e.bMultiSelect=!0);var o="";e.oController.BatchTokenInput&&(o=e.oController.BatchTokenInput.getValue());var s=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:o,title:e.oi18n.getText("List.ValueHelp.Batch.header"),supportMultiselect:e.bMultiSelect,supportRanges:!1,supportRangesOnly:!1,key:e.oController.aBatchKeys[0],descriptionKey:e.oController.aBatchKeys[1],stretch:sap.ui.Device.system.phone,ok:function(o){e.oController.BatchTokenInput&&(e.oController.BatchTokenInput.setTokens(o.getParameter("tokens")),e.oController.getView().byId(e.controlID).setValueState(sap.ui.core.ValueState.None),e.oController.getView().byId(e.controlID).setValueStateText("")),t&&t(o.getParameter("tokens")),s.close()},cancel:function(e){s.close()},afterClose:function(){s.destroy()}});this.BatchbyCustomerF4Columns2(s,e),this.BatchbyCustomerF4FilterBar2(s,e),!1===sap.ui.Device.support.touch&&s.addStyleClass("sapUiSizeCompact"),s.open(),e.oController.BatchTokenInput&&s.setTokens(e.oController.BatchTokenInput.getTokens()),this.utilMaterialF4_Exit&&this.utilMaterialF4_Exit()},BatchbyCustomerF42:function(e,t){void 0!==e.controlID&&null!==e.controlID||(e.controlID="inputMaterial"),void 0!==e.bMultiSelect&&null!==e.bMultiSelect||(e.bMultiSelect=!0);var o="";e.oController.BatchTokenInput&&(o=e.oController.BatchTokenInput.getValue());var s=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:o,title:e.oi18n.getText("List.ValueHelp.Batch.header"),supportMultiselect:e.bMultiSelect,supportRanges:!1,supportRangesOnly:!1,key:e.oController.aBatchKeys[0],descriptionKey:e.oController.aBatchKeys[1],stretch:sap.ui.Device.system.phone,ok:function(o){e.oController.BatchTokenInput&&(e.oController.BatchTokenInput.setTokens(o.getParameter("tokens")),e.oController.getView().byId(e.controlID).setValueState(sap.ui.core.ValueState.None),e.oController.getView().byId(e.controlID).setValueStateText("")),t&&t(o.getParameter("tokens")),s.close()},cancel:function(e){s.close()},afterClose:function(){s.destroy()}});this.BatchbyCustomerF4Columns2(s,e),this.BatchbyCustomerF4FilterBar2(s,e),!1===sap.ui.Device.support.touch&&s.addStyleClass("sapUiSizeCompact"),s.open(),e.oController.BatchTokenInput&&s.setTokens(e.oController.BatchTokenInput.getTokens()),this.utilMaterialF4_Exit&&this.utilMaterialF4_Exit()},BatchbyCustomerF4:function(e,t){void 0!==e.controlID&&null!==e.controlID||(e.controlID="inputMaterial"),void 0!==e.bMultiSelect&&null!==e.bMultiSelect||(e.bMultiSelect=!0);var o="";e.oController.BatchTokenInput&&(o=e.oController.BatchTokenInput.getValue());var s=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:o,title:e.oi18n.getText("List.ValueHelp.Batch.header"),supportMultiselect:e.bMultiSelect,supportRanges:!1,supportRangesOnly:!1,key:e.oController.aBatchKeys[0],descriptionKey:e.oController.aBatchKeys[1],stretch:sap.ui.Device.system.phone,ok:function(o){e.oController.BatchTokenInput&&(e.oController.BatchTokenInput.setTokens(o.getParameter("tokens")),e.oController.getView().byId(e.controlID).setValueState(sap.ui.core.ValueState.None),e.oController.getView().byId(e.controlID).setValueStateText("")),t&&t(o.getParameter("tokens")),s.close()},cancel:function(e){s.close()},afterClose:function(){s.destroy()}});this.BatchbyCustomerF4Columns(s,e),this.BatchbyCustomerF4FilterBar(s,e),!1===sap.ui.Device.support.touch&&s.addStyleClass("sapUiSizeCompact"),s.open(),e.oController.BatchTokenInput&&s.setTokens(e.oController.BatchTokenInput.getTokens()),this.utilMaterialF4_Exit&&this.utilMaterialF4_Exit()},BatchbyCustomerF4Columns:function(e,t){var o=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SFGW_MIS"),sEntityType:"MaterialBatch",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n}),a=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SFGW_MIS"),sEntityType:"MaterialBatch",sPropertyName:"MFD",oUtilsI18n:t.oUtilsI18n}),i=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SFGW_MIS"),sEntityType:"MaterialBatch",sPropertyName:"ExpiryDate",oUtilsI18n:t.oUtilsI18n});if(e.getTable().bindItems){var r=new sap.ui.model.json.JSONModel;r.setData({cols:[{label:o,template:"Batch"},{label:a,template:"MFD"},{label:i,template:"ExpiryDate"}]}),e.getTable().setModel(r,"columns")}else e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:o}),template:new sap.m.Text({text:"{Batch}"}),sortProperty:"Batch",filterProperty:"Batch"})),e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:a}),template:new sap.m.Text({text:"{path:\'MFD\' , formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\' }"}),sortProperty:"MFD"})),e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:i}),template:new sap.m.Text({text:"{path:\'ExpiryDate\' , formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\' }"}),sortProperty:"ExpiryDate"})),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoItemSelected"));this.setMaterialF4Columns_Exit&&this.setMaterialF4Columns_Exit()},BatchbyCustomerF4FilterBar:function(e,t){var o=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SFGW_MIS"),sEntityType:"MaterialBatch",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n}),a=new sap.m.BusyDialog,i="";t.oController.CPTokenInput&&(i=t.oController.CPTokenInput.getValue());var r=new sap.m.Input({value:i,maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SFGW_MIS"),sEntityType:"MaterialBatch",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n})});new sap.m.Input({});e.setFilterBar(new sap.ui.comp.filterbar.FilterBar({advancedMode:!0,filterGroupItems:[new sap.ui.comp.filterbar.FilterGroupItem({groupTitle:"Material",groupName:"gn1",name:"n1",label:o,control:r})],search:function(o){var i=r.getValue(),l=t.oController.getCurrentUsers("MaterialBatchs","read"),n=new Array;n=s.setODataModelReadFilter("","",n,"LoginID","",[l],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"ParentGUID",sap.ui.model.FilterOperator.EQ,[t.CPNo],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"ParentType","",[t.sCPTypeID],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"MaterialNo","",[t.MaterialNo],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"Batch","",[i],!1,!1,!1);var g=t.oController._oComponent.getModel("SFGW_MIS");g.attachRequestSent(function(){a.open()}),g.attachRequestCompleted(function(){a.close()}),g.setHeaders({"x-arteria-loginid":l}),g.read("/MaterialBatchs",{filters:n,success:function(o){if(e.getTable().bindRows)if(o.results.length>0){var s=new sap.ui.model.json.JSONModel;e.getTable().clearSelection(),s.setData(o.results),e.getTable().setModel(s),e.getTable().bindRows("/")}else void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound"));else{var a=new sap.ui.model.json.JSONModel;if(a.setData(o.results),e.getTable().setModel(a),e.getTable().bindItems){var i=e.getTable();i.bindAggregation("items","/",function(){var e=i.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:e.map(function(e){var t=e.template;return new sap.m.Text({text:"{"+t+"}",wrapping:!0})})})})}0===o.results.length&&e.getTable().setNoDataText(t.oUtilsI18n.getText("common.NoResultsFound"))}},error:function(o){e.getTable().clearSelection(),void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound")),com.arteriatech.ss.utils.js.CommonValueHelp.dialogErrorMessage(o,"No Data Found")}})},reset:function(){}})),this.setCPMaterialF4FilterBar_Exit&&this.setCPMaterialF4FilterBar_Exit()},BatchbyCustomerF4Columns1:function(e,t){var o=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n}),a=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"ExpiryDate",oUtilsI18n:t.oUtilsI18n});if(e.getTable().bindItems){var i=new sap.ui.model.json.JSONModel;i.setData({cols:[{label:o,template:"Batch"},{label:a,template:"ExpiryDate"}]}),e.getTable().setModel(i,"columns")}else e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:o}),template:new sap.m.Text({text:"{Batch}"}),sortProperty:"Batch",filterProperty:"Batch"})),e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:a}),template:new sap.m.Text({text:"{path:\'ExpiryDate\' , formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\' }"}),sortProperty:"ExpiryDate"})),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoItemSelected"));this.setMaterialF4Columns_Exit&&this.setMaterialF4Columns_Exit()},BatchbyCustomerF4FilterBar1:function(e,t){var o=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n}),a=new sap.m.BusyDialog,i="";t.oController.CPTokenInput&&(i=t.oController.CPTokenInput.getValue());var r=new sap.m.Input({value:i,maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n})});new sap.m.Input({});e.setFilterBar(new sap.ui.comp.filterbar.FilterBar({advancedMode:!0,filterGroupItems:[new sap.ui.comp.filterbar.FilterGroupItem({groupTitle:"Batch",groupName:"gn1",name:"n1",label:o,control:r})],search:function(o){var i=r.getValue(),l=t.oController.getCurrentUsers("CPStockItems","read"),n=new Array;n=s.setODataModelReadFilter("","",n,"LoginID","",[l],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"CPGUID",sap.ui.model.FilterOperator.EQ,[t.CPNo],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"CPTypeID","",[t.sCPTypeID],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"MaterialNo","",[t.MaterialNo],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"Batch","",[i],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"StockOwner","",["01"],!1,!1,!1),n=gList.byId("StockTypes").getSelectedKey()?com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(gList,"",n,"StockTypeID","",[gList.byId("StockTypes").getSelectedKey()],!1,!1,!1):com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(gList,"",n,"StockTypeID","",["1"],!1,!1,!1);var g=t.oController._oComponent.getModel("SSGW_MM");g.attachRequestSent(function(){a.open()}),g.attachRequestCompleted(function(){a.close()}),g.setHeaders({"x-arteria-loginid":l}),g.read("/CPStockItems",{filters:n,urlParameters:{$expand:"CPStockItemSnos"},success:function(o){if(e.getTable().bindRows)if(o.results.length>0){for(var a=(o=s.formatItemsOData({oData:o.results}))[0].CPStockItemSnos.results,i=[],r=0;r<a.length;r++)""!==a[r].Batch&&i.push(a[r]);var l=new sap.ui.model.json.JSONModel;e.getTable().clearSelection(),l.setData(i),e.getTable().setModel(l),e.getTable().bindRows("/")}else void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound"));else{var n=new sap.ui.model.json.JSONModel;if(n.setData(o.results),e.getTable().setModel(n),e.getTable().bindItems){var g=e.getTable();g.bindAggregation("items","/",function(){var e=g.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:e.map(function(e){var t=e.template;return new sap.m.Text({text:"{"+t+"}",wrapping:!0})})})})}0===o.results.length&&e.getTable().setNoDataText(t.oUtilsI18n.getText("common.NoResultsFound"))}},error:function(o){e.getTable().clearSelection(),void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound")),com.arteriatech.ss.utils.js.CommonValueHelp.dialogErrorMessage(o,"No Data Found")}})},reset:function(){}})),this.setCPMaterialF4FilterBar_Exit&&this.setCPMaterialF4FilterBar_Exit()},BatchbyCustomerF4Columns2:function(e,t){var o=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPBatchStk",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n}),a=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPBatchStk",sPropertyName:"ExpDate",oUtilsI18n:t.oUtilsI18n});if(e.getTable().bindItems){var i=new sap.ui.model.json.JSONModel;i.setData({cols:[{label:o,template:"Batch"},{label:a,template:"ExpiryDate"}]}),e.getTable().setModel(i,"columns")}else e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:o}),template:new sap.m.Text({text:"{Batch}"}),sortProperty:"Batch",filterProperty:"Batch"})),e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:"Book Stock"}),template:new sap.m.Text({text:"{Unrestricted}"}),sortProperty:"Unrestricted",filterProperty:"Unrestricted"})),e.getTable().addColumn(new sap.ui.table.Column({label:new com.arteriatech.ppc.utils.control.TableHeaderText({text:a}),template:new sap.m.Text({text:"{path:\'ExpDate\' , formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\' }"}),sortProperty:"ExpDate"})),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoItemSelected"));this.setMaterialF4Columns_Exit&&this.setMaterialF4Columns_Exit()},BatchbyCustomerF4FilterBar2:function(e,t){var o=s.getLableFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n}),a=new sap.m.BusyDialog,i="";t.oController.CPTokenInput&&(i=t.oController.CPTokenInput.getValue());var r=new sap.m.Input({value:i,maxLength:s.getMaxLengthFromMetadata({oDataModel:t.oController.getView().getModel("SSGW_MM"),sEntityType:"CPStockItem",sPropertyName:"Batch",oUtilsI18n:t.oUtilsI18n})});new sap.m.Input({});e.setFilterBar(new sap.ui.comp.filterbar.FilterBar({advancedMode:!0,filterGroupItems:[new sap.ui.comp.filterbar.FilterGroupItem({groupTitle:"Batch",groupName:"gn1",name:"n1",label:o,control:r})],search:function(o){var i=r.getValue(),l=t.oController.getCurrentUsers("CPStockItems","read"),n=new Array;n=s.setODataModelReadFilter("","",n,"LoginID","",[l],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"CPGuid",sap.ui.model.FilterOperator.EQ,[t.CPNo],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"CPType","",[t.sCPTypeID],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"MaterialNo","",[t.MaterialNo],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"Batch","",[i],!1,!1,!1),n=com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(t.oController.getView(),"",n,"StockOwner","",["01"],!1,!1,!1),n=s.setODataModelReadFilter(t.oController.getView(),"",n,"StockBy","",["01"],!1,!1,!1),n=gList.byId("StockTypes").getSelectedKey()?com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(gList,"",n,"StockType","",[gList.byId("StockTypes").getSelectedKey()],!1,!1,!1):com.arteriatech.ss.utils.js.CommonValueHelp.setODataModelReadFilter(gList,"",n,"StockType","",["1"],!1,!1,!1);var g=t.oController._oComponent.getModel("SSGW_MM");g.attachRequestSent(function(){a.open()}),g.attachRequestCompleted(function(){a.close()}),g.setHeaders({"x-arteria-loginid":l}),g.read("/CPBatchStkSet",{filters:n,success:function(o){if(e.getTable().bindRows)if(o.results.length>0){for(var a=o=s.formatItemsOData({oData:o.results}),i=[],r=0;r<a.length;r++)""!==a[r].Batch&&(a[r].Unrestricted=parseInt(a[r].Unrestricted),i.push(a[r]));var l=new sap.ui.model.json.JSONModel;e.getTable().clearSelection(),l.setData(i),e.getTable().setModel(l),e.getTable().bindRows("/");var n=e.getTable().getColumns()[1];e.getTable().sort(n,"Descending",!0)}else void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound"));else{var g=new sap.ui.model.json.JSONModel;if(g.setData(o.results),e.getTable().setModel(g),e.getTable().bindItems){var c=e.getTable();c.bindAggregation("items","/",function(){var e=c.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:e.map(function(e){var t=e.template;return new sap.m.Text({text:"{"+t+"}",wrapping:!0})})})})}0===o.results.length&&e.getTable().setNoDataText(t.oUtilsI18n.getText("common.NoResultsFound"))}},error:function(o){e.getTable().clearSelection(),void 0!=e.getTable().getModel()&&e.getTable().getModel().setProperty("/",{}),e.getTable().setNoData(t.oUtilsI18n.getText("common.NoResultsFound")),com.arteriatech.ss.utils.js.CommonValueHelp.dialogErrorMessage(o,"No Data Found")}})},reset:function(){}})),this.setCPMaterialF4FilterBar_Exit&&this.setCPMaterialF4FilterBar_Exit()},prepareMaterialODataFilter:function(e,t,o){var a=new Array;return a=s.setODataModelReadFilter(this.getView(),"",a,"LoginID","",[e],!1,!1,!1),a=s.setODataModelReadFilter(this.getView(),"",a,"MaterialNo",sap.ui.model.FilterOperator.EQ,[t],!1,!1,!1),a=s.setODataModelReadFilter(this.getView(),"",a,"Batch",sap.ui.model.FilterOperator.EQ,[o],!1,!1,!1)},callBatchModel:function(e,t,o){var a=this,i=this._oComponent.getModel("SFGW_MIS");this.getView().setBusy(!0);var r=this.getCurrentUsers("MaterialBatchs","read");i.setHeaders({"x-arteria-loginid":r}),i.read("/MaterialBatchs",{filters:a.prepareMaterialODataFilter(r,e,t),success:function(e){if(e.results.length>0){e=s.formatItemsOData({oData:e.results});var t=a.getView().getModel("ListItems").getData();t[o].BatchSuggestorModel=e,a.getView().getModel("ListItems").setProperty("/"+o,t[o])}a.getView().setBusy(!1)},error:function(e){a.getView().setBusy(!1)}}),this.callBatchModel_Exit&&this.callBatchModel_Exit()},suggestionItemSelectedBatch:function(e){var t=this,o=e.getSource().getBindingContext("ListItems").getPath().split("/")[1],s=parseInt(o);t.suggestionItemSelectd({oEvent:e,thisController:this,sModelName:"ListItems",sKey:"Batch",sDescription:"Batch"},function(e,o,a){var i=[{Batch:a.Batch,Tooltip:a.Batch+"("+a.Batch+")"}];t.getView().getModel("ListItems").setProperty("/"+s+"/BatchTokens",i),t.getView().getModel("ListItems").setProperty("/"+s+"/Batch",a.Batch),t.onChangeBatch()}),this.suggestionItemSelectedBatch_Exit&&this.suggestionItemSelectedBatch_Exit(e)},suggestionItemSelectedBatch2:function(e){var t=this,o=jQuery.extend({},e),s=e.getSource().getBindingContext("ListItems").getPath(),a=e.getSource().getBindingContext("ListItems").getPath().split("/")[1],i=parseInt(a);t.suggestionItemSelectd({oEvent:e,thisController:this,sModelName:"ListItems",sKey:"Batch",sDescription:"Batch",index:s},function(e,s,a){var r=[{Batch:a.Batch,Tooltip:a.Batch+"("+a.Batch+")"}];t.getView().getModel("ListItems").setProperty("/"+i+"/BatchTokens",r),t.getView().getModel("ListItems").setProperty("/"+i+"/Batch",a.Batch),t.onBatchChange2(o,a)}),this.suggestionItemSelectedBatch_Exit&&this.suggestionItemSelectedBatch_Exit(e)},suggestionItemSelectedBatch1:function(e){var t=this,o=jQuery.extend({},e);t.suggestionItemSelectd({oEvent:e,thisController:this,sModelName:"BatchSuggestorModel",sKey:"Batch",sDescription:"Batch"},function(e,s,a){var i=[{Batch:a.Batch,Tooltip:a.Batch+"("+a.Batch+")"}];t.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",[]),t.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",i),t.onBatchChange1(o,a)}),this.suggestionItemSelectedBatch_Exit&&this.suggestionItemSelectedBatch_Exit(e)},suggestionItemSelectd:function(e,t){var o;this.getView().getModel("LocalViewSetting").getProperty("/tokenTextLength");if(e.oEvent.getSource().setValueState("None"),e.oEvent.getSource().setValueStateText(""),void 0===e.index)o="SalesPersonSuggestorModel"===e.sModelName||"BatchSuggestorModel"===e.sModelName?e.oEvent.getParameter("selectedRow").getBindingContext(e.sModelName).getPath():e.oEvent.getParameter("selectedItem").getBindingContext(e.sModelName).getPath();else{o=e.index;var s=e.oEvent.getParameter("selectedRow").getBindingContextPath("ListItems").length-1,a=e.oEvent.getParameter("selectedRow").getBindingContextPath("ListItems").charAt(s)}if(e.sGUID){var i=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sGUID),r=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sKey),l=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:i,text:this.TextAbstract(l,r,5),tooltip:l+" ("+r+")"})),e.oEvent.getSource().setValue("")}else if(void 0===e.index){r=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sKey),l=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:r,text:this.TextAbstract(l,r,5),tooltip:l+" ("+r+")"})),e.oEvent.getSource().setValue("")}else{r=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/BatchSuggestorModel/"+a+"/"+e.sKey),l=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/BatchSuggestorModel/"+a+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:r,text:this.TextAbstract(l,r,5),tooltip:l+" ("+r+")"})),e.oEvent.getSource().setValue("")}if(void 0===e.index)var n=e.thisController.getView().getModel(e.sModelName).getProperty(o);else n=e.thisController.getView().getModel(e.sModelName).getProperty(o+"/BatchSuggestorModel/"+a);t&&t(r,l,n)},OnBatchF4Remove:function(e){if("removed"===e.getParameters().type){gList.getModel("LocalViewSetting").setProperty("/CalculateButton",!0),gList.getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!1),gList.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!1);var t=e.getSource().getBindingContext("ListItems").getPath().split("/")[1],o=parseInt(t);this.getView().getModel("ListItems").setProperty("/"+o+"/BatchTokens",[]),this.getView().getModel("ListItems").setProperty("/"+o+"/Batch","")}},OnBatchF4RemoveTool:function(e){"removed"===e.getParameters().type&&(this.getView().getModel("LocalViewSetting").setProperty("/BatchTokens",[]),this.getView().getModel("LocalViewSetting").setProperty("/BookStk",""),this.getView().getModel("LocalViewSetting").setProperty("/StkDifference",""),this.getView().getModel("LocalViewSetting").setProperty("/AdjQty",""),this.getView().byId("sFReasonIDEdit").setSelectedKey(""))},handleBatchSuggest:function(e){s.removeAllMsgs(),s.hideMessagePopover(gList),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length);var t=e.getSource().getBindingContext("ListItems").getProperty("/"),o=e.getSource().getBindingContext("ListItems").getPath().split("/")[1];parseInt(o);if(""===t[o].MaterialNo||null===t[o].MaterialNo||void 0===t[o].MaterialNo){var a="Please enter Material for Item No "+t[o].ItemNo;s.addMsg_MsgMgr(a,"error","/UI/MaterialNo")}s.doErrMessageExist()?this.handleSuggest({oEvent:e,aProperties:["Batch","Batch"],sBinding:"suggestionRows"}):(e.getSource().setValue(""),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList)),this.handleBatchSuggest_Exit&&this.handleBatchSuggest_Exit(e)},handleBatchSuggest1:function(e){s.removeAllMsgs(),s.hideMessagePopover(gList),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.doErrMessageExist()?this.handleSuggest({oEvent:e,aProperties:["Batch","Batch"],sBinding:"suggestionRows"}):(e.getSource().setValue(""),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList)),this.handleBatchSuggest_Exit&&this.handleBatchSuggest_Exit(e)},handleSuggest:function(e){var t=e.oEvent.getParameter("suggestValue"),o=[];if(t)for(var s=0;s<e.aProperties.length;s++)o.push(new sap.ui.model.Filter(e.aProperties[s],sap.ui.model.FilterOperator.StartsWith,t));var a=new sap.ui.model.Filter(o,!1);e.oEvent.getSource().getBinding(e.sBinding).filter(a)},suggestionNewMatItemSelected:function(e,t){var o=this.getView().getModel("LocalViewSetting").getProperty("/tokenTextLength");e.oEvent.getSource().setValueState("None"),e.oEvent.getSource().setValueStateText("");var s=e.oEvent.getParameter("selectedRow").getBindingContext(e.sModelName).getPath();if(e.sGUID){var a=e.thisController.getView().getModel(e.sModelName).getProperty(s+"/"+e.sGUID),i=e.thisController.getView().getModel(e.sModelName).getProperty(s+"/"+e.sKey),r=e.thisController.getView().getModel(e.sModelName).getProperty(s+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:a,text:this.TextAbstract(r,i,o),tooltip:r+" ("+i+")"})),e.oEvent.getSource().setValue("")}else{i=e.thisController.getView().getModel(e.sModelName).getProperty(s+"/"+e.sKey),r=e.thisController.getView().getModel(e.sModelName).getProperty(s+"/"+e.sDescription);e.oEvent.getSource().removeAllTokens(),e.oEvent.getSource().addToken(new sap.m.Token({key:i,text:this.TextAbstract(r,i,o),tooltip:r+" ("+i+")"})),e.oEvent.getSource().setValue("")}var l=e.thisController.getView().getModel(e.sModelName).getProperty(s);t&&t(i,r,l)},validateOtherMaterial:function(e){for(var t=this.getView().getModel("ListItems").getData(),o=!0,a=0;a<t.length;a++)if(e.MaterialNo===t[a].MaterialNo){o=!1;var i="Material "+e.MaterialNo+" already exists";s.addMsg_MsgMgr(i,"error","/UI/MaterialNo")}return o},onChangeOtherMaterial:function(e){if(s.removeAllMsgs(),this.validateMandatory(),s.doErrMessageExist()){var t=this,o=e.getSource().getId().slice(-1);o=parseInt(e.getSource().getBindingContext("ListItems").getPath().split("/")[1]);for(var a=parseInt(o),i=(this.getView().getModel("ListItems").getProperty("/"),e.getSource().getBindingContext("ListItems"),this.getView().byId("UIListTableOther").getRows()[a].getCells()),r=0;r<i.length;r++)-1!==i[r].getId().indexOf("inputOtherMaterial")&&(this.MaterialInput=this.getView().byId(i[r].getId()));t.suggestionOnChange({oEvent:e,thisController:this,sModelName:"OtherMatSuggestorModel",sKey:"MaterialNo",sDescription:"MaterialDesc"},function(e,o,s,i,r){var l=[{Uom:r.BaseUom},{Uom:r.AlternativeUOM1}];t.getView().getModel("ListItems").setProperty("/"+a+"/MaterialNo",r.MaterialNo),t.getView().getModel("ListItems").setProperty("/"+a+"/MaterialDesc",r.MaterialDesc),t.getView().getModel("ListItems").setProperty("/"+a+"/OrderMaterialGroupID",r.ProdHier),t.getView().getModel("ListItems").setProperty("/"+a+"/OrderMaterialGroupDesc",r.ProdHierDesc),t.getView().getModel("ListItems").setProperty("/"+a+"/DMSDivisionID",r.DivisionID),t.getView().getModel("ListItems").setProperty("/"+a+"/UOMs",l),t.checkForNewLineItem()})}else e.getSource().setValue(""),s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error");this.onChangeOtherMaterial_Exit&&this.onChangeOtherMaterial_Exit(e)},suggestionOnChange:function(e,t){e.oEvent.getSource().setValueState("None"),e.oEvent.getSource().setValueStateText("");var o="",s="",a={};if(-1!==(i=e.oEvent.getSource().getValue()).indexOf(" "))var i=e.oEvent.getSource().getValue();else i=i.split("(")[0].trim().charAt(0).toUpperCase()+i.slice(1);var r=e.thisController.getView().getModel(e.sModelName).getProperty("/"),l=!1;if(""!==i){for(var n=0;n<r.length;n++){if(r[n][e.sKey]===i){if(a=r[n],o=r[n][e.sKey],s=r[n][e.sDescription],e.oEvent.getSource().removeAllTokens(),e.sGUID)var g=new sap.m.Token({key:r[n][e.sGUID],text:this.TextAbstract(s,o,10),tooltip:s+" ("+o+")"});else g=new sap.m.Token({key:r[n][e.sKey],text:this.TextAbstract(s,o,10),tooltip:s+" ("+o+")"});e.oEvent.getSource().addToken(g),e.oEvent.getSource().setValue(""),l=!0;break}if(r[n][e.sDescription]===i){if(a=r[n],o=r[n][e.sKey],s=r[n][e.sDescription],e.oEvent.getSource().removeAllTokens(),e.sGUID)g=new sap.m.Token({key:r[n][e.sGUID],text:this.TextAbstract(s,o,10),tooltip:s+" ("+o+")"});else g=new sap.m.Token({key:r[n][e.sKey],text:this.TextAbstract(s,o,10),tooltip:s+" ("+o+")"});e.oEvent.getSource().addToken(g),e.oEvent.getSource().setValue(""),l=!0;break}}l||(e.oEvent.getSource().setValueState("Error"),e.oEvent.getSource().setValueStateText("Please enter valid "+e.sKey))}t&&t(i,l,o,s,a)},onChangeMaterial1:function(e){var t=this;s.removeAllMsgs(),this.validateMandatory(),s.doErrMessageExist()?t.suggestionOnChange({oEvent:e,thisController:this,sModelName:"MatSuggestorModel",sKey:"MaterialNo",sDescription:"MaterialDesc"},function(e,o,s,a,i){t.setSelectedMaterialToTable1(i)}):(e.getSource().setValue(""),s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error")),this.onChangeMaterial1_Exit&&this.onChangeMaterial1_Exit(e)},onChangeMaterial:function(e){if(s.removeAllMsgs(),this.validateMandatory(),s.doErrMessageExist()){var t=this,o=e.getSource().getId().slice(-1);o=parseInt(e.getSource().getBindingContext("ListItems").getPath().split("/")[1]);var a=parseInt(o),i=this.getView().getModel("ListItems").getProperty("/"),r=e.getSource().getBindingContext("ListItems");this.getView().byId("UIListTable").getRows()[a].getCells();s.suggestionOnChange({oEvent:e,thisController:this,sModelName:"MatSuggestorModel",sKey:"MaterialNo",sDescription:"MaterialDesc"},function(o,l,n,g,c){l?(e.getSource().setValueState("None"),e.getSource().setValueStateText(""),t.setSelectedMaterialToTable(c,r,i,a),t.getView().getModel("ListItems").setProperty("/"+a+"/OrderMaterialGroupID",c.OrderMaterialGroupID),t.getView().getModel("ListItems").setProperty("/"+a+"/OrderMaterialGroupDesc",c.OrderMaterialGroupDesc),t.getView().getModel("ListItems").setProperty("/"+a+"/DMSDivision",c.DMSDivision),t.getView().getModel("ListItems").setProperty("/"+a+"/DmsDivisionDesc",c.DmsDivisionDesc)):(e.getSource().setValue(""),t.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList))})}else e.getSource().setValue(""),s.displayMsg_MsgBox(this.getView(),s.getMsgsFromMsgMgr(),"error");this.onChangeMaterial_Exit&&this.onChangeMaterial_Exit(e)},onDeleteItem:function(e){var t=e.getSource().getBindingContext("ListItems").getPath().split("")[1];e.getSource().getBindingContext("ListItems").getModel().getData().splice(t,1),e.getSource().getBindingContext("ListItems").getModel().refresh();var o=e.getSource().getBindingContext("ListItems").getModel().getData();e.getSource().getBindingContext("ListItems").getModel().refresh(),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",o.length),this.setItemNo(),0===o.length&&this.setDataModel()},onDeleteItem1:function(e){var t=e.getSource().getBindingContext("ListItems").getPath().split("")[1];e.getSource().getBindingContext("ListItems").getModel().getData().splice(t,1),e.getSource().getBindingContext("ListItems").getModel().refresh();var o=e.getSource().getBindingContext("ListItems").getModel().getData();e.getSource().getBindingContext("ListItems").getModel().refresh(),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",o.length)},onDeleteOtherItem:function(e){var t=this;this.removeAllTokenforOtherItems(),gList.getModel("LocalViewSetting").setProperty("/CalculateButton",!0),gList.getModel("LocalViewSetting").setProperty("/CalculateButtonEnable",!0),gList.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!1);var o=e.getSource().getBindingContext("ListItems").getPath().split("")[1];e.getSource().getBindingContext("ListItems").getModel().getData().splice(o,1),e.getSource().getBindingContext("ListItems").getModel().refresh();var s=e.getSource().getBindingContext("ListItems").getModel().getData();e.getSource().getBindingContext("ListItems").getModel().refresh(),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",s.length),setTimeout(function(){t.addTokenstoOtherLineItems(),t.checkForNewLineItem(),0===s.length&&t.setDataModel()},100)},addTokenstoOtherLineItems:function(){for(var e=this.getView().getModel("ListItems").getData(),t=this.getView().byId("UIListTableOther").getRows(),o=0;o<e.length;o++)for(var s=t[o].getCells(),a=new sap.m.Token({key:e[o].MaterialNo,text:this.TextAbstract(e[o].MaterialDesc,e[o].MaterialNo,10),tooltip:e[o].MaterialDesc+"("+e[o].MaterialNo+")"}),i=0;i<s.length;i++)if(-1!==s[i].getId().indexOf("inputOtherMaterial")){var r=s[i].getId();""!==e[o].MaterialNo&&this.getView().byId(r).addToken(a)}},addTokenstoLineItems:function(){for(var e=gList.getModel("ListItems").getData(),t=gList.byId("UIListTable").getRows(),o=1,s="",a=0;a<e.length;a++){s=1*o,o++,e[a].ItemNo=s;for(var i=t[a].getCells(),r=(new sap.m.Token({key:e[a].MaterialNo,text:this.TextAbstract(e[a].MaterialDesc,e[a].MaterialNo,25),tooltip:e[a].MaterialDesc+"("+e[a].MaterialNo+")"}),0);r<i.length;r++);}gList.getModel("ListItems").setData(e)},removeAllTokenforOtherItems:function(){for(var e=gList.byId("UIListTableOther").getRows(),t=0;t<e.length;t++)for(var o=e[t].getCells(),s=0;s<o.length;s++)if(-1!==o[s].getId().indexOf("inputOtherMaterial")){var a=o[s].getId();gList.byId(a).removeAllTokens()}},resetOtherMaterialTable:function(){for(var e=gList.byId("UIListTableOther").getRows(),t=0;t<e.length;t++)for(var o=e[t].getCells(),s=0;s<o.length;s++)if(-1!==o[s].getId().indexOf("inputOtherMaterial")){var a=o[s].getId();gList.byId(a).removeAllTokens()}},removeAllTokenforItems:function(){for(var e=gList.byId("UIListTable").getRows(),t=0;t<e.length;t++)for(var o=e[t].getCells(),s=0;s<o.length;s++)if(-1!==o[s].getId().indexOf("UIFromBatchDD")){var a=o[s].getId(),i=new sap.ui.model.json.JSONModel([]);gList.byId(a).setModel(i,"BatchDD")}},removeAllTokenforItemsRadio:function(){for(var e=gList.byId("UIListTableOther").getRows(),t=0;t<e.length;t++)for(var o=e[t].getCells(),s=0;s<o.length;s++)if(-1!==o[s].getId().indexOf("inputOtherMaterial")){var a=o[s].getId();gList.byId(a).removeAllTokens()}},validateMaterial:function(e,t,o){gList.getModel("ListItems").setProperty("/"+o+"/MaterialNoValueState",sap.ui.core.ValueState.None),gList.getModel("ListItems").setProperty("/"+o+"/MaterialNoValueStateText",""),s.removeMsgsInMsgMgrById("/UI/MaterialNo"),s.hideMessagePopover(gList),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length);var a=!0,i=e.MaterialNo;if(i){var r=gList.getModel("ListItems").getProperty("/");r[o].Material=e.MaterialNo;for(var l=0;l<r.length;l++)if(o!==l&&r[l].MaterialNo===i){a=!1;break}}if(!a){var g=n.getText("SSStockCreate.Message.MaterialRepeat1",i)+" "+n.getText("SSStockCreate.Message.MaterialRepeat2");gList.getModel("ListItems").setProperty("/"+o+"/MaterialNoValueState",sap.ui.core.ValueState.Error),gList.getModel("ListItems").setProperty("/"+o+"/MaterialNoValueStateText",g),s.addMsg_MsgMgr(g,"error","/UI/MaterialNo")}return this.validateMaterial_Exit&&(a=this.validateMaterial_Exit(e,t,o)),a},addExistingItem:function(){var e=this.getView().getModel("ListItems").getData();e.push({MaterialNo:"",MaterialDesc:"",MaterialDocGUID:"",MaterialDocQty:"",StockGUID:"",Remarks:"",Currency:"",Price:"",MRP:"",UOM:"",Batch:"",ExpiryDate:null,ItemNo:"",DMSDivisionID:"",DMSDivisionDesc:"",MFD:"",GQuantity:"0",DQuantity:"0",SQuantity:"0"}),this.getView().getModel("ListItems").setProperty("/",e),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",e.length),this.setItemNo(e)},setItemNo:function(e){for(var t=0,o=this.getView().getModel("ListItems").getProperty("/"),s=0;s<o.length;s++)t+=10,o[s].ItemNo=t;this.getView().getModel("ListItems").setProperty("/",o),this.setItemNo_Exit&&this.setItemNo_Exit(e)},addOtherItem:function(){var e=this.getView().getModel("ListItems").getData();e.push({MaterialNo:"",MaterialDesc:"",CPStockItemGUID:s.generateUUID(),ExpiryDate:null,OrderMaterialGroupID:"",OrderMaterialGroupDesc:"",ManufacturingDate:null,GQuantity:"0",DQuantity:"0",SQuantity:"0",Currency:"",UOM:"",Batch:"",BatchValueState:"None",BatchValueStateText:"",UOMValueState:"None",UOMValueStateText:"",MRP:"0.00",MRPValueState:"None",MRPValueStateText:"",UnitPrice:"0.00",UnitPriceValueState:"None",UnitPriceValueStateText:"",InvoiceItemGUID:"",QuantityValueState:"None",MDateValueState:"None",MDateValueStateText:"",EDateValueState:"None",EDateValueStateText:"",Remarks:"",RemarksState:"None",DeletionInd:"",BatchOrSerial:""}),this.getView().getModel("ListItems").setProperty("/",e),this.getView().getModel("LocalViewSetting").setProperty("/ListItemsCount",e.length)},popUp:function(){s.showMessagePopover(gList)},selectAllItems:function(e){var t=e.mParameters.selected,o=this.getView().getModel("ListItems").getProperty("/");if(!0===t)for(var s=0;s<o.length;s++)this.getView().getModel("ListItems").setProperty("/"+s+"/SelectedItem",!0),this.getView().getModel("ListItems").setProperty("/"+s+"/enableLineItem",!0);else for(s=0;s<o.length;s++)this.getView().getModel("ListItems").setProperty("/"+s+"/SelectedItem",!1),this.getView().getModel("ListItems").setProperty("/"+s+"/enableLineItem",!1),this.getView().getModel("ListItems").setProperty("/"+s+"/AdjQty",""),this.getView().getModel("ListItems").setProperty("/"+s+"/DiffQty",""),this.getView().getModel("ListItems").setProperty("/"+s+"/ReasonID",""),this.getView().getModel("ListItems").setProperty("/"+s+"/Remarks","")},SelectItem:function(e){var t=e.mParameters.selected,o=e.getSource().getBindingContext("ListItems").getPath(),s=parseInt(o.substring(o.lastIndexOf("/")+1));!0===t?this.getView().getModel("ListItems").setProperty("/"+s+"/enableLineItem",!0):(this.getView().getModel("ListItems").setProperty("/"+s+"/enableLineItem",!1),this.getView().getModel("ListItems").setProperty("/"+s+"/AdjQty",""),this.getView().getModel("ListItems").setProperty("/"+s+"/DiffQty",""),this.getView().getModel("ListItems").setProperty("/"+s+"/ReasonID",""),this.getView().getModel("ListItems").setProperty("/"+s+"/Remarks",""))},onChangeMFDdate:function(e){this.ClearValueState(["MDateValueState"]),s.removeAllMsgs(),s.hideMessagePopover(gList);var t=e.getSource().getBindingContext("ListItems").getPath(),o=parseInt(t.substring(t.lastIndexOf("/")+1)),a=gList.getModel("ListItems").getData(),i=e.getSource().getDateValue();if("object"!=typeof i){var r=i.split("/"),l=new Date(r[2],r[1]-1,r[0]);i=s.addHoursAndMinutesToDate({dDate:l})}if(null===i||""===i){var n="Please Select Manuf Date for Material No "+a[o].MaterialNo;s.addMsg_MsgMgr(n,"error","MDate"+o),s.showMessagePopover(gList),this.getView().getModel("ListItems").setProperty("/"+o+"/ManufacturingDate",null)}if(null!==i&&""!==i){var g=this.getView().getModel("LocalViewSetting").getProperty("/Today");if(new Date(i.getFullYear(),i.getMonth(),i.getDate())>new Date(g.getFullYear(),g.getMonth(),g.getDate())){n="Manuf Date cannot be Future Date for Material No "+a[o].MaterialNo;s.addMsg_MsgMgr(n,"error","MDate"+o),s.showMessagePopover(gList),this.getView().getModel("ListItems").setProperty("/"+o+"/ManufacturingDate",null)}else this.getView().getModel("ListItems").setProperty("/"+o+"/ManufacturingDate",i)}},onChangeExpiryDate:function(e){this.ClearValueState(["EDateValueState"]),s.removeAllMsgs(),s.hideMessagePopover(gList);var t=e.getSource().getBindingContext("ListItems").getPath(),o=parseInt(t.substring(t.lastIndexOf("/")+1)),a=gList.getModel("ListItems").getData(),i=this.getView().getModel("ListItems").getProperty("/"+o+"/ManufacturingDate");if(null===i||""===i){var r="Please Enter Manuf Date for Material No "+a[o].MaterialNo;s.addMsg_MsgMgr(r,"error","MDate"+o),s.showMessagePopover(gList),this.getView().getModel("ListItems").setProperty("/"+o+"/ExpiryDate",null)}else{var l=e.getSource().getDateValue();if("object"!=typeof l){var n=l.split("/"),g=new Date(n[2],n[1]-1,n[0]);l=s.addHoursAndMinutesToDate({dDate:g})}if(null===l||""===l){r="Please Enter Expiry Date for Material No "+a[o].MaterialNo;s.addMsg_MsgMgr(r,"error","EDate"+o),s.showMessagePopover(gList),this.getView().getModel("ListItems").setProperty("/"+o+"/ExpiryDate",null)}if(null!==l&&""!==l){var c=new Date(i.getFullYear(),i.getMonth(),i.getDate());if(new Date(l.getFullYear(),l.getMonth(),l.getDate())<c){r="Expiry Date Should be Greater than or Equal to Manuf Date for Material No"+a[o].MaterialNo;s.addMsg_MsgMgr(r,"error","EDate"+o),s.showMessagePopover(gList),this.getView().getModel("ListItems").setProperty("/"+o+"/ExpiryDate",null)}else this.getView().getModel("ListItems").setProperty("/"+o+"/ExpiryDate",l)}}},validateOtherItems:function(){for(var e=gList.getModel("ListItems").getData(),t=!0,o=0;o<e.length;o++)""===e[o].GQuantity&&(e[o].GQuantity="0"),""===e[o].SQuantity&&(e[o].SQuantity="0"),""===e[o].DQuantity&&(e[o].DQuantity="0");this.ClearValueState1(["BatchValueState","UOMValueState","MRPValueState","UnitPriceValueState","MDateValueState","EDateValueState","RefDocNoValueState","RefDocItemNoValueState","QuantityValueState"]);for(var a=!0,i=0;i<e.length;i++)if(""!==e[i].MaterialNo){t=!1;var r=gList.byId("UIListTableOther").getRows()[i].getCells();for(o=0;o<r.length;o++)if(-1!==r[o].getId().indexOf("inputUOM")){var l=gList.byId(r[o].getId()).getSelectedItem().getText();if(""===l){var n="Please select UOM for Material No "+e[i].MaterialNo;gList.getModel("ListItems").setProperty("/"+i+"/UOMValueState","Error"),gList.getModel("ListItems").setProperty("/"+i+"/UOMValueStateText",n),s.addMsg_MsgMgr(n,"error","Batch"+i)}else gList.getModel("ListItems").setProperty("/"+i+"/UOM",l)}if(""===e[i].Batch){n="Please enter Batch for Material No "+e[i].MaterialNo;s.addMsg_MsgMgr(n,"error","Batch"+i),a=!1}if(0===parseFloat(e[i].GQuantity)){n="Please enter Quantity for Material No "+e[i].MaterialNo;s.addMsg_MsgMgr(n,"error","Quantity"+i),a=!1}}if(t){s.addMsg_MsgMgr("Please add atleast one Material to create Stock Adjustment","error","material"),a=!1}return a},ClearValueState1:function(e){for(var t=gList.getModel("ListItems").getData(),o=0;o<gList.getModel("ListItems").getData().length;o++){""===t[o].GQuantity&&(t[o].GQuantity="0"),""===t[o].DQuantity&&(t[o].DQuantity="0"),""===t[o].SQuantity&&(t[o].Suantity="0"),""===t[o].MRP&&(t[o].MRP="0.00"),""===t[o].PurchasePrice&&(t[o].PurchasePrice="0.00");for(var s=0;s<e.length;s++)gList.getModel("ListItems").setProperty("/"+o+"/"+e[s],"None")}},selectDocumentType:function(e){var t=this;this.getDocumentStore();var o=new sap.m.Panel,a=new sap.m.Label({text:n.getText("ContractAttachments.Page.UploadCollection.Dialog.DoumentType"),required:!0});a.addStyleClass("sapUiTinyMarginEnd"),a.addStyleClass("sapUiTinyMarginTop");var i=new sap.m.HBox;i.addStyleClass("sapUiTinyMarginTop");var r=new sap.m.VBox,l=(new sap.m.Text({text:""}),new sap.ui.core.Item({key:"{Key}",text:"{Key}{Seperator}{Text}{Mandatory}",tooltip:"{Key}{Seperator}{Text}"}));this.DocType=new sap.m.Select({items:{path:"/",template:l}});var c=new sap.m.UploadCollection({width:"100%",maximumFilenameLength:55,maximumFileSize:10,multiple:!1,sameFilenameAllowed:!1,instantUpload:!1,showSeparators:"All",noDataText:g.getText("common.NoAttachments"),change:function(e){t.onChange(e)},fileDeleted:function(e){t.onFileDeleted(e)},filenameLengthExceed:function(e){t.onFilenameLengthExceed(e)},fileSizeExceed:function(e){t.onFileSizeExceed(e)},typeMissmatch:function(e){t.onTypeMissmatch(e)},beforeUploadStarts:function(e){t.onBeforeUploadStarts(e)},uploadComplete:function(e){t.onUploadComplete(e)},uploadUrl:"/sap/opu/odata/ARTEC/SCGW/SchemeDocuments"});i.addItem(a),i.addItem(this.DocType),r.addItem(c),r.addStyleClass("sapUiTinyMargin"),o.addContent(r),this.dialog=new sap.m.Dialog({title:n.getText("ContractAttachments.Page.UploadCollection.Dialog.Title"),type:"Standard",width:"50%",height:"50%",resizable:!0,contentWidth:"50%",contentHeight:"50%",state:"None",icon:"sap-icon://attachment",draggable:!0,content:o,buttons:[new sap.m.Button({text:n.getText("ContractAttachments.Page.UploadCollection.Dialog.Title"),press:function(){if(s.removeAllMsgs(),t.validateContractAttachments(c))t.startUpload(c),t.dialog.close();else{var e=s.getMsgsFromMsgMgr();s.displayMsg_MsgBox(t.getView(),e,"error")}}}),new sap.m.Button({text:n.getText("ContractAttachments.Page.UploadCollection.Dialog.Button.Cancel"),press:function(){t.dialog.close()}})],afterClose:function(){}}),t.dialog,t.dialog.open(),!1===sap.ui.Device.support.touch&&t.dialog.addStyleClass("sapUiSizeCompact")},onChange:function(e){var t,o=this._oComponent.getModel("SCGW").getSecurityToken(),s=this.getView().byId("UploadCollectionView"),a=this._oComponent.getModel("SCGW").sServiceUrl+"/SchemeDocuments",i=this.getCurrentUsers("SchemeDocuments","write"),r=new sap.m.UploadCollectionParameter({name:"x-arteria-loginid",value:i}),l=new sap.m.UploadCollectionParameter({name:"x-csrf-token",value:o}),n=new sap.m.UploadCollectionParameter({name:"type",value:"POST"}),g=e.getParameter("mParameters").files[0].name;c=this.getView().getModel("LocalViewSetting").getProperty("/DocumentStore"),d=this.getView().getModel("LocalViewSetting").getProperty("/GUID").toUpperCase(),t=new sap.m.UploadCollectionParameter({name:"SLUG",value:"SchemeGUID:"+d+",DocumentStore:"+c+",FileName:"+g+",LoginID:"+i}),s.setUploadUrl(a),s.addHeaderParameter(r),s.addHeaderParameter(t),s.addHeaderParameter(l),s.addHeaderParameter(n)},onFileDeleted:function(e){this.getView().setBusy(!0),s.removeAllMsgs();var t,o=this,a=this._oComponent.getModel("SCGW"),i=this.getCurrentUsers("SchemeDocuments","delete");a.setHeaders({"x-arteria-loginid":i});var r=this._oComponent.getModel("SCGW").getSecurityToken();a.setHeaders({"x-csrf-token":r}),t="SchemeDocuments(SchemeGUID="+("guid\'"+d+"\'")+",DocumentID=\'"+escape(e.getParameters().documentId)+"\',DocumentStore=\'"+c+"\')",a.remove("/"+t,{headers:{"x-arteria-loginid":i},success:function(){s.removeDuplicateMsgsInMsgMgr();s.getMsgsFromMsgMgr();m++,o.getContractDocumentss(o._oComponent,n.getText("ContractAttachments.message.deleted"))},error:function(e){s.removeDuplicateMsgsInMsgMgr();var t=s.getMsgsFromMsgMgr();s.displayMsg_MsgBox(o.getView(),t,"error"),p.close()}})},getDocumentStore:function(){var e=this,t=this.getView(),o=this._oComponent.getModel("PCGW"),i=new Array;i=s.setODataModelReadFilter(t,"",i,"Typeset",sap.ui.model.FilterOperator.EQ,["PC"],!1,!1,!1),i=s.setODataModelReadFilter(t,"",i,"Types",sap.ui.model.FilterOperator.EQ,["DMSSTORE"],!1,!1,!1),a.getDropdown(o,"ConfigTypsetTypeValues",i,"TypeValue","Types",M,this.getView(),"DocumentStore","",function(t){e.getView().getModel("LocalViewSetting").setProperty("/DocumentStore",t[0].Key)})},onFilenameLengthExceed:function(e){if(e.mParameters.mParameters.fileName.length>55){var t=n.getText("File name Length Exceeded");s.displayMsg_MsgBox(this.getView(),t,"error")}this.onFilenameLengthExceed_Exit&&this.onFilenameLengthExceed_Exit()},onBeforeUploadStarts:function(e){var t,o=this.getCurrentUsers("SchemeDocuments","write"),a=new sap.m.UploadCollectionParameter({name:"x-arteria-loginid",value:o}),i=this._oComponent.getModel("SCGW").getSecurityToken(),r=new sap.m.UploadCollectionParameter({name:"x-csrf-token",value:i});m++;var l=e.mParameters.fileName,n=d;n=n.split("-").join("");var g=s.generateUUID().toUpperCase();g=g.split("-").join(""),t=new sap.m.UploadCollectionParameter({name:"SLUG",value:"SchemeGUID:"+n+",DocumentStore:"+c+",DocumentID:"+g+",DocumentTypeID:STK_ADJ,FileName:"+l+",LoginID:"+o}),e.getParameters().addHeaderParameter(r),e.getParameters().addHeaderParameter(a),e.getParameters().addHeaderParameter(t)},onUploadComplete:function(e){if(201===e.getParameter("files")[0].status)this.getContractDocumentss(this._oComponent,n.getText("ContractAttachments.message.uploaded")),this.getView().setBusy(!1);else{var t,o=e.getParameter("files")[0].responseRaw;t=s.parseoDataXMLErrorMessage(o),this.getContractDocumentss(this._oComponent,n.getText("ContractAttachments.message.notuploaded")+t),this.getView().setBusy(!1)}},getContractDocumentss:function(e,t){var o=this,a=this.getView(),i=this,r=e.getModel("SCGW"),l=i.getCurrentUsers("SchemeDocuments","read");r.attachRequestSent(function(){}),r.attachRequestCompleted(function(){}),r.setHeaders({"x-arteria-loginid":l}),r.read("/SchemeDocuments",{filters:i.prepareContractDocumentsODataFilter(e,l),success:function(i){if(s.removeAllMsgs(),s.hideMessagePopover(o.getView()),o.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),i.results.length>0){for(var r=new sap.ui.model.json.JSONModel,l=0;l<i.results.length;l++){var n=a.getModel("SCGW").sServiceUrl+"/SchemeDocuments(SchemeGUID="+("guid\'"+i.results[l].SchemeGUID+"\'")+",DocumentID=\'"+i.results[l].DocumentID+"\',DocumentStore=\'"+i.results[l].DocumentStore+"\')/$value";i.results[l].DocumentUrl=s.getDocumentURL({sServiceUrl:n,sApplication:"PD"})}r.setData(i.results),a.getModel("LocalViewSetting").setProperty("/AttachmentCount",i.results.length),e.getModel("SchemeCPDocuments")&&e.getModel("SchemeCPDocuments").setProperty("/",{}),e.setModel(r,"SchemeCPDocuments")}else e.getModel("SchemeCPDocuments")&&(e.getModel("SchemeCPDocuments").setProperty("/",{}),a.getModel("LocalViewSetting").setProperty("/AttachmentCount",0));0===--m&&(t&&setTimeout(function(){sap.m.MessageToast.show(t)},10),o.getView().setBusy(!1),p.close())},error:function(a){e.getModel("SchemeDocuments")&&e.getModel("SchemeDocuments").setProperty("/",{}),s.removeAllMsgs(),t&&setTimeout(function(){sap.m.MessageToast.show(t)},10),"A"===c&&i.setMessageStrip("",e),o.getView().setBusy(!1),p.close()}})},setMessageStrip:function(e,t){for(var o=0;o<e.length;o++)0===e[o].Count&&(e=""===e?"\'"+e[o].Text+"\'":e+",\'"+gPOMandatoryDocType[o].Text+"\'");if(""===e)t.getModel("LocalAttachmentModel").setProperty("/MessageStripVisible",!1);else{var s=n.getText("ContractAttachmentsA.ContractDocuments.DocTypeAttachmentMandatoryError",e);t.getModel("LocalAttachmentModel").setProperty("/MessageStripVisible",!0),t.getModel("LocalAttachmentModel").setProperty("/MessageStripMessage",s)}},prepareContractDocumentsODataFilter:function(e,t){var o=d,a=(e.getModel("SCGW"),new Array);return a=s.setODataModelReadFilter(this.getView(),"",a,"LoginID","",[t],!1,!1,!1),a=s.setODataModelReadFilter(this.getView(),"",a,"SchemeGUID",sap.ui.model.FilterOperator.EQ,[o],!0,!1,!1),a=s.setODataModelReadFilter(this.getView(),"",a,"DocumentStore",sap.ui.model.FilterOperator.EQ,[c],!0,!1,!1)},validateContractAttachments:function(e){var t=!0;if(0===e.getItems().length){var o=n.getText("ContractAttachmentsA.Page.Upload.AttachmentErrorMsg");s.addMsg_MsgMgr(o,"error","FGroup_Attachment");t=!1}return t},onDownloadFormat:function(){var e=this;if("DD"===this.sCustomerInputType)if(gList.getModel("MaterialDocs").getData().FromGUID)e.setBatchForExcelUpload(function(){e.onDownloadFormat1()});else{var t="Please Select the Distributor";l.error(t,{styleClass:"sapUiSizeCompact"})}else if("VH"===this.sCustomerInputType)if(0!=e.getView().byId("inputCustomerNo").getTokens().length)e.setBatchForExcelUpload(function(){e.onDownloadFormat1()});else{t="Please Add the Distributor";l.error(t,{styleClass:"sapUiSizeCompact"})}},onDownloadFormat1:function(){var e=gList.getModel("BatchExcelUploadModel").getData(),t=this.ReasonText(),o=this.getHeaderColumnForExcel(t),s=new Array;s.push(o.retailerMainHeader,o.stockHeader);for(var a=0;a<e.length;a++){var i=this.getHeaderColumnForExcelTypeWiseItem(e,a);s.push(i.typeWiseItem)}var r="";s.forEach(function(e){var t=e.join(",");r+=t+"\\r\\n"});var l=document.createElement("a"),n=new Blob([r],{type:"text/csv;charset=utf-8;"});if(l.href="oData:text/csv;charset=utf-8,"+encodeURI(r),l.target="_blank",l.download="StockAdjustmentEntry.csv",void 0!==l.download){var g=URL.createObjectURL(n);l.setAttribute("href",g),l.setAttribute("download","StockAdjustmentEntry.csv"),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}this.getView().setBusy(!1)},getHeaderColumnForExcelTypeWiseItem:function(e,t){var o=this.getView().getModel("LocalViewSetting").getProperty("/CustomerNo"),s=this.getView().getModel("LocalViewSetting").getProperty("/CustomerName");return e[t].Reason="",e[t].PhysicalStock="",e[t].Parent=o,e[t].customerName=s,{typeWiseItem:[e[t].Parent,e[t].customerName,e[t].MaterialNo,e[t].MaterialDesc,e[t].Batch,e[t].Unrestricted,e[t].Uom,e[t].PhysicalStock,e[t].Uom,e[t].MRP,e[t].Currency,e[t].ExpDate,e[t].Reason]}},ReasonText:function(){for(var e=this.getView().getModel("ReasonDD").getData(),t="",o=0;o<e.length;o++)""!=e[o].Key&&(t=""===t?e[o].Key+"-"+e[o].Text:t+","+e[o].Key+"-"+e[o].Text);return t},getHeaderColumnForExcel:function(e){return(e=e.split(",")).unshift("Reason:"),{retailerMainHeader:e,stockHeader:["CustomerNo","CustomerName","MaterialNo","MaterialDesc","Batch","BookStock","Unit","PhysicalStock","Unit","MRP","Currency","ExpiryDate","Reason"]}},getConvertedTime:function(e){if(e){var t=new Date(e);return t=s.addHoursAndMinutesToDate({dDate:t})}return null},handleUploadComplete:function(e){s.removeAllMsgs();h.splice(0,h.length);var t=e.getParameter("files")&&e.getParameter("files")[0];if(t&&window.FileReader){var o=new FileReader;o.onload=function(e){var t=e.target.result.split("\\n"),o=[];if("01"===t[0].split(":")[0].split("-")[0])var s=t[1].split(",");else s=t[1].split(",");var a=s[s.length-1].length;if("01"===t[0].split(":")[0].split("-")[0])for(var i=2;i<t.length-1;i++){var r={};(n=t[i].split(","))[s.length-1]=n[s.length-1].replace(/(\\r\\n|\\n|\\r)/gm,"");for(var l=0;l<s.length;l++){l===s.length-1&&(s[l]=s[s.length-1].substring(0,a-1)),r[s[l]]=n[l]}o.push(r)}else for(i=2;i<t.length-1;i++){var n;r={};(n=t[i].split(","))[s.length-1]=n[s.length-1].replace(/(\\r\\n|\\n|\\r)/gm,"");for(l=0;l<s.length;l++){l===s.length-1&&(s[l]=s[s.length-1].substring(0,a-1)),r[s[l]]=n[l]}o.push(r)}h=o},o.readAsBinaryString(t)}},handleUploadPress:function(){s.removeAllMsgs(),this.getView().setBusy(!0),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.hideMessagePopover();if(""===this.getView().byId("fileUploader").getValue())return l.error("Please select a file",{styleClass:"sapUiSizeCompact"}),void this.getView().setBusy(!1);this.getView().setBusy(!0);var e=this.getView().byId("fileUploader").oFileUpload.files.length,t=this.getView().byId("fileUploader").getValue().split("(")[0],o=t.substring(t.lastIndexOf(".")),a=this.getView().getModel("ReasonDD").getData();if(e>0&&(!/(csv)$/i.exec(o)||".csv"===o)&&h.length>0){for(var i=[],r=0,n=0;n<h.length;n++){10!==h[n].Batch.length&&(h[n].Batch=h[n].Batch.padStart(10,"0"));var g=h[n].ExpiryDate,c=(g=g.replaceAll("/","-")).split("-"),d=new Date(c[2],c[1]-1,c[0]);if(g=s.addHoursAndMinutesToDate({dDate:d}),""!=h[n].PhysicalStock){for(var u=!1,M=0;M<a.length;M++){var p=parseFloat(h[n].BookStock)-parseFloat(h[n].PhysicalStock);if(""!=a[M].Key&&(1===h[n].Reason.length&&1*parseInt(a[M].Key)===parseInt(h[n].Reason)&&(h[n].Reason=a[M].Key),h[n].Reason===a[M].Key||h[n].Reason===a[M].Text)){var m=0;m=("0000"+(m=10*(r+=1))).slice(-6),i.push({ItemNo:m,Batch:h[n].Batch,Quantity:h[n].BookStock,ExpiryDate:g,MaterialDesc:h[n].MaterialDesc,MaterialNo:h[n].MaterialNo,AdjQty:h[n].PhysicalStock,ReasonID:a[M].Key,ReasonDesc:a[M].Text,StockType:h[n].StockType,UOM:h[n].Unit,MRP:h[n].MRP,Currency:h[n].Currency,DiffQty:p.toString(),DMSDivision:h[n].DmsDivision}),u=!0}}if(!u){var y="Please Enter the Valid Reason for MaterialNo "+h[n].MaterialNo+" for Batch "+h[n].Batch;s.addMsg_MsgMgr(y,"error")}}}this.getView().setBusy(!1),gList.getModel("ListItems").setProperty("/",i),this.getView().getModel("LocalViewSetting").setProperty("/Uploadatacount",0),s.doErrMessageExist()||(this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),s.showMessagePopover(gList)),i.length>0?i.length<10?gList.getModel("LocalViewSetting").setProperty("/Uploadatacount",i.length):gList.getModel("LocalViewSetting").setProperty("/Uploadatacount",10):gList.getModel("LocalViewSetting").setProperty("/Uploadatacount",0)}this.getView().setBusy(!1)},startUpload:function(e){this.getView().setBusy(!0);var t=e,o=new sap.m.UploadCollectionParameter({name:"type",value:"POST"});t.addHeaderParameter(o);var s=this._oComponent.getModel("SCGW").sServiceUrl+"/SchemeDocuments",a=this._oComponent.getModel("SCGW").getSecurityToken(),i=new sap.m.UploadCollectionParameter({name:"x-csrf-token",value:a});t.addHeaderParameter(i),t.addHeaderParameter(o),t.setUploadUrl(s),t.upload()}})});',
"com/arteria/ss/stockadjustmnt/create/controller/ListPage.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","com/arteriatech/ppc/utils/js/Common","com/arteriatech/prd/utils/js/Common"],function(e,t,a,i){"use strict";var o,s=new sap.m.BusyDialog,r=[],l=!0,g=[];return e.extend("com.arteria.ss.stockadjustmnt.create.controller.ListPage",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){gListPageView=this.getView(),this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(gListPageView)),a=com.arteriatech.ss.utils.js.Common,com.arteriatech.ss.utils.js.CommonValueHelp,o=this._oComponent.getModel("i18n").getResourceBundle(),this._oComponent.getModel("ppcutili18n").getResourceBundle(),this._oRouter=this._oComponent.getRouter(),t.initMsgMangerObjects()},validateFilter:function(){if(""===gList.byId("customer").getSelectedKey()&&gList.getModel("LocalViewSetting").getProperty("/CustomerDD")){var e=o.getText("List.FilterBar.Validation.custNo",[gList.byId("Customer").getLabel()]);t.addMsg_MsgMgr(e,"error","FG_CustomerNo"),gList.byId("customer").setValueState(sap.ui.core.ValueState.Error)}else if(0===gList.byId("inputCustomerNo").getTokens().length&&gList.getModel("LocalViewSetting").getProperty("/CustomerVH")){e=o.getText("List.FilterBar.Validation.custNo",[gList.byId("CustomerNo").getLabel()]);t.addMsg_MsgMgr(e,"error","FG_CustomerNo")}if(""===gList.byId("StockTypes").getSelectedKey()){e=o.getText("List.FilterBar.Validation.custNo",[gList.byId("StockType").getLabel()]);t.addMsg_MsgMgr(e,"error","FG_StockType"),gList.byId("StockTypes").setValueState(sap.ui.core.ValueState.Error)}},onReview:function(){var e=this;l=!0,s.open(),e.getView().byId("saveBtn").setEnabled(!0);var a=gList.getModel("MaterialDocs");if(t.removeAllMsgs(),t.hideMessagePopover(gList),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),this.getView().getModel("LocalViewSetting").getProperty("/stockMaterialT1")?(this.validate(),this.validateFilter()):this.getView().getModel("LocalViewSetting").getProperty("/stockMaterialT2")?this.validateItemMaterialWise():(this.validateFilter(),this.validateOtherItems()),"VH"===e.getView().getModel("LocalViewSetting").getProperty("/sCustomerInputType"))if(e.getView().getModel("SchemeCPDocuments")){if(0===e.getView().getModel("SchemeCPDocuments").getData().length){var i="Please Upload Attachment";t.addMsg_MsgMgr(i,"error","FG_CustomerNo")}}else{i="Please Upload Attachment";t.addMsg_MsgMgr(i,"error","FG_CustomerNo")}2===gList.byId("SelectGroupIDAW").getSelectedIndex()&&(0===gList.getModel("ListItems").getData().length&&(i="Please Upload atleast one Material to create Stock Adjustment",t.addMsg_MsgMgr(i,"error","/UI/Quantity")));if(t.doErrMessageExist()){this._oMaterialDocItemDetails1=[],r=[],this._oMaterialDocItemDetails=jQuery.extend(!0,[],gList.getModel("ListItems").getData()),r=jQuery.extend(!0,[],gList.getModel("ListItems").getData()),a.MaterialDocItemDetails=[];var o=[];r=[];var g="";$.getJSON("/sap/opu/odata/ARTEC/paymentgateway/PaymentGateway/GetIP",function(t){g=""!==t?t.ip.split(",").length>1?t.ip.split(",")[0]:t.ip:"1234",e.getView().getModel("LocalViewSetting").setProperty("/PublicIP",g)});for(var M=0;M<this._oMaterialDocItemDetails.length;M++)if(""!==this._oMaterialDocItemDetails[M].MaterialNo)if(""===this._oMaterialDocItemDetails[M].MRP&&(this._oMaterialDocItemDetails[M].MRP="0"),gList.getModel("LocalViewSetting").getProperty("/stockMaterialT1")||gList.getModel("LocalViewSetting").getProperty("/stockMaterialT2")||gList.getModel("LocalViewSetting").getProperty("/stockMaterialT3")){if(this._oMaterialDocItemDetails[M].AdjQty>=0){if(this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits=[],"1"===gList.byId("StockTypes").getSelectedKey()||"3"===gList.byId("StockTypes").getSelectedKey()){var n={RefDocNo:this._oMaterialDocItemDetails[M].TransRefNo,RefDocItemNo:this._oMaterialDocItemDetails[M].TransRefItemNo,UOM:this._oMaterialDocItemDetails[M].UOM,MaterialCatID:"M001",MaterialDocQty:this._oMaterialDocItemDetails[M].DiffQty.toString(),MaterialCatDesc:"Good",MatDocItemGUID:"",MatHeaderGuid:""};this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits.push(n)}else if("2"===gList.byId("StockTypes").getSelectedKey()&&"SS02"===gList.byId("StockSubTypes").getSelectedKey()){n={RefDocNo:this._oMaterialDocItemDetails[M].TransRefNo,RefDocItemNo:this._oMaterialDocItemDetails[M].TransRefItemNo,UOM:this._oMaterialDocItemDetails[M].UOM,MaterialCatID:"M003",MaterialDocQty:this._oMaterialDocItemDetails[M].DiffQty.toString(),MaterialCatDesc:"Shortage",MatDocItemGUID:"",MatHeaderGuid:""};this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits.push(n)}else if("2"===gList.byId("StockTypes").getSelectedKey()&&"SS03"===gList.byId("StockSubTypes").getSelectedKey()){n={RefDocNo:this._oMaterialDocItemDetails[M].TransRefNo,RefDocItemNo:this._oMaterialDocItemDetails[M].TransRefItemNo,UOM:this._oMaterialDocItemDetails[M].UOM,MaterialCatID:"M002",MaterialDocQty:this._oMaterialDocItemDetails[M].DiffQty.toString(),MaterialCatDesc:"Damage",MatDocItemGUID:"",MatHeaderGuid:""};this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits.push(n)}o.push({MaterialNo:this._oMaterialDocItemDetails[M].MaterialNo,MaterialDesc:this._oMaterialDocItemDetails[M].MaterialDesc,MatDocItemGUID:t.generateUUID().toUpperCase(),MaterialDocQty:this._oMaterialDocItemDetails[M].DiffQty.toString(),StockGUID:this._oMaterialDocItemDetails[M].CPStockItemGUID,Remarks:this._oMaterialDocItemDetails[M].Remarks,Currency:this._oMaterialDocItemDetails[M].Currency,Price:this._oMaterialDocItemDetails[M].UnitPrice,MRP:this._oMaterialDocItemDetails[M].MRP,UOM:this._oMaterialDocItemDetails[M].UOM,Batch:this._oMaterialDocItemDetails[M].Batch,ItemNo:this._oMaterialDocItemDetails[M].ItemNo,MFD:this._oMaterialDocItemDetails[M].ManufacturingDate,ExpiryDate:this._oMaterialDocItemDetails[M].ExpiryDate,StockRefGUID:this._oMaterialDocItemDetails[M].StockRefGUID,DMSDivisionID:this._oMaterialDocItemDetails[M].DMSDivision,ReasonID:this._oMaterialDocItemDetails[M].ReasonID,ReasonDesc:this._oMaterialDocItemDetails[M].ReasonDesc,MaterialDocItemCatSplits:this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits}),this._oMaterialDocItemDetails[M].ItemNo=this._oMaterialDocItemDetails[M].ItemNo.toString(),r.push(this._oMaterialDocItemDetails[M])}}else if(gList.getModel("LocalViewSetting").getProperty("/OtherMaterial")){if(this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits=[],this._oMaterialDocItemDetails[M].GQuantity>0){n={RefDocNo:this._oMaterialDocItemDetails[M].TransRefNo,RefDocItemNo:this._oMaterialDocItemDetails[M].TransRefItemNo,UOM:this._oMaterialDocItemDetails[M].UOM,MaterialCatID:"M001",MaterialDocQty:this._oMaterialDocItemDetails[M].GQuantity,MaterialCatDesc:"Good",MatDocItemGUID:"",MatHeaderGuid:""};this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits.push(n)}if(this._oMaterialDocItemDetails[M].DQuantity>0){n={RefDocNo:this._oMaterialDocItemDetails[M].TransRefNo,RefDocItemNo:this._oMaterialDocItemDetails[M].TransRefItemNo,UOM:this._oMaterialDocItemDetails[M].UOM,MaterialCatID:"M002",MaterialDocQty:this._oMaterialDocItemDetails[M].DQuantity,MaterialCatDesc:"Damage",MatDocItemGUID:"",MatHeaderGuid:""};this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits.push(n)}if(this._oMaterialDocItemDetails[M].SQuantity>0){n={RefDocNo:this._oMaterialDocItemDetails[M].TransRefNo,RefDocItemNo:this._oMaterialDocItemDetails[M].TransRefItemNo,UOM:this._oMaterialDocItemDetails[M].UOM,MaterialCatID:"M003",MaterialDocQty:this._oMaterialDocItemDetails[M].SQuantity,MaterialCatDesc:"Shortage",MatDocItemGUID:"",MatHeaderGuid:""};this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits.push(n)}o.push({MaterialNo:this._oMaterialDocItemDetails[M].MaterialNo,MaterialDesc:this._oMaterialDocItemDetails[M].MaterialDesc,MaterialDocGUID:t.generateUUID(),MatDocItemGUID:t.generateUUID().toUpperCase(),MaterialDocQty:(parseInt(this._oMaterialDocItemDetails[M].GQuantity)+parseInt(this._oMaterialDocItemDetails[M].SQuantity)+parseInt(this._oMaterialDocItemDetails[M].DQuantity)).toString(),StockGUID:this._oMaterialDocItemDetails[M].CPStockItemGUID,RefDocNo:this._oMaterialDocItemDetails[M].RefDocNo,RefDocItemNo:this._oMaterialDocItemDetails[M].RefDocItemNo,Remarks:this._oMaterialDocItemDetails[M].Remarks,Currency:this._oMaterialDocItemDetails[M].Currency,MRP:this._oMaterialDocItemDetails[M].MRP,UOM:this._oMaterialDocItemDetails[M].UOM,Batch:this._oMaterialDocItemDetails[M].Batch,ExpiryDate:this._oMaterialDocItemDetails[M].ExpiryDate,PurchasePrice:this._oMaterialDocItemDetails[M].PurchasePrice,ItemNo:this._oMaterialDocItemDetails[M].ItemNo,AltUOM:this._oMaterialDocItemDetails[M].AltUOM,AltUOMDen:this._oMaterialDocItemDetails[M].AltUOMDen,AltUOMQty:this._oMaterialDocItemDetails[M].AltUOMQty,AltUOMNum:this._oMaterialDocItemDetails[M].AltUOMNum,SellingPrice:this._oMaterialDocItemDetails[M].SellingPrice,Tax1Percent:this._oMaterialDocItemDetails[M].Tax1Percent,Tax2Percent:this._oMaterialDocItemDetails[M].Tax2Percent,Tax3Percent:this._oMaterialDocItemDetails[M].Tax3Percent,Tier1Margin:this._oMaterialDocItemDetails[M].Tier1Margin,Tier2Margin:this._oMaterialDocItemDetails[M].Tier2Margin,Tier3Margin:this._oMaterialDocItemDetails[M].Tier3Margin,Tier4Margin:this._oMaterialDocItemDetails[M].Tier4Margin,Tier5Margin:this._oMaterialDocItemDetails[M].Tier5Margin,Price:this._oMaterialDocItemDetails[M].Price,DMSDivisionID:this._oMaterialDocItemDetails[M].DMSDivision,MFD:this._oMaterialDocItemDetails[M].ManufacturingDate,MaterialDocItemCatSplits:this._oMaterialDocItemDetails[M].MaterialDocItemCatSplits}),this._oMaterialDocItemDetails[M].ItemNo=this._oMaterialDocItemDetails[M].ItemNo.toString(),r.push(this._oMaterialDocItemDetails[M])}var c=new sap.ui.model.json.JSONModel(o);e._oComponent.setModel(c,"MaterialDocItemDetails");var D=new sap.ui.model.json.JSONModel(r);e._oComponent.setModel(D,"MatDocItems"),e._oComponent.getModel("LocalViewSetting").setProperty("/MaterialItemCount",r.length),this.updateMatDoc("X")}else this.showError(),s.close();this.onReview_Exit&&this.onReview_Exit()},ClearValueState:function(e){for(var t=gList.getModel("ListItems").getData(),a=0;a<gList.getModel("ListItems").getData().length;a++){""===t[a].GQuantity&&(t[a].GQuantity="0"),""===t[a].DQuantity&&(t[a].DQuantity="0"),""===t[a].SQuantity&&(t[a].Suantity="0"),""===t[a].MRP&&(t[a].MRP="0.00"),""===t[a].PurchasePrice&&(t[a].PurchasePrice="0.00");for(var i=0;i<e.length;i++)gList.getModel("ListItems").setProperty("/"+a+"/"+e[i],"None")}},validateOtherItems:function(){for(var e=gList.getModel("ListItems").getData(),a=!0,i=0;i<e.length;i++)""===e[i].GQuantity&&(e[i].GQuantity="0"),""===e[i].SQuantity&&(e[i].SQuantity="0"),""===e[i].DQuantity&&(e[i].DQuantity="0");if(this.ClearValueState(["BatchValueState","UOMValueState","MRPValueState","UnitPriceValueState","MDateValueState","EDateValueState","RefDocNoValueState","RefDocItemNoValueState","QuantityValueState"]),2!==gList.byId("SelectGroupIDAW").getSelectedIndex())for(var o=0;o<e.length;o++)if(""!==e[o].MaterialNo){a=!1;var s=gList.byId("UIListTableOther").getRows()[o].getCells();for(i=0;i<s.length;i++)if(-1!==s[i].getId().indexOf("inputUOM")){var r=gList.byId(s[i].getId()).getSelectedItem().getText();if(""===r){var l="Please select UOM for Material No "+e[o].MaterialNo;gList.getModel("ListItems").setProperty("/"+o+"/UOMValueState","Error"),gList.getModel("ListItems").setProperty("/"+o+"/UOMValueStateText",l),t.addMsg_MsgMgr(l,"error","Batch"+o)}else gList.getModel("ListItems").setProperty("/"+o+"/UOM",r)}if(""===e[o].Batch){l="Please enter Batch for Material No "+e[o].MaterialNo;gList.getModel("ListItems").setProperty("/"+o+"/BatchValueState","Error"),gList.getModel("ListItems").setProperty("/"+o+"/BatchValueStateText",l),t.addMsg_MsgMgr(l,"error","Batch"+o)}if(0===parseFloat(e[o].GQuantity)){l="Please enter Quantity for Material No "+e[o].MaterialNo;gList.getModel("ListItems").setProperty("/"+o+"/QuantityValueState","Error"),gList.getModel("ListItems").setProperty("/"+o+"/QuantityValueStateText",l),t.addMsg_MsgMgr(l,"error","Quantity"+o)}if(0===parseFloat(e[o].MRP)){l="Please Enter MRP for Material No "+e[o].MaterialNo;gList.getModel("ListItems").setProperty("/"+o+"/MRPValueState","Error"),gList.getModel("ListItems").setProperty("/"+o+"/MRPValueStateText",l),t.addMsg_MsgMgr(l,"error","MRP"+o)}if(parseFloat(e[o].PurchasePrice)>parseFloat(e[o].MRP)){l="Purchase Price Cannot not be greater than MRP";gList.getModel("ListItems").setProperty("/"+o+"/UnitPriceValueState","Error"),gList.getModel("ListItems").setProperty("/"+o+"/UnitPriceValueStateText",l),t.addMsg_MsgMgr(l,"error","UnitPrice"+o)}}if(2!==gList.byId("SelectGroupIDAW").getSelectedIndex()&&a){t.addMsg_MsgMgr("Please add atleast one Material to create Stock Adjustment","error","material")}},updateMatDoc:function(e){var a=this,i=a.getView().getModel("SSGW_MM");i.setUseBatch(!0),i.setDeferredGroups(["Create"]);var r="",M=gList.getModel("LocalViewSetting").getProperty("/StockMaterial");r=M?"801":"803","X"!==e&&"S"!==e||(this._MaterialDocs=jQuery.extend(!0,[],this.getView().getModel("MaterialDocs").getData())),this._MaterialDocsItems=jQuery.extend(!0,[],this.getView().getModel("MaterialDocItemDetails").getData());for(var n,c=this.getView().getModel("MaterialDocItemDetails").getData(),D=[],d=[],I={MaterialDocGUID:t.generateUUID().toUpperCase(),FromGUID:a.getView().getModel("MaterialDocs").getProperty("/FromGUID"),ToGUID:a.getView().getModel("MaterialDocs").getProperty("/FromGUID"),FromTypeID:a.getView().getModel("MaterialDocs").getProperty("/CPTypeID"),ToTypeID:a.getView().getModel("MaterialDocs").getProperty("/CPTypeID"),MvmtTypeID:"802",LoginID:a.getCurrentUsers("MaterialDocs","create"),MaterialDocDate:gList.getModel("LocalViewSetting").getProperty("/Today"),TestRun:e,Source:"PORTAL"},m={MaterialDocGUID:t.generateUUID().toUpperCase(),FromGUID:a.getView().getModel("MaterialDocs").getProperty("/FromGUID"),ToGUID:a.getView().getModel("MaterialDocs").getProperty("/FromGUID"),FromTypeID:a.getView().getModel("MaterialDocs").getProperty("/CPTypeID"),ToTypeID:a.getView().getModel("MaterialDocs").getProperty("/CPTypeID"),MvmtTypeID:r,LoginID:a.getCurrentUsers("MaterialDocs","create"),MaterialDocDate:gList.getModel("LocalViewSetting").getProperty("/Today"),TestRun:e,Source:"PORTAL"},p=0;p<c.length;p++){delete c[p].StockRefGUID,parseInt(c[p].MaterialDocQty)<0?c[p].MaterialDocGUID=I.MaterialDocGUID:c[p].MaterialDocGUID=m.MaterialDocGUID,c[p].ItemNo=c[p].ItemNo.toString();for(var u=0;u<c[p].MaterialDocItemCatSplits.length;u++)c[p].MaterialDocItemCatSplits[u].MatHeaderGuid=c[p].MaterialDocGUID.toUpperCase(),c[p].MaterialDocItemCatSplits[u].MatDocItemGUID=c[p].MatDocItemGUID.toUpperCase(),M&&(c[p].MaterialDocItemCatSplits[u].MaterialDocQty=Math.abs(c[p].MaterialDocQty).toString());i.setDeferredGroups(["Create"]),parseInt(c[p].MaterialDocQty)<0?(c[p].DbtCrdtIndID="H",c[p].MaterialDocQty=Math.abs(c[p].MaterialDocQty).toString(),c[p].MaterialDocGUID=I.MaterialDocGUID,D.push(c[p])):(M&&(c[p].DbtCrdtIndID="S"),c[p].MaterialDocGUID=m.MaterialDocGUID,d.push(c[p]))}if(0===D.length?l=!1:0===d.length&&!1===l&&(l=""),I.MaterialDocItemDetails=D,m.MaterialDocItemDetails=d,!0===l)n=I,this._MaterialDocsItemsTemp=jQuery.extend(!0,[],D);else{if(!1!==l)return a.getView().getModel("MaterialDocItemDetails").setProperty("/",a._MaterialDocsItems),void s.close();n=m,this._MaterialDocsItemsTemp=jQuery.extend(!0,[],d)}0===d.length&&(l=!1);var y=a.getView().getModel("LocalViewSetting").getProperty("/PublicIP");""===y&&(y="12345"),n.SourceID=y;var h=n.MvmtTypeID;i.create("/MaterialDocs",n,{groupId:"Create"}),i.submitChanges({groupId:"Create",success:function(i){t.doErrMessageExist()?("X"===e?(a._oComponent.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),t.hideMessagePopover(gList),a._oComponent.getModel("LocalViewSetting").setProperty("/editMode",!1),a._oComponent.getModel("LocalViewSetting").setProperty("/reviewMode",!0),a._oComponent.getModel("LocalViewSetting").setProperty("/CalculateButton",!1),a._oComponent.getModel("LocalViewSetting").setProperty("/PageHeader",o.getText("List.Review.title"))):"S"===e?(a._oComponent.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),t.hideMessagePopover(gList),a._oComponent.getModel("LocalViewSetting").setProperty("/ReviewButtonEnable",!0),a.setItemData(i)):(a._oComponent.getModel("LocalViewSetting").setProperty("/PageHeader",o.getText("List.title")),!1===l&&a.updatedSuccessfully()),s.close()):(t.removeDuplicateMsgsInMsgMgr(),g.push(a._MaterialDocsItemsTemp),!1===(l=!1)&&(a.showError(h),a.getView().getModel("MaterialDocItemDetails").setProperty("/",a._MaterialDocsItems)),a.getView().setBusy(!1),s.close()),e?a.getView().getModel("MaterialDocItemDetails").setProperty("/",a._MaterialDocsItems):!0===l&&a.getView().getModel("MaterialDocItemDetails").setProperty("/",a._MaterialDocsItems),!0===l&&(l=!1,a.updateMatDoc(e))},error:function(){a.showError(h),a.getView().setBusy(!1),a.getView().getModel("MaterialDocItemDetails").setProperty("/",a._MaterialDocsItems),s.close(),!0===(l=!1)&&(l=!1,a.updateMatDoc())}})},setItemData:function(e){for(var t=e.__batchResponses[0].__changeResponses[0].data.MaterialDocItemDetails.results,a=0;a<t.length;a++)gList.getModel("ListItems").setProperty("/"+a+"/ExpiryDate",t[a].ExpiryDate),gList.getModel("ListItems").setProperty("/"+a+"/ManufacturingDate",t[a].MFD),gList.getModel("ListItems").setProperty("/"+a+"/MRP",t[a].MRP),gList.getModel("ListItems").setProperty("/"+a+"/PurchasePrice",t[a].PurchasePrice),gList.getModel("ListItems").setProperty("/"+a+"/Currency",t[a].Currency),gList.getModel("ListItems").setProperty("/"+a+"/AltUOM",t[a].AltUOM),gList.getModel("ListItems").setProperty("/"+a+"/AltUOMDen",t[a].AltUOMDen),gList.getModel("ListItems").setProperty("/"+a+"/AltUOMNum",t[a].AltUOMNum),gList.getModel("ListItems").setProperty("/"+a+"/AltUOMQty",t[a].AltUOMQty),gList.getModel("ListItems").setProperty("/"+a+"/SellingPrice",t[a].SellingPrice),gList.getModel("ListItems").setProperty("/"+a+"/Tax1Percent",t[a].Tax1Percent),gList.getModel("ListItems").setProperty("/"+a+"/Tax2Percent",t[a].Tax2Percent),gList.getModel("ListItems").setProperty("/"+a+"/Tax3Percent",t[a].Tax3Percent),gList.getModel("ListItems").setProperty("/"+a+"/Price",t[a].Price),gList.getModel("ListItems").setProperty("/"+a+"/Tier1Margin",t[a].Tier1Margin),gList.getModel("ListItems").setProperty("/"+a+"/Tier2Margin",t[a].Tier2Margin),gList.getModel("ListItems").setProperty("/"+a+"/Tier3Margin",t[a].Tier3Margin),gList.getModel("ListItems").setProperty("/"+a+"/Tier4Margin",t[a].Tier4Margin),gList.getModel("ListItems").setProperty("/"+a+"/Tier5Margin",t[a].Tier5Margin)},updatedSuccessfully:function(){this.onCreateSuccess()},onCreateSuccess:function(){var e,a=this,i=new sap.m.Panel,o=new sap.m.Text,s=this.getMessageType();if("Success"!==s)"Information"===s?(o.setText(t.getMsgsFromMsgMgr()),i.addContent(o),(e=new sap.m.Dialog({title:s,type:"Message",content:i,buttons:[new sap.m.Button({icon:"sap-icon://home",text:"Home",press:function(){window.location="#",e.close()}}),new sap.m.Button({text:"Create New",press:function(){a._oComponent.getModel("LocalViewSetting").setProperty("/editMode",!0),a._oComponent.getModel("LocalViewSetting").setProperty("/reviewMode",!1),gList.byId("customer").setSelectedKey(""),gList.byId("inputCustomerNo")&&gList.byId("inputCustomerNo").removeAllTokens(),gList.getModel("SchemeCPDocuments")&&gList.getModel("SchemeCPDocuments").setProperty("/",[]),gList.byId("StockTypes").setSelectedKey(""),gList.byId("StockSubTypes").setSelectedKey(""),gList.byId("inputDMSDivision").setSelectedKeys([]),gList.getModel("ListItems").setProperty("/",[]),gList.getModel("MatDocItems").setProperty("/",[]),gList.getModel("LocalViewSetting").setProperty("/ListItemsCount",1),gList.getModel("LocalViewSetting").setProperty("/MaterialItemCount",0),gList.byId("inputMaterial1").removeAllTokens(),gList.byId("inputSKUGroup").removeAllTokens(),gList.byId("inputMaterial1").removeAllTokens(),gList.getModel("LocalViewSetting").setProperty("/StockMaterial",!0),gList.getModel("LocalViewSetting").setProperty("/OtherMaterial",!1),gList.getModel("LocalViewSetting").setProperty("/stockMaterialT3",!1),gList.getModel("LocalViewSetting").setProperty("/stockMaterialT1",!0),gList.byId("SelectGroupIDAW").setSelectedIndex(0),gList.getModel("LocalViewSetting").setProperty("/StockMaterialReview",!0),gList.byId("fileUploader").setValue(""),gList.getModel("LocalViewSetting").setProperty("/prdFrMatEnabled",!1),gList.oController.getPrdFeatures(),gList.getModel("LocalViewSetting").setProperty("/GUID",t.generateUUID()),sap.ui.controller("com.arteria.ss.stockadjustmnt.create.controller.List").removeAllTokenforItems(),sap.ui.controller("com.arteria.ss.stockadjustmnt.create.controller.List").removeAllTokenforOtherItems(),sap.ui.controller("com.arteria.ss.stockadjustmnt.create.controller.List").setDataOtherModel(),sap.ui.controller("com.arteria.ss.stockadjustmnt.create.controller.List").setMaterialModel(),e.close()}})],afterClose:function(){e.destroy()}})).open(),e.attachBrowserEvent("keydown",function(e){e.stopPropagation(),e.preventDefault()})):(o.setText(t.getMsgsFromMsgMgr()),i.addContent(o),(e=new sap.m.Dialog({title:s,type:"Message",state:s,content:i,beginButton:new sap.m.Button({text:"OK",press:function(){e.close()}}),afterClose:function(){e.destroy()}})).open(),e.attachBrowserEvent("keydown",function(e){e.stopPropagation(),e.preventDefault()}));else if(o.setText(t.getMsgsFromMsgMgr()),i.addContent(o),(e=new sap.m.Dialog({title:"Success",type:"Standard",state:"Success",draggable:!0,content:i,buttons:[new sap.m.Button({icon:"sap-icon://home",text:"Home",press:function(){window.location="#",e.close()}}),new sap.m.Button({text:"Create New",press:function(){a._oComponent.getModel("LocalViewSetting").setProperty("/editMode",!0),a._oComponent.getModel("LocalViewSetting").setProperty("/reviewMode",!1),gList.byId("customer").setSelectedKey(""),gList.byId("inputCustomerNo")&&gList.byId("inputCustomerNo").removeAllTokens(),gList.getModel("SchemeCPDocuments")&&gList.getModel("SchemeCPDocuments").setProperty("/",[]),gList.byId("StockTypes").setSelectedKey(""),gList.byId("StockSubTypes").setSelectedKey(""),gList.byId("inputDMSDivision").setSelectedKeys([]),gList.getModel("ListItems").setProperty("/",[]),gList.getModel("MatDocItems").setProperty("/",[]),gList.getModel("LocalViewSetting").setProperty("/MaterialItemCount",0),gList.getModel("LocalViewSetting").setProperty("/ListItemsCount",1),gList.byId("inputMaterial1").removeAllTokens(),gList.byId("inputSKUGroup").removeAllTokens(),gList.byId("inputMaterial1").removeAllTokens(),gList.getModel("LocalViewSetting").setProperty("/StockMaterial",!0),gList.getModel("LocalViewSetting").setProperty("/OtherMaterial",!1),gList.getModel("LocalViewSetting").setProperty("/prdFrMatEnabled",!1),gList.getModel("LocalViewSetting").setProperty("/GUID",t.generateUUID()),gList.getModel("LocalViewSetting").setProperty("/stockMaterialT3",!1),gList.getModel("LocalViewSetting").setProperty("/stockMaterialT1",!0),gList.byId("SelectGroupIDAW").setSelectedIndex(0),gList.getModel("LocalViewSetting").setProperty("/StockMaterialReview",!0),gList.byId("fileUploader").setValue(""),gList.oController.getPrdFeatures(),sap.ui.controller("com.arteria.ss.stockadjustmnt.create.controller.List").removeAllTokenforItems(),sap.ui.controller("com.arteria.ss.stockadjustmnt.create.controller.List").removeAllTokenforOtherItems(),sap.ui.controller("com.arteria.ss.stockadjustmnt.create.controller.List").setDataOtherModel(),sap.ui.controller("com.arteria.ss.stockadjustmnt.create.controller.List").setMaterialModel(),e.close()}})],afterClose:function(){e.destroy()}})).open(),e.attachBrowserEvent("keydown",function(e){e.stopPropagation(),e.preventDefault()}),t.doErrMessageExist())e.open(),e.attachBrowserEvent("keydown",function(e){e.stopPropagation(),e.preventDefault()});else{o.setText(t.getErrorMsgsFromMsgMgr()),i.addContent(o);var r=new sap.m.Dialog({title:"Error",type:"Message",state:"Error",content:i,beginButton:new sap.m.Button({text:"Close",press:function(){e.open(),r.close()}}),afterClose:function(){r.destroy()}});r.open(),r.attachBrowserEvent("keydown",function(e){e.stopPropagation(),e.preventDefault()})}e.open(),e.attachBrowserEvent("keydown",function(e){e.stopPropagation(),e.preventDefault()}),this.onCreateSuccess_Exit&&this.onCreateSuccess_Exit()},getMessageType:function(){var e=sap.ui.getCore().getMessageManager().getMessageModel().getData().length,t="Information";if(e>0)for(var a=sap.ui.getCore().getMessageManager().getMessageModel().getData(),i=0;i<e;i++){var o=a[i];if("/ARTEC/SS/176"===o.code){t="Success";break}t=o.type;break}return this.getMessageType_exist&&(t=this.getMessageType_exist()),t},clearAll:function(){gList.getModel("ReasonDD")&&this.getModel("ReasonDD").setProperty("/",{})},gotoDetail:function(e){var a="StockAdjustmentDetail(MaterialDocGUID=\'"+e+"\')";t.crossAppNavigation("ssstkadjcreate","ssstockadmnt","Display","ssstkadjcreate","sfstkadjustment","/View/"+a),this.gotoDetail_Exit&&this.gotoDetail_Exit()},showError:function(e){if("802"===e){if("Sufficient stock is not available"===t.getMsgsFromMsgMgr().split("for")[0].trim())var a="Quantiy increase is not allowed";t.addMsg_MsgMgr(a)}this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),t.showMessagePopover(gList)},validate:function(){this.validateItem()},validateItemMaterialWise:function(){this.validateItem1()},getselectDD:function(e){var t=gList.byId(e),a="",i="";""!==t.getSelectedKey()&&void 0!==t.getSelectedKey()&&(i=t.getSelectedKey(),a=t.getSelectedItem().getText().split("-")[1].trim());var o=[];return o.push(i),o.push(a),o},validateItem:function(){t.removeAllMsgs();var e=gList.getModel("ListItems").getProperty("/");if(0!==e.length){for(var a=[],i=!1,s=0;s<e.length;s++){var r="",l=gList.byId("UIListTable").getRows()[s].getCells(),g="",M="";if(""!==e[s].MaterialNo){for(var n=0;n<l.length;n++)-1!==l[n].getId().indexOf("FReasonIDEdit")&&(M=l[n].getId());i=!0,a.push(s);var c=gList;""===c.byId(M).getSelectedKey()&&(r="Please select Reason for Material No "+e[s].MaterialNo,t.addMsg_MsgMgr(r,"error","/UI/QuantityM")),""!==e[s].Batch&&"(Select)"!==e[s].Batch||(r="Please select Batch for Material No "+e[s].MaterialNo,t.addMsg_MsgMgr(r,"error","/UI/QuantityB"));var D=e[s].AdjQty+"",d=e[s].MaterialNo;""===D||void 0===D||null===D||"NaN"===D||"undefined"===D?(r=o.getText("List.Input.Adjqty.AdjQtyEmpty",d),c.getModel("ListItems").setProperty(s+"/QuantityValueState","Error"),c.getModel("ListItems").setProperty(s+"/QuantityValueStateText",r),t.addMsg_MsgMgr(r,"error","/UI/FAdjQty")):parseFloat(D)<0&&(r=o.getText("List.Input.Adjqty.AdjQtyWithNegative",d),c.getModel("ListItems").setProperty(s+"/QuantityValueState","Error"),c.getModel("ListItems").setProperty(s+"/QuantityValueStateText",r),t.addMsg_MsgMgr(r,"error","/UI/FAdjQty"))}}if(i||(r="Please add atleast one Material to create Stock Adjustment",t.addMsg_MsgMgr(r,"error","/UI/Quantity")),i)for(s=0;s<e.length;s++)for(var I=0;I<a.length;I++)if(s===a[I]){for(l=gList.byId("UIListTable").getRows()[I].getCells(),g="",n=0;n<l.length;n++)l[n].getId().indexOf("FReasonIDEdit")>0&&(g=l[n].getId()),l[n].getId().indexOf("Remarks")>0&&l[n].mAggregations.items[0].getId();var m=this.getselectDD(g);e[s].ReasonID=m[0],e[s].ReasonDesc=m[1]}}},validateItem1:function(){t.removeAllMsgs();var e=gList.getModel("ListItems").getProperty("/");if(0!==e.length){for(var a,i=!1,s=gList,r=0;r<e.length;r++){gList.byId("UIListTable").getRows()[r].getCells();var l=e[r].AdjQty;void 0!==l&&(l+=""),""===l||void 0===l||null===l||"NaN"===l?i=!1:(i=!0,r=e.length)}if(i)for(var g=0;g<e.length;g++){var M=e[g].AdjQty;void 0!==M&&(M+="");var n=e[g].Batch;""!==M&&void 0!==M&&null!==M&&"NaN"!==M&&(parseFloat(M)<0&&(a=o.getText("List.Input.Adjqty.AdjQtyWithNegative1",n),s.getModel("ListItems").setProperty(g+"/QuantityValueState","Error"),s.getModel("ListItems").setProperty(g+"/QuantityValueStateText",a),t.addMsg_MsgMgr(a,"error","/UI/FAdjQty")),""!==e[g].ReasonID&&void 0!==e[g].ReasonID||(a="Please Select Reason for Sl No For Batch "+n,t.addMsg_MsgMgr(a,"error","/UI/QuantityM")))}else a="Please enter physical stock for atleast one line item",t.addMsg_MsgMgr(a,"error","/UI/Quantity")}},gotoSave:function(){this._oComponent.getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),t.hideMessagePopover(gList),this._oComponent.getModel("LocalViewSetting").setProperty("/editMode",!1),this._oComponent.getModel("LocalViewSetting").setProperty("/reviewMode",!0)},onSave:function(e){s.open();this.getView().byId("saveBtn").setEnabled(!1),l=!0,g=[],this.updateMatDoc("")},navigateBack:function(){this.getView().getModel("LocalViewSetting").getProperty("/editMode"),!0===this.getView().getModel("LocalViewSetting").getProperty("/reviewMode")&&(this.getView().getModel("LocalViewSetting").setProperty("/editMode",!0),gList.byId("RB1-2").getSelected()?this.getView().getModel("LocalViewSetting").setProperty("/CalculateButton",!0):this.getView().getModel("LocalViewSetting").setProperty("/CalculateButton",!1),this.getView().getModel("LocalViewSetting").setProperty("/reviewMode",!1),this.getView().getModel("LocalViewSetting").setProperty("/PageHeader",o.getText("List.title")))},backToList:function(){void 0!==sap.ui.core.routing.History.getInstance().getPreviousHash()?window.history.go(-1):""!==document.referrer?window.history.go(-1):this.router.navTo("ListPage")},showPopUp:function(){t.showMessagePopover(gList),this.showPopUp_Exit&&this.showPopUp_Exit()},getCurrentUsers:function(e,t){return a.getCurrentLoggedUser({sServiceName:e,sRequestType:t})},validateOtherItems1:function(){for(var e=gList.getModel("ListItems").getData(),a=!0,i=0;i<e.length;i++)""===e[i].GQuantity&&(e[i].GQuantity="0"),""===e[i].SQuantity&&(e[i].SQuantity="0"),""===e[i].DQuantity&&(e[i].DQuantity="0");this.ClearValueState(["BatchValueState","UOMValueState","MRPValueState","UnitPriceValueState","MDateValueState","EDateValueState","RefDocNoValueState","RefDocItemNoValueState","QuantityValueState"]);for(var o=!0,s=0;s<e.length;s++)if(""!==e[s].MaterialNo){a=!1;var r=gList.byId("UIListTableOther").getRows()[s].getCells();for(i=0;i<r.length;i++)if(-1!==r[i].getId().indexOf("inputUOM")){var l=gList.byId(r[i].getId()).getSelectedItem().getText();if(""===l){var g="Please select UOM for Material No "+e[s].MaterialNo;gList.getModel("ListItems").setProperty("/"+s+"/UOMValueState","Error"),gList.getModel("ListItems").setProperty("/"+s+"/UOMValueStateText",g),t.addMsg_MsgMgr(g,"error","Batch"+s)}else gList.getModel("ListItems").setProperty("/"+s+"/UOM",l)}if(""===e[s].Batch){g="Please enter Batch for Material No "+e[s].MaterialNo;t.addMsg_MsgMgr(g,"error","Batch"+s),o=!1}if(0===parseFloat(e[s].GQuantity)){g="Please enter Quantity for Material No "+e[s].MaterialNo;t.addMsg_MsgMgr(g,"error","Quantity"+s),o=!1}}if(a){t.addMsg_MsgMgr("Please add atleast one Material to create Stock Adjustment","error","material"),o=!1}return o},onCalculate:function(){l=!0,s.open();var e=gList.getModel("MaterialDocs");if(t.removeAllMsgs(),t.hideMessagePopover(gList),this.getView().getModel("LocalViewSetting").setProperty("/messageLength",sap.ui.getCore().getMessageManager().getMessageModel().getData().length),this.validateFilter(),this.validateOtherItems1(),t.doErrMessageExist()){this._oMaterialDocItemDetails1=[],r=[],this._oMaterialDocItemDetails=jQuery.extend(!0,[],gList.getModel("ListItems").getData()),r=jQuery.extend(!0,[],gList.getModel("ListItems").getData()),e.MaterialDocItemDetails=[];var a=[];r=[];for(var i=0;i<this._oMaterialDocItemDetails.length;i++)if(""!==this._oMaterialDocItemDetails[i].MaterialNo){if(""===this._oMaterialDocItemDetails[i].MRP&&(this._oMaterialDocItemDetails[i].MRP="0"),this._oMaterialDocItemDetails[i].MaterialDocItemCatSplits=[],this._oMaterialDocItemDetails[i].GQuantity>0){var o={RefDocNo:this._oMaterialDocItemDetails[i].TransRefNo,RefDocItemNo:this._oMaterialDocItemDetails[i].TransRefItemNo,UOM:this._oMaterialDocItemDetails[i].UOM,MaterialCatID:"M001",MaterialDocQty:this._oMaterialDocItemDetails[i].GQuantity,MaterialCatDesc:"Good",MatDocItemGUID:"",MatHeaderGuid:""};this._oMaterialDocItemDetails[i].MaterialDocItemCatSplits.push(o)}if(this._oMaterialDocItemDetails[i].DQuantity>0){o={RefDocNo:this._oMaterialDocItemDetails[i].TransRefNo,RefDocItemNo:this._oMaterialDocItemDetails[i].TransRefItemNo,UOM:this._oMaterialDocItemDetails[i].UOM,MaterialCatID:"M002",MaterialDocQty:this._oMaterialDocItemDetails[i].DQuantity,MaterialCatDesc:"Damage",MatDocItemGUID:"",MatHeaderGuid:""};this._oMaterialDocItemDetails[i].MaterialDocItemCatSplits.push(o)}if(this._oMaterialDocItemDetails[i].SQuantity>0){o={RefDocNo:this._oMaterialDocItemDetails[i].TransRefNo,RefDocItemNo:this._oMaterialDocItemDetails[i].TransRefItemNo,UOM:this._oMaterialDocItemDetails[i].UOM,MaterialCatID:"M003",MaterialDocQty:this._oMaterialDocItemDetails[i].SQuantity,MaterialCatDesc:"Shortage",MatDocItemGUID:"",MatHeaderGuid:""};this._oMaterialDocItemDetails[i].MaterialDocItemCatSplits.push(o)}a.push({MaterialNo:this._oMaterialDocItemDetails[i].MaterialNo,MaterialDesc:this._oMaterialDocItemDetails[i].MaterialDesc,MaterialDocGUID:t.generateUUID(),MatDocItemGUID:t.generateUUID().toUpperCase(),MaterialDocQty:(parseInt(this._oMaterialDocItemDetails[i].GQuantity)+parseInt(this._oMaterialDocItemDetails[i].SQuantity)+parseInt(this._oMaterialDocItemDetails[i].DQuantity)).toString(),Remarks:this._oMaterialDocItemDetails[i].Remarks,UOM:this._oMaterialDocItemDetails[i].UOM,Batch:this._oMaterialDocItemDetails[i].Batch,ItemNo:this._oMaterialDocItemDetails[i].ItemNo,DMSDivisionID:this._oMaterialDocItemDetails[i].DMSDivision,MaterialDocItemCatSplits:this._oMaterialDocItemDetails[i].MaterialDocItemCatSplits}),this._oMaterialDocItemDetails[i].ItemNo=this._oMaterialDocItemDetails[i].ItemNo.toString(),r.push(this._oMaterialDocItemDetails[i])}var g=new sap.ui.model.json.JSONModel(a);this._oComponent.setModel(g,"MaterialDocItemDetails");var M=new sap.ui.model.json.JSONModel(r);this._oComponent.setModel(M,"MatDocItems"),this._oComponent.getModel("LocalViewSetting").setProperty("/MaterialItemCount",r.length),this.updateMatDoc("S")}else this.showError(),s.close();this.onCalculate_Exit&&this.onCalculate_Exit()}})});',
"com/arteria/ss/stockadjustmnt/create/controller/Main.controller.js":'jQuery.sap.require("com.arteriatech.ppc.utils.js.Common");var oPPCCommon=com.arteriatech.ppc.utils.js.Common;sap.ui.controller("com.arteria.ss.stockadjustmnt.create.controller.Main",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(this.getView()));var o=this._oComponent.getModel("PCGW"),t=this._oComponent.getModel("ppcutili18n").getResourceBundle();oPPCCommon.loadProductFeatures({Typeset:"PD",oDataModel:o,oUtilsI18n:t}),oPPCCommon.initMsgMangerObjects(),!1===sap.ui.Device.support.touch&&this.getView().addStyleClass("sapUiSizeCompact"),this.onInitHookUp_Exit&&this.onInitHookUp()}});',"com/arteria/ss/stockadjustmnt/create/controller/MaterialDetails.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("com.arteria.ss.stockadjustmnt.create.controller.MaterialDetails",{onInit:function(){this.onInitialHookUps()},onInitialHookUps:function(){this._oView=this.getView(),this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(gListPageView)),this._oComponent.getModel("i18n").getResourceBundle(),this._oComponent.getModel("ppcutili18n").getResourceBundle()}})});',"com/arteria/ss/stockadjustmnt/create/controller/NoMatching.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History"],function(o,t){"use strict";return o.extend("com.arteria.ss.stockadjustmnt.create.controller.NoMatching",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(this.getView())),this._oRouter=this._oComponent.getRouter()},onNavBack:function(o){this._oRouter.navTo("poview")}})});',"com/arteria/ss/stockadjustmnt/create/controller/NotFound.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History"],function(o,t){"use strict";var n;return o.extend("com.arteria.ss.stockadjustmnt.create.controller.NotFound",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){n=this.getView(),this.onInitHookUp_Exit&&this.onInitHookUp()},getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this)},onNavBack:function(o){void 0!==t.getInstance().getPreviousHash()?(window.history.back(),window.history.go(-1)):(this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(this.getView())),this._oComponent.getRouter().navTo("View"))},setNotFoundDetails:function(o,t,e){n.byId("notFoundMessagePage").setText(o),n.byId("notFoundMessagePage").setIcon(t),n.byId("notFoundMessagePage").setDescription(e)}})});',"com/arteria/ss/stockadjustmnt/create/controller/ViewPage.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","com/arteriatech/ppc/utils/js/Common","com/arteriatech/prd/utils/js/Common"],function(e,t,o){"use strict";sap.ui.Device;var i=com.arteriatech.ppc.utils.js.Common;return e.extend("com.arteria.ss.stockadjustmnt.create.controller.ViewPage",{onInit:function(){this.onInitHookUp()},onInitHookUp:function(){this._oView=this.getView(),this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(this._oView)),this._oComponent.getModel("i18n").getResourceBundle(),this._oComponent.getModel("ppcutili18n").getResourceBundle(),com.arteriatech.ss.utils.js.Common,com.arteriatech.ss.utils.js.CommonValueHelp,this.TokenInput=this.getView().byId("ViewPageValueHelp"),this.aKeys=[],this.byId("ViewPageValueHelp").setValueState(sap.ui.core.ValueState.None),this.byId("ViewPageValueHelp").setValueStateText("");this.onInitHookUp_Exit&&this.onInitHookUp()},ViewPageF4:function(){},onF4Change:function(e){""===e.getSource().getValue()&&(i.removeMsgsInMsgMgrByMsgCode("Err_ValueHelp"),e.getSource().setValueState("None"),e.getSource().setValueStateText(""))},gotoDetail:function(e){if(this.byId("ViewPageValueHelp").getTokens().length>0){this.byId("ViewPageValueHelp").setValueState(sap.ui.core.ValueState.None),this.byId("ViewPageValueHelp").setValueStateText("");e.getSource().getBindingContext("POItems"),this.byId("ViewPageValueHelp").getTokens()[0].mProperties.key;this._oRouter.navTo("DetailPage",{contextPath:""},!1)}else this.byId("ViewPageValueHelp").setValueState(sap.ui.core.ValueState.Error),this.byId("ViewPageValueHelp").setValueStateText("ToAdd Message"),sap.m.MessageBox.error("ToAdd Message",{styleClass:sap.ui.Device.support.touch?"":"sapUiSizeCompact"})}})});',"com/arteria/ss/stockadjustmnt/create/util/Formatter.js":'function formatTextColor(e){try{if("P"==e)return"Success"}catch(e){return"None"}}function formatCurrencyforCreditandDebit(e,t){var a=parseFloat(e);try{return 0===a?t="":t}catch(e){return""}}function formatCreditandDebitAmount(e){var t=parseFloat(e);try{return 0===t?"":e}catch(e){return""}}function formatNumberState(e){var t="";try{t=(e=parseFloat(e))>0?"Success":"Error"}catch(e){t="None"}return t}function formatTextId(e,t,a){return""===a&&""===e||void 0===a&&void 0===e||null===a&&null===e?"":""===a||void 0===a?e:e+" /"+t+"("+a+")"}function formatText(e,t){return""!==t&&""!==e||void 0!==t&&void 0!==e?""===t||void 0===t?e:""===e||void 0===e?t:e+" ("+t+")":""}function formatStatusRejVisibility(e){var t=!1;try{t=4==e}catch(e){t=!1}return t}function formatDocTypeImage(e){return"KR"==e?"sap-icon://expense-report":"AB"==e?"sap-icon://accounting-document-verification":"KZ"==e?"sap-icon://sales-order":"ZP"==e?"sap-icon://payment-approval":"RE"==e?"sap-icon://sales-document":"KG"==e?"sap-icon://customer-financial-fact-sheet":"DZ"==e?"sap-icon://sales-order":"RV"==e?"sap-icon://expense-report":void 0}function formatDocTypeTooltip(e){try{if("RV"==e)return"Invoice";if("AB"==e)return"Journal";if("DZ"==e)return"Payment";if("CP"==e)return"Payment";if("RE"==e)return"Gross inv. receipt";if("KG"==e)return"Customer credit memo"}catch(e){return""}}function formatStatusDelIndVisibility(e){var t=!1;try{t=5==e}catch(e){t=!1}return t}function formatEmphasized(e){try{return(e=parseFloat(e))>0}catch(e){return!1}}function formatEmptyAmnt(e){try{return e}catch(e){return""}}function formatStatusTooltip(e){try{if("P"==e)return"Posted"}catch(e){return"Payment Posted"}}function formatItemTypeImageTooltip(e){try{if("VI"==e)return"Vendor Invoice";if("DN"==e)return"Debit Note"}catch(e){return"Payment Posted"}}function formatImage(e){if("P"==e)return"sap-icon://payment-approval"}function formatItemTypeImage(e){return"VI"==e?"sap-icon://sales-document":"DN"==e?"sap-icon://document-text":void 0}function formatImageColor(e){if("P"==e)return"#007833"}function formatItemTypeImageColor(e){return"VI"==e?"#007CC0":"DN"==e?"#007833":void 0}function date(fValue){if(fValue){var sJsonDate=fValue;/\\/(.+)\\//.exec(sJsonDate);var oDate=eval("new "+RegExp.$1),day=("0"+oDate.getDate()).slice(-2),month=("0"+(oDate.getMonth()+1)).slice(-2),year=oDate.getFullYear(),date=day+"/"+month+"/"+year;return date}return""}function checkToDateLNFromDate(e,t){var a=new Date(e),r=new Date(t);a.setHours(0,0,0,0),r.setHours(0,0,0,0);var n=!1;return(r-a)/864e5<0&&(n=!0),n}function checkFutureDate(e){var t=new Date,a=new Date(e);t.setHours(0,0,0,0),a.setHours(0,0,0,0);var r=!1;return(t-a)/864e5<0&&(r=!0),r}function checkPastDate(e){var t=!0;return(new Date-e)/864e5>=1&&(t=!1),t}function getCurrentDate(){return new Date}function getDate(e){var t=new Date;return t.setDate(t.getDate()-e),t}function after30daysDate(){var e=new Date;return e.setDate(e.getDate()+30),e}function validateDate(e){return re=/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,!(""!=e&&!e.match(re))}function dateValueHdr(fValue){if(fValue){var sJsonDate=fValue;/\\/(.+)\\//.exec(sJsonDate);var oDate=eval("new "+RegExp.$1),day=("0"+oDate.getDate()).slice(-2),month=("0"+(oDate.getMonth()+1)).slice(-2),year=oDate.getFullYear(),date=day+"/"+month+"/"+year;return date}}function validByDatesDifference(e,t,a){var r=new Date(e),n=!1;return(new Date(t)-r)/864e5<=a&&(n=!0),n}function getOdataDateFormat(e){var t=e.toString().split(" "),a=t[2],r="00"+("JanFebMarAprMayJunJulAugSepOctNovDec".indexOf(t[1])/3+1);return r=r.slice(-2),t[3]+"-"+r+"-"+a+"T00:00:00"}function validateEmail(e){return/^(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(e)}function validateMobile(e){return/^\\+?([0-9]{2})\\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/.test(e)}function validateLandline(e){return/^(?:(?:\\(?(?:00|\\+)([1-4]\\d\\d|[1-9]\\d?)\\)?)?[\\-\\.\\ \\\\\\/]?)?((?:\\(?\\d{1,}\\)?[\\-\\.\\ \\\\\\/]?){0,})(?:[\\-\\.\\ \\\\\\/]?(?:#|ext\\.?|extension|x)[\\-\\.\\ \\\\\\/]?(\\d+))?$/i.test(e)}function validPostalCode(e){return/^-?\\d*(\\.\\d+)?$/.test(e)}function amountFormat(e){if(e){var t=sap.ui.getCore().getConfiguration().getLanguage();return e.toLocaleString(t),e}}function checkNull(e){return void 0==e||""==e}function displayErrorMsg(e,t){if(null!=e&&void 0!=e&&""!=e){var a="";if(e.responseText.startsWith("<html>")){parser=new DOMParser,htmlDoc=parser.parseFromString(e.responseText,"text/html"),a=htmlDoc.getElementsByTagName("H2")[0].innerHTML}else{e.responseJSON.error.innererror.errordetails.length;for(var r=e.responseJSON.error.innererror.errordetails,n={},o=0;o<r.length;o++)n[r[o].message]=r[o];for(var s in r=new Array,n)r.push(n[s]);for(o=0;o<r.length;o++)a=a+"\\n"+r[o].message}void 0!=t&&null!=t&&""!=t?displayErrorOfText(t,a):displayMessageErr(a)}}function displaySuccMsg(e,t,a){var r="",n=e["sap-message"],o=jQuery.parseXML(n);$(o).find("message").each(function(e,t){r=r+"\\n"+$(t).text()}),void 0!=t&&null!=t&&""!=t?void 0!=a&&null!=a&&""!=a?displaySuccessForOnClose(a,r,t):new sap.ca.ui.message.showMessageBox({type:sap.ca.ui.message.Type.SUCCESS,message:r},t):void 0!=a&&null!=a&&""!=a?displaySuccessOfText(a,r):displayMessageSuccess(r)}function displayErrMsg(e,t){var a="",r=[],n=e.response;if("403"!=n.statusCode){var o=n.body,s=jQuery.parseXML(o);$(s).find("message").each(function(e,t){r.push($(t).text())});for(var i={},u=0;u<r.length;u++)i[r[u]]=r[u];var c=new Array;for(var l in i)c.push(i[l]);for(u=0;u<c.length;u++)a=a+"\\n"+c[u]}else a=n.statusCode+" "+n.statusText+" error";void 0!=t&&null!=t&&""!=t?displayErrorOfText(t,a):displayMessageErr(a)}function printPdf(e){window.open(e,"winname","directories=no,titlebar=no,navigationtoolbar=no,addressbar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no")}function formatJDate(aData,dateArr){for(var dateStr="",j=0;j<dateArr.length;j++){dateStr="",dateStr=dateArr[j];for(var i=0;i<aData.length;i++){var fValue=aData[i][dateStr];if(null!=fValue&&""!=fValue&&void 0!=fValue){var sJsonDate=fValue;/\\/(.+)\\//.exec(sJsonDate);var oDate=eval("new "+RegExp.$1);oDate.setHours("00"),oDate.setMinutes("00"),oDate.setSeconds("00"),aData[i][dateStr]=oDate}}}return aData}function formatAmount(e,t){var a=sap.ui.core.format.NumberFormat.getFloatInstance({groupingEnabled:!0,groupingSeparator:",",decimalSeparator:"."});return""!=e&&null!=e&&void 0!=e?a.format(e):e}function formatQty(e,t){var a=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:3,groupingEnabled:!0,groupingSeparator:",",decimalSeparator:"."});return""!=e&&null!=e&&void 0!=e?a.format(e):e}function endsWith(e,t){return-1!==e.indexOf(t,e.length-t.length)}function toInteger(e){if(null!=e)return parseInt(e)}function toDecimal(e){if(null!=e)return parseDecimal(e)}function getTokenForSingleInput(e,t,a,r,n,o,s,i){var u=new sap.m.BusyDialog;u.open(),$.ajax({url:a,jsonpCallback:"getJSON",contentType:"application/json",dataType:"json",success:function(a,i,c){o.byId(s).setValueState(sap.ui.core.ValueState.None),o.byId(s).setValueStateText(""),t.removeAllTokens();var l=new sap.ui.model.json.JSONModel;l.setData(a);var p,f=l.getProperty("/d/results"),d="",m="";return d=""!=r&&null!=r&&void 0!=r?f[0][r]:e.text,m=""==n||null==n||void 0==n?e.text:void 0==f[0][n]&&""==f[0][n]?e.text:f[0][n]+" ("+e.text+")",p=new sap.m.Token({key:d,text:m}),e.asyncCallback(p),u.close(),sap.m.MultiInput.WaitForAsyncValidation},error:function(e){u.close(),o.byId(s).setValueState(sap.ui.core.ValueState.Error),o.byId(s).setValueStateText("Please enter valid "+i)}})}function getTokenForMultipleInput(e,t,a,r,n){var o=new sap.m.BusyDialog;o.open(),$.ajax({url:a,jsonpCallback:"getJSON",contentType:"application/json",dataType:"json",success:function(t,a,n){var s=new sap.ui.model.json.JSONModel;s.setData(t);var i=s.getProperty("/d/results"),u="";return u=""==r||null==r||void 0==r?new sap.m.Token({key:e.text,text:e.text}):void 0==i[0][r]&&""==i[0][r]?new sap.m.Token({key:e.text,text:e.text}):new sap.m.Token({key:e.text,text:i[0][r]+" ("+e.text+")"}),e.asyncCallback(u),o.close(),sap.m.MultiInput.WaitForAsyncValidation},error:function(e){o.close(),displayErrorMsg(e,n)}})}function amountParseFloatWithM(e){return parseFloat(e).toFixed(2)+"m"}function quantityParseFloatWithM(e){return parseFloat(e).toFixed(3)+"m"}function amountParseFloat(e){return parseFloat(e).toFixed(1)}function quantityParseFloat(e){return parseFloat(e).toFixed(2)}function isInteger(e){return void 0!==e&&null!==e&&e%1==0}function displayErrorOfTextObj(e,t){var a=!!e.$().closest(".sapUiSizeCompact").length;sap.m.MessageBox.error(t.getText(),{styleClass:a?"sapUiSizeCompact":""})}function displayErrorOfText(e,t){var a=!!e.$().closest(".sapUiSizeCompact").length;sap.m.MessageBox.error(t,{styleClass:a?"sapUiSizeCompact":""})}function displaySuccessForOnClose(e,t,a){var r=!!e.$().closest(".sapUiSizeCompact").length;sap.m.MessageBox.success(t,{styleClass:r?"sapUiSizeCompact":"",onClose:a})}function displaySuccessOfText(e,t){var a=!!e.$().closest(".sapUiSizeCompact").length;sap.m.MessageBox.success(t,{styleClass:a?"sapUiSizeCompact":""})}function errorPopUp(e,t){null!=t&&void 0!=t&&""!=t?displayErrorOfText(t,e):displayMessageErr(e.getText())}function displayMessageErr(e){sap.ca.ui.message.showMessageBox({type:sap.ca.ui.message.Type.ERROR,message:e})}function displayMessageSuccess(e){sap.ca.ui.message.showMessageBox({type:sap.ca.ui.message.Type.SUCCESS,message:e})}function closeDialog(e,t){return 0==(e-=1)&&t.close(),e}function getCurrentServerDate(){var e=sap.ui.getCore().getModel("PDGW_COM").sServiceUrl;e+="/Today";var t=null;return $.ajax({url:e,jsonpCallback:"getJSON",contentType:"application/json",dataType:"json",async:!1,success:function(e,a,r){var n=new sap.ui.model.json.JSONModel;n.setData(e);var o=n.getProperty("/d/results"),s=[];s.push("Today"),o=formatJDate(o,s),t=o[0].Today},error:function(e){}}),t}function checkFutureDateWithServerDate(e){var t=getCurrentServerDate(),a=new Date(e);t.setHours(0,0,0,0),a.setHours(0,0,0,0);var r=!1;return(t-a)/864e5<0&&(r=!0),r}function checkPastDateWithServerDate(e){var t=!0;return(getCurrentServerDate()-e)/864e5>=1&&(t=!1),t}function getRequiredServerDate(e){var t=getCurrentServerDate();return t.setDate(t.getDate()-e),t}function getAfter30DaysServerDate(){var e=getCurrentServerDate();return e.setDate(e.getDate()+30),e}function setCommonModel(e){var t=new sap.ui.model.odata.ODataModel(e,!0);t.setCountSupported(!1),sap.ui.getCore().setModel(t,"PDGW_COM")}function closeDialog(e,t){return 0==(e-=1)&&t.close(),e}jQuery.sap.require("sap.ca.ui.model.format.AmountFormat"),jQuery.sap.require("sap.m.MessageBox"),jQuery.sap.require("sap.ca.ui.message.message"),jQuery.sap.require("sap.ui.core.format.NumberFormat"),String.prototype.startsWith=function(e){return 0==this.indexOf(e)};',"com/arteria/ss/stockadjustmnt/create/util/Dialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ViewSettingsDialog confirm="sortAndFilterTable"><sortItems><ViewSettingsItem text="{SSGW_MM>/CPStockItems/SKUGroup/#@sap:label}" key="SKUGroup"/><ViewSettingsItem text="{SSGW_MM>/CPStockItemSnos/ItemNo/#@sap:label}" key="ItemNo"/><ViewSettingsItem text="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" key="MaterialNo"/><ViewSettingsItem text="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" key="ManufacturingDate"/><ViewSettingsItem text="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}" key="Batch"/><ViewSettingsItem text="{SSGW_MM>/CPStockItemSnos/Quantity/#@sap:label}" key="Quantity"/></sortItems><filterItems><ViewSettingsCustomItem text="{SSGW_MM>/CPStockItems/SKUGroup/#@sap:label}" key="SKUGroup"><customControl><Input tooltip="SKUGroup" liveChange="com.arteriatech.ppc.utils.js.Common.addCustomControlToFilter"/></customControl></ViewSettingsCustomItem><ViewSettingsCustomItem text="{SSGW_MM>/CPStockItemSnos/ItemNo/#@sap:label}" key="ItemNo"><customControl><Input tooltip="ItemNo" liveChange="com.arteriatech.ppc.utils.js.Common.addCustomControlToFilter"/></customControl></ViewSettingsCustomItem><ViewSettingsCustomItem text="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" key="MaterialNo"><customControl><Input tooltip="MaterialNo" liveChange="com.arteriatech.ppc.utils.js.Common.addCustomControlToFilter"/></customControl></ViewSettingsCustomItem><ViewSettingsCustomItem text="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" key="ManufacturingDate"><customControl><Input tooltip="ManufacturingDate" liveChange="com.arteriatech.ppc.utils.js.Common.addCustomControlToFilter"/></customControl></ViewSettingsCustomItem><ViewSettingsCustomItem text="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}" key="Batch"><customControl><Input tooltip="Batch" liveChange="com.arteriatech.ppc.utils.js.Common.addCustomControlToFilter"/></customControl></ViewSettingsCustomItem><ViewSettingsCustomItem text="{SSGW_MM>/CPStockItemSnos/Quantity/#@sap:label}" key="Quantity"><customControl><Input tooltip="Quantity" liveChange="com.arteriatech.ppc.utils.js.Common.addCustomControlToFilter"/></customControl></ViewSettingsCustomItem></filterItems></ViewSettingsDialog></core:FragmentDefinition>',"com/arteria/ss/stockadjustmnt/create/view/DetailPage.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.DetailPage" xmlns:html="http://www.w3.org/1999/xhtml" id="DetailScreen"><App id="DetailApp"><pages><Page id="DetailPage" title="{i18n>Page.Detail.title}" showNavButton="true" navButtonType="Back" navButtonPress="navigateBack"><content><mvc:XMLView id="DetailPageObjectHeaderView" viewName="com.arteria.ss.stockadjustmnt.create.view.DetailPageObjectHeader"/><mvc:XMLView id="DetailPageItemsView" viewName="com.arteria.ss.stockadjustmnt.create.view.DetailPageItems"/></content><footer><Toolbar><Button id="oMessagePopoverButton" text="{= ${LocalViewSetting>/messageLength} === 0 ? \'\' : ${LocalViewSetting>/messageLength} }"\n\t\t\t\t\t\t\ticon="{= ${LocalViewSetting>/messageLength} === 0 ? \'\' : \'sap-icon://alert\' }" press="showPopUp"\n\t\t\t\t\t\t\ttype="{= ${LocalViewSetting>/messageLength} === 0 ? \'Default\' : \'Emphasized\' }"\n\t\t\t\t\t\t\tenabled="{= ${LocalViewSetting>/messageLength} === 0 ? false : true }"/><ToolbarSpacer/><Button text="{i18n>List.Footer.review}" press="onReview" visible="{LocalViewSetting>/editMode}" icon="sap-icon://activities" type="Accept"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Footer.review}"/><Button text="{i18n>List.Footer.save}" press="onSave" visible="{LocalViewSetting>/reviewMode}" icon="sap-icon://save" type="Accept"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Footer.save}"/></Toolbar></footer></Page></pages></App></mvc:View>',"com/arteria/ss/stockadjustmnt/create/view/DetailPageHeader.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:html="http://www.w3.org/1999/xhtml"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.DetailPageHeader" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form"\n\tid="DetailPageHeaderView" displayBlock="true"><l:Grid defaultSpan="L12 M12 S12" width="auto" vSpacing="0" visible="{LocalViewSetting>/editMode}"><l:content><f:Form editable="true"><f:layout><f:ResponsiveGridLayout labelSpanL="4" labelSpanM="4" emptySpanL="4" emptySpanM="4" columnsL="4" columnsM="4"></f:ResponsiveGridLayout></f:layout><f:formContainers></f:formContainers><f:formContainers><f:FormContainer ><f:formElements><f:FormElement label="{SSGW_MM>/MaterialDocs/MaterialDocDate/#@sap:label}" required="true"><f:fields><DatePicker dateValue="{path:\'MaterialDocs>/MaterialDocDate\' }" displayFormat="{LocalViewSetting>/DateFormat}" change="onDateValidate"></DatePicker></f:fields></f:FormElement><f:FormElement><f:label><Label required="true" id="feMvmtTypeID" text="{SSGW_MM>/MaterialDocs/MvmtTypeID/#@sap:label}"></Label></f:label><f:fields><Select autoAdjustWidth="true" id="MvmtTypeID" items="{MoveMentTypeDD>/}"><core:ListItem id="MoveMentTypeID_item" key="{MoveMentTypeDD>Key}"\n\t\t\t\t\t\t\t\t\t\t\ttext="{MoveMentTypeDD>Key}{MoveMentTypeDD>Seperator}{MoveMentTypeDD>Text}" tooltip="{MoveMentTypeDD>Text}"></core:ListItem></Select></f:fields></f:FormElement></f:formElements></f:FormContainer></f:formContainers><f:formContainers></f:formContainers></f:Form></l:content></l:Grid><l:Grid defaultSpan="L12 M12 S12" width="auto" vSpacing="0" visible="{LocalViewSetting>/reviewMode}"><l:content><f:Form editable="false"><f:layout><f:ResponsiveGridLayout labelSpanL="4" labelSpanM="4" emptySpanL="4" emptySpanM="4" columnsL="4" columnsM="4"></f:ResponsiveGridLayout></f:layout><f:formContainers></f:formContainers><f:formContainers><f:FormContainer ><f:formElements><f:FormElement label="{SSGW_MM>/MaterialDocs/MaterialDocDate/#@sap:label}"><f:fields><Text text="{ path: \'MaterialDocs>/MaterialDocDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"></Text></f:fields></f:FormElement><f:FormElement label="{SSGW_MM>/MaterialDocs/MvmtTypeID/#@sap:label}"><f:fields><Text text="{MaterialDocs>/MvmntTypeDesc} ({MaterialDocs>/MvmtTypeID})"></Text></f:fields></f:FormElement></f:formElements></f:FormContainer></f:formContainers><f:formContainers></f:formContainers></f:Form></l:content></l:Grid></mvc:View>',
"com/arteria/ss/stockadjustmnt/create/view/DetailPageItems.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:table="sap.ui.table"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.DetailPageItems" xmlns:html="http://www.w3.org/1999/xhtml"\n\tid="DetailPageItemsView" displayBlock="true"><Panel class="sapUiResponsiveContentPadding"><table:Table id="UiMatDocItemTable" rows="{MaterialDocItemDetails>/}" showColumnVisibilityMenu="true" enableGrouping="false"\n\t\t\tselectionMode="None" enableSelectAll="false" noData="{ppcutili18n>common.NoItemSelected}" enableColumnFreeze="true"\n\t\t\tminAutoRowCount="{ path: \'LocalViewSetting>/TableRowCount\', formatter: \'com.arteriatech.ppc.utils.js.Common.setUITableVisibleRowCount\'}"\n\t\t\tvisibleRowCount="{ path: \'LocalViewSetting>/TableRowCount\', formatter: \'com.arteriatech.ppc.utils.js.Common.setUITableVisibleRowCount\'}"\n\t\t\tvisible="{= (${device>/system/phone} || ${device>/system/tablet})? false : true}" visibleRowCountMode="Fixed"><table:toolbar><Toolbar><Title id="UiSOTableTitle" level="H2"\n\t\t\t\t\t\ttext="{i18n>DetailItem.Table.Title} {= (!${LocalViewSetting>/TableRowCount} > 0) ? \'\' : \'(\'+${LocalViewSetting>/TableRowCount}+\')\'}"\n\t\t\t\t\t\tvisible="true"/><ToolbarSpacer/></Toolbar></table:toolbar><table:columns><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/ItemNo/#@sap:label}" mergeDuplicates="true"\n\t\t\t\t\tmergeFunctionName="getTitle"><Text text="{SSGW_MM>/MaterialDocItemDetails/ItemNo/#@sap:label}"/><table:template><Text text="{MaterialDocItemDetails>ItemNo}" tooltip="{MaterialDocItemDetails>ItemNo}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/MaterialNo/#@sap:label}"><Text text="{SSGW_MM>/MaterialDocItemDetails/MaterialNo/#@sap:label}"/><table:template><Text text="{MaterialDocItemDetails>MaterialDesc} ({MaterialDocItemDetails>MaterialNo})"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/MaterialDocItemDetails/MaterialNo/#@sap:label}"/></table:template></table:Column><table:Column hAlign="Right" autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/Quantity/#@sap:label}"><Text id="FQuantityEdit" text="{SSGW_MM>/CPStockItemSnos/Quantity/#@sap:label}"/><table:template><ObjectNumber emphasized="false" number="{path:\'MaterialDocItemDetails>Quantity\', type: \'sap.ui.model.type.Float\'}" id="FQuantity"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/Quantity/#@sap:label} :{path:\'MaterialDocItemDetails>Quantity\', type: \'sap.ui.model.type.Float\'} {MaterialDocItemDetails>UOM}"\n\t\t\t\t\t\t\tunit="{MaterialDocItemDetails>UOM}" xmlns="sap.m" textAlign="Right"/></table:template></table:Column><table:Column hAlign="Right" autoResizable="true" tooltip="Adjusted Quantity"><Text id="FAdjQtyEdit" text="Adjusted Qty"/><table:template><HBox id="HBoxAdjstdQty"><ObjectNumber emphasized="false" number="{MaterialDocItemDetails>AdjQty}" id="FAdjQuantity"\n\t\t\t\t\t\t\t\ttooltip="Adjusted Qty :{path:\'MaterialDocItemDetails>AdjQty\', type: \'sap.ui.model.type.Float\'} {MaterialDocItemDetails>UOM}"\n\t\t\t\t\t\t\t\tunit="{MaterialDocItemDetails>UOM}" xmlns="sap.m" textAlign="Right" visible="{LocalViewSetting>/reviewMode}"/><Input id="FAdjQty" change="onChangeAdjQty" value="{path: \'MaterialDocItemDetails>AdjQty\'}"\n\t\t\t\t\t\t\t\tvalueState="{MaterialDocItemDetails>QuantityValueState}" valueStateText="{MaterialDocItemDetails>QuantityValueStateText}" textAlign="Right"\n\t\t\t\t\t\t\t\tdescription="{MaterialDocItemDetails>UOM}" visible="{LocalViewSetting>/editMode}"\n\t\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.Float\'}"/></HBox></table:template></table:Column><table:Column hAlign="Right" autoResizable="true" tooltip="Difference Quantity" width="7%"><Text text="Diff. Qty"/><table:template><ObjectNumber id="FDiffQuantity" number="{= ${MaterialDocItemDetails>DiffQty} !== \'\' ? ${MaterialDocItemDetails>DiffQty} : \'\' }"\n\t\t\t\t\t\t\ttooltip="Difference Quantity :{path:\'MaterialDocItemDetails>DiffQty\', type: \'sap.ui.model.type.Float\'} {MaterialDocItemDetails>UOM}"\n\t\t\t\t\t\t\tunit="{MaterialDocItemDetails>UOM}" xmlns="sap.m" textAlign="Right" emphasized="false"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"><Text id="FReasonID" text="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"/><table:template><HBox><Select id="FReasonIDEdit" items="{path: \'ReasonDD>/\', templateShareable : true}" selectedKey="{MaterialDocItemDetails>ReasonID}"\n\t\t\t\t\t\t\t\tchange="onChangeReasonDesc" visible="{LocalViewSetting>/editMode}"><core:ListItem key="{ReasonDD>Key}" tooltip="{ReasonDD>Text}" text="{ReasonDD>Key}{ReasonDD>Seperator}{ReasonDD>Text}"/></Select><Text wrapping="true" id="FReason" tooltip="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}" visible="{LocalViewSetting>/reviewMode}"\n\t\t\t\t\t\t\t\ttext="{MaterialDocItemDetails>ReasonDesc} {= (${MaterialDocItemDetails>ReasonID} &amp;&amp; ${MaterialDocItemDetails>ReasonID} !== \'\')? \'(\'+${MaterialDocItemDetails>ReasonID}+\')\' : \'\'}"/></HBox></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"><Text id="FRemarksEdit" text="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"/><table:template><HBox><Input id="FRemarks" maxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.String\'}" type="Text"\n\t\t\t\t\t\t\t\tvalue="{MaterialDocItemDetails>Remarks}" visible="{LocalViewSetting>/editMode}" change="setRemarks"\n\t\t\t\t\t\t\t\tvalueState="{MaterialDocItemDetails>RemarksState}" valueStateText="{MaterialDocItemDetails>RemarksStateText}"/><Text wrapping="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" text="{MaterialDocItemDetails>Remarks}"\n\t\t\t\t\t\t\t\tvisible="{LocalViewSetting>/reviewMode}"/></HBox></table:template></table:Column></table:columns></table:Table><Table id="MatDocItemTable" items="{MaterialDocItemDetails>/}" inset="false" class="sapUiNoMargin" busy="false"\n\t\t\tvisible="{= (${device>/system/phone} || ${device>/system/tablet})? true : false}"><headerToolbar><Toolbar id="MatItemTableToolBar"><Title id="MatItemTableTitle"\n\t\t\t\t\t\ttext="{i18n>DetailItem.Table.Title} {= (!${LocalViewSetting>/TableRowCount} > 0) ? \'\' : \'(\'+${LocalViewSetting>/TableRowCount}+\')\'}"\n\t\t\t\t\t\tlevel="H2"/></Toolbar></headerToolbar><infoToolbar><Toolbar id="ListTableInfoToolBar" active="true" visible="false" press="handleViewSettingsDialogButtonPressed"><Label id="ListTableInfoToolBarLabel" text="?"/></Toolbar></infoToolbar><columns><Column mergeDuplicates="true" mergeFunctionName="getTitle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"><Text text="{SSGW_MM>/CPStockItemSnos/ItemNo/#@sap:label}" tooltip="{SSGW_MM>/CPStockItemSnos/ItemNo/#@sap:label}"/></Column><Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"><Text text="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"/></Column><Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"><Text text="{SSGW_MM>/CPStockItemSnos/Quantity/#@sap:label}" tooltip="{SSGW_MM>/CPStockItemSnos/Quantity/#@sap:label}"/></Column><Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"><Text text="Adjusted Qty" tooltip="Adjusted Qty"/></Column><Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"><Text text="Diff. Qty" tooltip="Diff. Qty"/></Column><Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"><Text text="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}" tooltip="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"/></Column><Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline"><Text text="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"/></Column></columns><items><ColumnListItem id="columnListItem"><cells><Text text="{MaterialDocItemDetails>ItemNo}" tooltip="{MaterialDocItemDetails>ItemNo}"/><Text wrapping="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"\n\t\t\t\t\t\t\ttext="{MaterialDocItemDetails>MaterialDesc} {= (${MaterialDocItemDetails>MaterialNo} &amp;&amp; ${MaterialDocItemDetails>MaterialNo} !== \'\')? \'(\'+${MaterialDocItemDetails>MaterialNo}+\')\' : \'\'}"/><ObjectNumber id="MTFQuantity" emphasized="false" number="{path:\'MaterialDocItemDetails>Quantity\', type: \'sap.ui.model.type.Float\'}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/Quantity/#@sap:label} :{path:\'MaterialDocItemDetails>Quantity\', type: \'sap.ui.model.type.Float\'} {MaterialDocItemDetails>UOM}"\n\t\t\t\t\t\t\tunit="{MaterialDocItemDetails>UOM}" xmlns="sap.m" textAlign="Right"/><HBox><Input id="MTAdjQty" change="onChangeAdjQty" value="{path: \'MaterialDocItemDetails>AdjQty\'}" textAlign="Right"\n\t\t\t\t\t\t\t\tdescription="{MaterialDocItemDetails>UOM}" visible="{LocalViewSetting>/editMode}"\n\t\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.Float\'}"/><Text text="{MaterialDocItemDetails>AdjQty} {MaterialDocItemDetails>UOM}" visible="{LocalViewSetting>/reviewMode}" textAlign="Right"\n\t\t\t\t\t\t\t\ttooltip="Adjusted Quantity :{path:\'MaterialDocItemDetails>AdjQty\', type: \'sap.ui.model.type.Float\'} {MaterialDocItemDetails>UOM}"/></HBox><ObjectNumber id="MTFDiffQuantity" number="{= ${MaterialDocItemDetails>DiffQty} !== \'\' ? ${MaterialDocItemDetails>DiffQty} : \'\' }"\n\t\t\t\t\t\t\ttooltip="Difference Quantity :{path:\'MaterialDocItemDetails>DiffQty\', type: \'sap.ui.model.type.Float\'} {MaterialDocItemDetails>UOM}"\n\t\t\t\t\t\t\tunit="{MaterialDocItemDetails>UOM}" xmlns="sap.m" textAlign="Right" emphasized="false"/><HBox><Select id="MTFReasonIDEdit" items="{path: \'ReasonDD>/\', templateShareable : true}" selectedKey="{MaterialDocItemDetails>ReasonID}"\n\t\t\t\t\t\t\t\tchange="onChangeReasonDesc" visible="{LocalViewSetting>/editMode}"><core:ListItem key="{ReasonDD>Key}" tooltip="{ReasonDD>Text}" text="{ReasonDD>Key}{ReasonDD>Seperator}{ReasonDD>Text}"/></Select><Text wrapping="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}" visible="{LocalViewSetting>/reviewMode}"\n\t\t\t\t\t\t\t\ttext="{MaterialDocItemDetails>ReasonDesc} {= (${MaterialDocItemDetails>ReasonID} &amp;&amp; ${MaterialDocItemDetails>ReasonID} !== \'\')? \'(\'+${MaterialDocItemDetails>ReasonID}+\')\' : \'\'}"/></HBox><HBox><Input id="MTFRemarks" maxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.String\'}" type="Text"\n\t\t\t\t\t\t\t\tvalue="{MaterialDocItemDetails>Remarks}" visible="{LocalViewSetting>/editMode}" change="setRemarks"\n\t\t\t\t\t\t\t\tvalueState="{MaterialDocItemDetails>RemarksState}" valueStateText="{MaterialDocItemDetails>RemarksStateText}"/><Text wrapping="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" text="{MaterialDocItemDetails>Remarks}"\n\t\t\t\t\t\t\t\tvisible="{LocalViewSetting>/reviewMode}"/></HBox></cells></ColumnListItem></items></Table></Panel></mvc:View>',"com/arteria/ss/stockadjustmnt/create/view/DetailPageObjectHeader.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.DetailPageObjectHeader" xmlns:html="http://www.w3.org/1999/xhtml"\n\tid="DetailPageObjectHeaderView" displayBlock="true"><ObjectHeader binding="{Invoices>/}" responsive="true" fullScreenOptimized="false" backgroundDesign="Transparent" id="invdetails_header"\n\t\ttitle="Stock Adjustment Document" introActive="false" numberState="Success" showMarkers="true" number="" numberUnit="" icon="sap-icon://home"><attributes><ObjectAttribute title="{SSGW_MM>/MaterialDocs/MaterialDocDate/#@sap:label}"\n\t\t\t\ttext="{ path: \'MaterialDocs>/MaterialDocDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\' }"></ObjectAttribute></attributes></ObjectHeader></mvc:View>',"com/arteria/ss/stockadjustmnt/create/view/ItemDetailPage.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.ItemDetailPage" xmlns:html="http://www.w3.org/1999/xhtml"\n\tid="ItemDetailScreen"><App id="ItemDetailApp"><pages><Page id="ItemDetail" title="ToAdd from i18n"><content></content></Page></pages></App></mvc:View>',
"com/arteria/ss/stockadjustmnt/create/view/List.view.xml":'<core:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:l="sap.ui.layout" xmlns:fb="sap.ui.comp.filterbar" xmlns="sap.m"\n\tclass="sapUiResponsiveMargin" width="auto" controllerName="com.arteria.ss.stockadjustmnt.create.controller.List" xmlns:u="sap.ui.unified"\n\txmlns:html="http://www.w3.org/1999/xhtml" displayBlock="true" xmlns:table="sap.ui.table" id="ListView" xmlns:f="sap.ui.layout.form"><fb:FilterBar showFilterConfiguration="false" search="onSearch" showGoButton="false" id="FilterBar" reset="onReset" showRestoreOnFB="false"\n\t\tshowRestoreButton="false" filterContainerWidth="15rem" filterBarExpanded="true" visible="{LocalViewSetting>/editMode}"><fb:filterItems><fb:FilterItem id="Customer" mandatory="true" label="Distributor" labelTooltip="Distributor" name="Distributor"\n\t\t\t\tvisible="{LocalViewSetting>/CustomerDD}"><fb:control><Select autoAdjustWidth="true" change="getSelectedCustomerName" id="customer" items="{Customers>/}" showSecondaryValues="true"><core:ListItem id="customer_item" key="{Customers>CustomerNo}" text="{Customers>CustomerNo}{Customers>Seperator}{Customers>Name}"\n\t\t\t\t\t\t\ttooltip="{Customers>Name}"></core:ListItem></Select></fb:control></fb:FilterItem><fb:FilterItem id="CustomerNo" label="Distributor" labelTooltip="Distributor" name="DistributorNo" mandatory="true"\n\t\t\t\tvisible="{LocalViewSetting>/CustomerVH}"><fb:control><MultiInput id="inputCustomerNo" maxLength="{path:\'SFGW_SLS>/#SOItem/CustomerNo/@maxLength\', type:\'sap.ui.model.type.Float\'}"\n\t\t\t\t\t\tvalueHelpRequest="CustomerF4" showTableSuggestionValueHelp="true" showSuggestion="true" filterSuggests="false"\n\t\t\t\t\t\tsuggest="handleCustomerSuggest" suggestionItemSelected="suggestionItemSelectedCustomerF4" tokenUpdate="ontokenChange"\n\t\t\t\t\t\tsuggestionItems="{CustomerF4SuggestorModel>/}" maxSuggestionWidth="25%" change="onChangeCustomerF4"><suggestionItems><core:ListItem text="{CustomerF4SuggestorModel>Name}" additionalText=" {CustomerF4SuggestorModel>CustomerNo}"/></suggestionItems></MultiInput></fb:control></fb:FilterItem><fb:FilterItem id="StockType" label="{SSGW_MM>/CPStockItems/StockTypeID/#@sap:label}"\n\t\t\t\tlabelTooltip="{SSGW_MM>/CPStockItems/StockTypeID/#@sap:label}" name="StockType" mandatory="true"><fb:control><Select autoAdjustWidth="true" id="StockTypes" items="{StockTypes>/}" showSecondaryValues="true" change="selectCPTypes"><core:ListItem id="StockType_item" key="{StockTypes>Key}" text="{StockTypes>Key}{StockTypes>Seperator}{StockTypes>Text}"\n\t\t\t\t\t\t\ttooltip="{StockTypes>Text}"></core:ListItem></Select></fb:control></fb:FilterItem><fb:FilterItem id="StockSubType" label="{SSGW_MM>/CPStockItems/StockSubTypeID/#@sap:label}"\n\t\t\t\tlabelTooltip="{SSGW_MM>/CPStockItems/StockSubTypeID/#@sap:label}" name="StockSubType" visible="false"><fb:control><Select autoAdjustWidth="true" id="StockSubTypes" items="{StockSubTypes>/}" showSecondaryValues="true" change="changeSubStockType"><core:ListItem id="StockSubType_item" key="{StockSubTypes>Key}" text="{StockSubTypes>Key}{StockSubTypes>Seperator}{StockSubTypes>Text}"\n\t\t\t\t\t\t\ttooltip="{StockSubTypes>Text}"></core:ListItem></Select></fb:control></fb:FilterItem><fb:FilterItem id="DMSDivision" label="{SSGW_MM>/CPStockItems/DMSDivision/#@sap:label}" mandatory="false"\n\t\t\t\tlabelTooltip="{SSGW_MM>/CPStockItems/DMSDivision/#@sap:label}" name="DmsDivisionDescs" visible="{LocalViewSetting>/stockMaterialT2}"><fb:control><MultiComboBox id="inputDMSDivision" items="{DMSDivisionDD>/}" showSecondaryValues="true" selectionFinish="getSelectedDMSDiv"><core:Item id="DMSDivision_item" key="{DMSDivisionDD>Key}" text="{DMSDivisionDD>Key}{DMSDivisionDD>Seperator}{DMSDivisionDD>Text}"\n\t\t\t\t\t\t\ttooltip="{DMSDivisionDD>Text}"></core:Item></MultiComboBox></fb:control></fb:FilterItem><fb:FilterItem id="dDMSDivision" label="{SSGW_MM>/CPStockItems/DMSDivision/#@sap:label}" mandatory="false" visible="false"\n\t\t\t\tlabelTooltip="{SSGW_MM>/CPStockItems/DMSDivision/#@sap:label}" name="DmsDivisionDesc"><fb:control><MultiComboBox id="inputsDMSDivision" items="{DMSDivisionDD>/}" showSecondaryValues="true" selectionFinish="getSelectedDMSDiv"><core:Item id="DMSDivisions_item" key="{DMSDivisionDD>Key}" text="{DMSDivisionDD>Key}{DMSDivisionDD>Seperator}{DMSDivisionDD>Text}"\n\t\t\t\t\t\t\ttooltip="{DMSDivisionDD>Text}"></core:Item></MultiComboBox></fb:control></fb:FilterItem><fb:FilterItem id="SKUGroup" label="{i18n>List.Table.CRSSKUGroup}" labelTooltip="{i18n>List.Table.CRSSKUGroup}" name="SKUGroupDesc"\n\t\t\t\tvisible="{LocalViewSetting>/stockMaterialT2}"><fb:control><MultiInput id="inputSKUGroup" maxLength="{path:\'SSGW_MM>/CPStockItems/SKUGroup/#@maxLength\', type:\'sap.ui.model.type.Float\'}"\n\t\t\t\t\t\tvalueHelpRequest="SKUGroupF4" showTableSuggestionValueHelp="true" showSuggestion="true" filterSuggests="false" suggest="handleSKUGRPSuggest"\n\t\t\t\t\t\tsuggestionItemSelected="suggestionSKUGRPItemSelected" tokenUpdate="SKUChange" suggestionItems="{SKUGRPSuggestorModel>/}"\n\t\t\t\t\t\tmaxSuggestionWidth="25%" change="onChangeSKUGRP"><suggestionItems><core:ListItem text="{SKUGRPSuggestorModel>OrderMaterialGroupID}" additionalText=" {SKUGRPSuggestorModel>OrderMaterialGroupDesc}"/></suggestionItems></MultiInput></fb:control></fb:FilterItem><fb:FilterItem id="fiDate" label="Date" labelTooltip="Date" name="Date"><fb:control><DatePicker dateValue="{path:\'MaterialDocs>/MaterialDocDate\'}" tooltip="Date" displayFormat="{LocalViewSetting>/DateFormat}" id="inputDate"\n\t\t\t\t\t\tchange="onChangeDate" enabled="false"></DatePicker></fb:control></fb:FilterItem><fb:FilterItem visible="false" id="PrdFeature" label="Product Feature" labelTooltip="Product Feature" name="PrdFeature" mandatory="false"><fb:control><Select autoAdjustWidth="true" id="PrdFeatureTypes" items="{PrdFr>/}" showSecondaryValues="true" change="onPrdFrChange"><core:ListItem id="PrdFeatureTypes_item" key="{PrdFr>Key}" text="{PrdFr>Text}" tooltip="{PrdFr>Text}"></core:ListItem></Select></fb:control></fb:FilterItem><fb:FilterItem mandatory="true" visible="{LocalViewSetting>/prdFrMatEnabled}" id="matF4"\n\t\t\t\tlabel="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" labelTooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}1" name="matF4"><fb:control><MultiInput id="inputMaterial1" maxLength="{path:\'SSGW_MM>/CPStockItems/MaterialDesc/#@maxLength\', type:\'sap.ui.model.type.Float\'}"\n\t\t\t\t\t\tvalueHelpRequest="MatF4Filter" visible="true" showSuggestion="true" filterSuggests="true"\n\t\t\t\t\t\tsuggestionItems="{path: \'MatSuggestorModel>/\', templateShareable:true}" suggest="handleMaterialSuggest" tokenUpdate="tokenRemovedFilter"\n\t\t\t\t\t\tsuggestionItemSelected="suggestionMatItemSelected1" change="onChangeMaterial1" maxSuggestionWidth="34%"\n\t\t\t\t\t\tenabled="{LocalViewSetting>/MaterialVisible}"><suggestionItems><core:ListItem text="{MatSuggestorModel>MaterialNo}" additionalText="{MatSuggestorModel>MaterialDesc}"/></suggestionItems></MultiInput></fb:control></fb:FilterItem></fb:filterItems></fb:FilterBar><RadioButtonGroup id="SelectGroupIDAW" select="onSelect1" columns="3" width="100%" visible="{LocalViewSetting>/editMode}"><buttons><RadioButton id="RB1-1" text="Adjust Existing"/><RadioButton id="RB1-2" text="Add New" selected="{LocalViewSetting>/OtherMaterial}"/><RadioButton id="RB1-3" text="Upload excel"/></buttons></RadioButtonGroup><Panel class="sapUiResponsiveContentPadding" backgroundDesign="Solid"\n\t\tvisible="{= ${LocalViewSetting>/editMode} &amp;&amp; ${LocalViewSetting>/stockMaterialT3} ? true:false}"><content><f:SimpleForm class="editableForm" columnsL="2" columnsM="2" editable="true" emptySpanL="2" emptySpanM="2" labelSpanL="3" labelSpanM="3"\n\t\t\t\tlayout="ResponsiveGridLayout" maxContainerCols="3" title=""><f:content><Label text="File Location" required="true"/><l:VerticalLayout><u:FileUploader id="fileUploader" buttonText="Browse" name="myFileUpload" sameFilenameAllowed="true"\n\t\t\t\t\t\t\ttooltip="Upload your file to the local server" change="handleUploadComplete" typeMissmatch="handleTypeMissmatchTypeWise" fileType="csv"\n\t\t\t\t\t\t\twidth="100%"/><l:HorizontalLayout><Link text="Download Format" press="onDownloadFormat" visible="{LocalViewSetting>/CreateVisibility}" class="sapUiTinyMarginTop"></Link></l:HorizontalLayout></l:VerticalLayout><l:VerticalLayout><Button enabled="{LocalViewSetting>/CreateVisibility}" text="Upload File" press="handleUploadPress" width="50%"></Button></l:VerticalLayout></f:content></f:SimpleForm></content></Panel><Panel xmlns="sap.m" class="sapUiResponsiveContentPadding" backgroundDesign="Solid"\n\t\tvisible="{= ${LocalViewSetting>/editMode} &amp;&amp; ${LocalViewSetting>/AttachmentsVisible} ? true:false}"><content><table:Table id="UIListTable" rows="{ListItems>/}" showColumnVisibilityMenu="true" enableGrouping="false" selectionMode="None"\n\t\t\t\tenableSelectAll="false" noData="No results found" enableColumnFreeze="true" minAutoRowCount="{LocalViewSetting>/ListItemsCount}"\n\t\t\t\tvisibleRowCount="{LocalViewSetting>/ListItemsCount}"\n\t\t\t\tvisible="{= ((${device>/system/phone} || ${device>/system/tablet}===false)&amp;&amp; ${LocalViewSetting>/stockMaterialT1}===true)? true : false}"\n\t\t\t\tvisibleRowCountMode="Fixed"><table:toolbar><Toolbar id="UIListTableToolBar"><MultiInput id="toolbarMaterialNoID" showValueHelp="false" width="13rem" showSuggestion="true" filterSuggests="true" type="Text"\n\t\t\t\t\t\t\tvalueHelpRequest="ToolbarMaterialF4" tokenUpdate="handleMaterialTokenRemoveToolbar"\n\t\t\t\t\t\t\tsuggestionRows="{path: \'MatSuggestorModel>/\', templateShareable:true}" suggest="handleMaterialSuggest"\n\t\t\t\t\t\t\tsuggestionItemSelected="ToolbarMatSuggestionSelected" maxSuggestionWidth="60rem" showTableSuggestionValueHelp="false"\n\t\t\t\t\t\t\ttokens="{path:\'LocalViewSetting>/MaterialTokens\',templateShareable:true}" liveChange="onToolMatLiveChange"\n\t\t\t\t\t\t\ttooltip="Please Enter Material........" placeholder="Please Enter Material"><tokens><Token key="{LocalViewSetting>MaterialNo}" tooltip="{LocalViewSetting>MaterialDesc}({LocalViewSetting>MaterialNo})"\n\t\t\t\t\t\t\t\t\ttext="{parts:[{path:\'LocalViewSetting>MaterialDesc\'},{path:\'LocalViewSetting>MaterialNo\'}],formatter:\'.formatToken\'}"/></tokens><suggestionColumns><Column width="10rem"><Label text="Material No"></Label></Column><Column width="25rem"><Label text="Material Desc"></Label></Column><Column width="5rem"><Label text="MRP"></Label></Column><Column width="10rem"><Label text="Stock Conversion"></Label></Column></suggestionColumns><suggestionRows><ColumnListItem><cells><Label text="{MatSuggestorModel>MaterialNo}"></Label></cells><cells><Label text="{MatSuggestorModel>MaterialDesc}"></Label></cells><cells><Label text="{MatSuggestorModel>MRP}"></Label></cells><cells><Label text="{MatSuggestorModel>StockConversion}"></Label></cells></ColumnListItem></suggestionRows></MultiInput><Text textAlign="Right" text="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}:" visible="{LocalViewSetting>/Distributor}"/><MultiInput width="10rem" maxSuggestionWidth="25rem" id="multiInputBatch2"\n\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_SLS>/#SSRO/SPNo/@maxLength\', type:\'sap.ui.model.type.Float\'}" tokenUpdate="OnBatchF4RemoveTool"\n\t\t\t\t\t\t\tvalueHelpRequest="BatchF42" showTableSuggestionValueHelp="false" showSuggestion="true" filterSuggests="true" suggest="handleBatchSuggest1"\n\t\t\t\t\t\t\tsuggestionRows="{ path: \'BatchSuggestorModel>/\', sorter: { path: \'Unrestricted\', descending:true , templateShareable:true}}"\n\t\t\t\t\t\t\tsuggestionItemSelected="suggestionItemSelectedBatch1" tokens="{path:\'LocalViewSetting>/BatchTokens\', templateShareable:true}"><tokens><Token key="{LocalViewSetting>Batch}"\n\t\t\t\t\t\t\t\t\ttext="{parts:[{path:\'LocalViewSetting>Batch\'}, {path:\'LocalViewSetting>Batch\'}], formatter:\'.formateMatToken\'}"\n\t\t\t\t\t\t\t\t\ttooltip="{LocalViewSetting>Tooltip}"></Token></tokens><suggestionColumns><Column width="15rem"><Label text="Batch"></Label></Column><Column width="8rem"><Label text="Book Stock"></Label></Column></suggestionColumns><suggestionRows><ColumnListItem><cells><Label text="{BatchSuggestorModel>Batch}"></Label></cells><cells><Label text="{BatchSuggestorModel>Unrestricted}"></Label></cells></ColumnListItem></suggestionRows></MultiInput><Text id="sFBookStk" textAlign="Right" text="Book Stock:"/><Text text="{LocalViewSetting>/BookStk}"/><Text id="sFStkDiff" textAlign="Right" text="Stock Difference:"/><Text text="{LocalViewSetting>/StkDifference}"/><Text id="sFAdjQtyLabel" textAlign="Right" text="{i18n>List.Table.ADJQty}:"/><Input id="sFAdjQty" width="5rem" liveChange="validateToolBarNumeric1" value="{LocalViewSetting>/AdjQty}" textAlign="Right"\n\t\t\t\t\t\t\tvisible="{LocalViewSetting>/editMode}" change="onChangeToolQty"\n\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.Float\'}"/><Text textAlign="Right" text="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}:"/><Select width="5rem" id="sFReasonIDEdit" items="{path: \'ReasonDD>/\', templateShareable : true}" change="onChangeToolBarReasonDesc"\n\t\t\t\t\t\t\tvisible="{LocalViewSetting>/editMode}"><core:ListItem key="{ReasonDD>Key}" tooltip="{ReasonDD>Text}" text="{ReasonDD>Key}{ReasonDD>Seperator}{ReasonDD>Text}"/></Select><Button type="Accept" text="Add" press="AddInsertToolbar"></Button></Toolbar></table:toolbar><table:Column hAlign="Center" autoResizable="true" width="3rem" tooltip="Delete"><Text text=""/><table:template><l:HorizontalLayout><Button tooltip="{SSGW_SLS>/#SSSOItemDetail/ItemNo/@sap:label}" icon="sap-icon://sys-cancel" press="onDeleteItem"></Button></l:HorizontalLayout></table:template></table:Column><table:Column autoResizable="true" width="16rem" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"><Text text="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"/><table:template><MultiInput id="inputMaterial" editable="{ListItems>materialEdit}"\n\t\t\t\t\t\t\ttooltip=" {= ${ListItems>MaterialNo} === \'\' ? \'\' : ${ListItems>MaterialDesc} +\' (\'+${ListItems>MaterialNo}+\')\'}"\n\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_MM>/CPStockItems/MaterialDesc/#@maxLength\', type:\'sap.ui.model.type.Float\'}" valueHelpRequest="MatF4" visible="true"\n\t\t\t\t\t\t\tshowSuggestion="true" filterSuggests="true" suggestionRows="{path: \'MatSuggestorModel>/\', templateShareable:true}"\n\t\t\t\t\t\t\tsuggest="handleMaterialSuggest" tokenUpdate="tokenRemoved" suggestionItemSelected="suggestionMatItemSelected" change="onChangeMaterial"\n\t\t\t\t\t\t\tmaxSuggestionWidth="60rem" tokens="{path: \'ListItems>MaterialTokens\',templateShareable:true}"><tokens><Token key="{ListItems>MaterialNo}" text="{ListItems>MaterialDesc}"/></tokens><suggestionColumns><Column width="10rem"><Label text="Material No"></Label></Column><Column width="25rem"><Label text="Material Desc"></Label></Column><Column width="5rem"><Label text="MRP"></Label></Column><Column width="10rem"><Label text="Stock Conversion"></Label></Column></suggestionColumns><suggestionRows><ColumnListItem><cells><Label text="{MatSuggestorModel>MaterialNo}"></Label></cells><cells><Label text="{MatSuggestorModel>MaterialDesc}"></Label></cells><cells><Label text="{MatSuggestorModel>MRP}"></Label></cells><cells><Label text="{MatSuggestorModel>StockConversion}"></Label></cells></ColumnListItem></suggestionRows></MultiInput></table:template></table:Column><table:Column width="11rem" autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}"><Text id="id_batch1" text="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}"/><table:template><MultiInput maxSuggestionWidth="30%" id="multiInputBatch1"\n\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_SLS>/#SSRO/SPNo/@maxLength\', type:\'sap.ui.model.type.Float\'}" tokenUpdate="OnBatchF4Remove1"\n\t\t\t\t\t\t\tvalueHelpRequest="BatchF41" showTableSuggestionValueHelp="false" showSuggestion="true" filterSuggests="true" suggest="handleBatchSuggest"\n\t\t\t\t\t\t\tsuggestionItemSelected="suggestionItemSelectedBatch2" suggestionRows="{ListItems>BatchSuggestorModel}"\n\t\t\t\t\t\t\ttokens="{path:\'ListItems>BatchTokens\', templateShareable:true}"><tokens><Token key="{ListItems>Batch}" text="{parts:[{path:\'ListItems>Batch\'}, {path:\'ListItems>Batch\'}], formatter:\'.formateMatToken\'}"\n\t\t\t\t\t\t\t\t\ttooltip="{ListItems>Tooltip}"></Token></tokens><suggestionColumns><Column width="15rem"><Label text="Batch"></Label></Column><Column width="8rem"><Label text="Book Stock"></Label></Column></suggestionColumns><suggestionRows><ColumnListItem><cells><Label text="{ListItems>Batch}"></Label></cells><cells><Label text="{ListItems>Unrestricted}"></Label></cells></ColumnListItem></suggestionRows></MultiInput></table:template></table:Column><table:Column autoResizable="true" width="7rem" tooltip="{i18n>List.Table.Qty}" hAlign="Right"><Text id="FQuantityEdit" text="{i18n>List.Table.Qty}"/><table:template><ObjectNumber emphasized="false" number="{path:\'ListItems>Quantity\', type: \'sap.ui.model.type.Float\'}" id="FQuantity"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Table.Qty} :{path:\'ListItems>Quantity\', type: \'sap.ui.model.type.Float\'} {ListItems>UOM}" unit="{ListItems>UOM}"\n\t\t\t\t\t\t\txmlns="sap.m" textAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" width="9rem" tooltip="{i18n>List.Table.ADJQty}" hAlign="Right"><Text id="FAdjQtyEdit" text="{i18n>List.Table.ADJQty}"/><table:template><VBox id="HBoxAdjstdQty"><ObjectNumber emphasized="false" number="{ListItems>AdjQty}" id="FAdjQuantity"\n\t\t\t\t\t\t\t\ttooltip="{i18n>List.Table.ADJQty} :{path:\'ListItems>AdjQty\', type: \'sap.ui.model.type.Float\'} {ListItems>UOM}" unit="{ListItems>UOM}"\n\t\t\t\t\t\t\t\txmlns="sap.m" visible="{LocalViewSetting>/reviewMode}"/><Input id="FAdjQty" liveChange="validateNumeric1" change="onChangeAdjQty" fieldWidth="65%" value="{path: \'ListItems>AdjQty\'}"\n\t\t\t\t\t\t\t\tvalueState="{ListItems>QuantityValueState}" valueStateText="{ListItems>QuantityValueStateText}" textAlign="Right"\n\t\t\t\t\t\t\t\tdescription="{ListItems>UOM}" visible="{LocalViewSetting>/editMode}"\n\t\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.Float\'}"/></VBox></table:template></table:Column><table:Column autoResizable="true" width="7rem" tooltip="{i18n>List.Table.DiffQty}" hAlign="Right"><Text text="{i18n>List.Table.DiffQty}"/><table:template><ObjectNumber id="FDiffQuantity" number="{ListItems>DiffQty}"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Table.DiffQty} :{path:\'ListItems>DiffQty\', type: \'sap.ui.model.type.Float\'} {ListItems>UOM}" unit="{ListItems>UOM}"\n\t\t\t\t\t\t\txmlns="sap.m" textAlign="Right" emphasized="false"/></table:template></table:Column><table:Column autoResizable="true" width="8rem" tooltip="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"><Text id="FReasonID" text="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"/><table:template><Select id="FReasonIDEdit" items="{path: \'ReasonDD>/\', templateShareable : true}" change="onChangeReasonDesc"\n\t\t\t\t\t\t\tselectedKey="{ListItems>ReasonID}" visible="{LocalViewSetting>/editMode}"><core:ListItem key="{ReasonDD>Key}" tooltip="{ReasonDD>Text}" text="{ReasonDD>Key}{ReasonDD>Seperator}{ReasonDD>Text}"/></Select></table:template></table:Column><table:Column autoResizable="true" width="9rem" tooltip="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label}" hAlign="Right"><Text textAlign="End" text="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label}"/><table:template><Text textAlign="End" text="{path:\'ListItems>MRP\',type: \'sap.ui.model.type.Float\'} {ListItems>Currency}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label} : {path:\'ListItems>MRP\',type: \'sap.ui.model.type.Float\'} {ListItems>Currency}"/></table:template></table:Column><table:Column autoResizable="true" width="6rem" tooltip="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'ListItems>ManufacturingDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}"/></table:template></table:Column><table:Column autoResizable="true" width="6rem" tooltip="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'ListItems>ExpiryDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}"/></table:template></table:Column><table:Column autoResizable="true" width="13rem" tooltip="{i18n>List.Table.CRSSKUGroup}"><Text text="{i18n>List.Table.CRSSKUGroup}"/><table:template><Text id="FSKUGroup" wrapping="true" tooltip="{i18n>List.Table.CRSSKUGroup}"\n\t\t\t\t\t\t\ttext="{ListItems>OrderMaterialGroupDesc} {= (${ListItems>OrderMaterialGroupID} &amp;&amp; ${ListItems>OrderMaterialGroupID} !== \'\')? \'(\'+${ListItems>OrderMaterialGroupID}+\')\' : \'\'}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/DMSDivisionID/#@sap:label}" width="10rem"><Text text="{SSGW_MM>/MaterialDocItemDetails/DMSDivisionID/#@sap:label}"/><table:template><Text id="IDMS" wrapping="true" class="sapUiTinyMarginTopBottom" tooltip="{SSGW_MM>/MaterialDocItemDetails/DMSDivisionID/#@sap:label}"\n\t\t\t\t\t\t\ttext="{ListItems>DmsDivisionDesc} {= (${ListItems>DMSDivision} &amp;&amp; ${ListItems>DMSDivision} !== \'\')? \'(\'+${ListItems>DMSDivision}+\')\' : \'\'}"/></table:template></table:Column><table:Column autoResizable="true" width="8rem" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"><Text id="FRemarksEdit" text="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"/><table:template><HBox id="Remarks"><Input id="FRemarks" maxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.String\'}" type="Text"\n\t\t\t\t\t\t\t\tvalue="{ListItems>Remarks}" visible="{LocalViewSetting>/editMode}" change="setRemarks" valueState="{ListItems>RemarksState}"\n\t\t\t\t\t\t\t\tvalueStateText="{ListItems>RemarksStateText}"/><Text wrapping="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" text="{ListItems>Remarks}"\n\t\t\t\t\t\t\t\tvisible="{LocalViewSetting>/reviewMode}"/></HBox></table:template></table:Column></table:Table><table:Table id="UIListTableOther" rows="{ListItems>/}" showColumnVisibilityMenu="true" enableGrouping="false" selectionMode="None"\n\t\t\t\tenableSelectAll="false" noData="No results found" enableColumnFreeze="true" minAutoRowCount="{LocalViewSetting>/ListItemsCount}"\n\t\t\t\tvisibleRowCount="{LocalViewSetting>/ListItemsCount}"\n\t\t\t\tvisible="{= ((${device>/system/phone} || ${device>/system/tablet}===false)&amp;&amp; ${LocalViewSetting>/OtherMaterial}===true)? true : false}"\n\t\t\t\tvisibleRowCountMode="Fixed"><table:toolbar><Toolbar id="UIListTableToolBarOther"><Title id="UIListTableTitleOther" text="{i18n>List.Table.Title}" level="H2"/><ToolbarSpacer/></Toolbar></table:toolbar><table:Column width="3rem"><Text text=""/><table:template><Button icon="sap-icon://delete" press="onDeleteOtherItem" tooltip="Delete"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" width="15rem"><Text text="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"/><table:template><MultiInput id="inputOtherMaterial" maxLength="{path:\'SSGW_MM>/CPStockItems/MaterialDesc/#@maxLength\', type:\'sap.ui.model.type.Float\'}"\n\t\t\t\t\t\t\tvalueHelpRequest="MaterialNoF4" visible="true" showSuggestion="true" filterSuggests="true" showTableSuggestionValueHelp="false"\n\t\t\t\t\t\t\tsuggestionRows="{path: \'OtherMatSuggestorModel>/\', templateShareable:true}" suggest="handleOtherMaterialSuggest"\n\t\t\t\t\t\t\ttokenUpdate="tokenRemovedOth" suggestionItemSelected="suggestionOtherMatItemSelected" change="onChangeOtherMaterial"\n\t\t\t\t\t\t\tmaxSuggestionWidth="43%"><suggestionColumns><Column width="10rem"><Label text="Material No"></Label></Column><Column width="25rem"><Label text="Material Desc"></Label></Column></suggestionColumns><suggestionRows><ColumnListItem><cells><Label text="{OtherMatSuggestorModel>MaterialNo}"></Label></cells><cells><Label text="{OtherMatSuggestorModel>MaterialDesc}"></Label></cells></ColumnListItem></suggestionRows></MultiInput></table:template></table:Column><table:Column width="11rem" autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}"><Text id="id_batch" text="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}"/><table:template><MultiInput maxSuggestionWidth="30%" id="multiInputBatch"\n\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_SLS>/#SSRO/SPNo/@maxLength\', type:\'sap.ui.model.type.Float\'}" tokenUpdate="OnBatchF4Remove"\n\t\t\t\t\t\t\tvalueHelpRequest="BatchF4" showTableSuggestionValueHelp="false" showSuggestion="true" filterSuggests="true" suggest="handleBatchSuggest"\n\t\t\t\t\t\t\tsuggestionItemSelected="suggestionItemSelectedBatch" suggestionItems="{path: \'ListItems>BatchSuggestorModel\', templateShareable : false}"\n\t\t\t\t\t\t\ttokens="{path:\'ListItems>BatchTokens\', templateShareable:true}"><tokens><Token key="{ListItems>Batch}" text="{parts:[{path:\'ListItems>Batch\'}, {path:\'ListItems>Batch\'}], formatter:\'.formateMatToken\'}"\n\t\t\t\t\t\t\t\t\ttooltip="{ListItems>Tooltip}"></Token></tokens><suggestionItems><core:ListItem text="{ListItems>Batch}" additionalText="{ListItems>Batch}"/></suggestionItems></MultiInput></table:template></table:Column><table:Column autoResizable="true" tooltip="Purchase Inv No" width="8rem" visible="false"><Text text="Purchase Inv No" id="RefDocNo"/><table:template><MaskInput id="iRefDocNo" mask="9999999999" value="{ListItems>RefDocNo}" valueState="{ListItems>RefDocNoValueState}"\n\t\t\t\t\t\t\tchange="onChangeRefDocNo" valueStateText="{ListItems>RefDocNoValueStateText}" placeholderSymbol=" "\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/MaterialDocItemDetails/RefDocNo/#@sap:label}"><rules><MaskInputRule maskFormatSymbol="9" regex="[0-9]"/></rules></MaskInput></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/RefDocItemNo/#@sap:label}" width="7rem" visible="false"><Text text="{SSGW_MM>/MaterialDocItemDetails/RefDocItemNo/#@sap:label}" id="LRefDocItemNo"/><table:template><MaskInput mask="999999" value="{ListItems>RefDocItemNo}" valueState="{ListItems>RefDocItemNoValueState}"\n\t\t\t\t\t\t\tvalueStateText="{ListItems>RefDocItemNoValueStateText}" placeholderSymbol=" "\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/MaterialDocItemDetails/RefDocItemNo/#@sap:label}" change="onChangeRefDocItemNo"><rules><MaskInputRule maskFormatSymbol="9" regex="[0-9]"/></rules></MaskInput></table:template></table:Column><table:Column autoResizable="true" tooltip="Good Quantity" width="6rem" hAlign="Right"><Text text="Good Quantity" id="id_Qty"/><table:template><Input value="{path: \'ListItems>GQuantity\'}" valueState="{ListItems>QuantityValueState}" valueStateText="{ListItems>QuantityValueStateText}"\n\t\t\t\t\t\t\ttextAlign="Right" visible="{LocalViewSetting>/editMode}"\n\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/MaterialDocQty/#@maxLength\', type:\'sap.ui.model.type.Float\'}" change="onChangeGoodQty"\n\t\t\t\t\t\t\tliveChange="onChangeGQty"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Damage Quantity" width="6rem" hAlign="Right" visible="false"><Text text="Damage Quantity"/><table:template><Input value="{path: \'ListItems>DQuantity\'}" valueState="{ListItems>QuantityValueState}" valueStateText="{ListItems>QuantityValueStateText}"\n\t\t\t\t\t\t\ttextAlign="Right" visible="{LocalViewSetting>/editMode}" liveChange="com.arteriatech.ppc.utils.js.Common.formatNumber"\n\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/MaterialDocQty/#@maxLength\', type:\'sap.ui.model.type.Float\'}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Shortage Quantity" width="6rem" hAlign="Right" visible="false"><Text text="Shortage Quantity"/><table:template><Input value="{path: \'ListItems>SQuantity\'}" valueState="{ListItems>QuantityValueState}" valueStateText="{ListItems>QuantityValueStateText}"\n\t\t\t\t\t\t\ttextAlign="Right" visible="{LocalViewSetting>/editMode}" liveChange="com.arteriatech.ppc.utils.js.Common.formatNumber"\n\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/MaterialDocQty/#@maxLength\', type:\'sap.ui.model.type.Float\'}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="UOM" width="6rem"><Text text="UOM"/><table:template><Select id="inputUOM" autoAdjustWidth="true" items="{path: \'ListItems>UOMs\', templateShareable : true}" change="onUMOChange"\n\t\t\t\t\t\t\tselectedKey="{ListItems>UOM}"><core:ListItem additionalText="{ListItems>Uom}" key="{ListItems>Uom}" text="{ListItems>Uom}" tooltip="{ListItems>Uom}"></core:ListItem></Select></table:template></table:Column><table:Column autoResizable="true" tooltip="{i18n>Detail.table.Label.PurchasePrice}" width="6rem" hAlign="Right"><Text text="{i18n>Detail.table.Label.PurchasePrice}"/><table:template><ObjectNumber\n\t\t\t\t\t\t\tnumber="{path:\'ListItems>PurchasePrice\',type: \'sap.ui.model.type.Float\',formatter:\'formatEmptyAmnt\',formatOptions: {minFractionDigits: 2}}"\n\t\t\t\t\t\t\ttextAlign="End" unit="{ListItems>Currency}"\n\t\t\t\t\t\t\ttooltip="{i18n>Detail.table.Label.PurchasePrice} : {path:\'ListItems>PurchasePrice\',type: \'sap.ui.model.type.Float\',formatter:\'formatEmptyAmnt\'} {ListItems>Currency}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/MRP/#@sap:label} (PC)" width="6rem" hAlign="Right"><Text text="{SSGW_MM>/MaterialDocItemDetails/MRP/#@sap:label} (PC)"/><table:template><ObjectNumber\n\t\t\t\t\t\t\tnumber="{path:\'ListItems>MRP\',type: \'sap.ui.model.type.Float\',formatter:\'formatEmptyAmnt\',formatOptions: {minFractionDigits: 2}}"\n\t\t\t\t\t\t\ttextAlign="End" unit="{ListItems>Currency}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/MaterialDocItemDetails/MRP/#@sap:label} : {path:\'ListItems>MRP\',type: \'sap.ui.model.type.Float\',formatter:\'formatEmptyAmnt\'} {ListItems>Currency}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" width="8rem" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'ListItems>ManufacturingDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"></Text></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" width="8rem" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'ListItems>ExpiryDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"></Text></table:template></table:Column><table:Column autoResizable="true" tooltip="{i18n>List.Table.CRSSKUGroup}" width="13rem"><Text text="{i18n>List.Table.CRSSKUGroup}"/><table:template><Text wrapping="true" tooltip="{i18n>List.Table.CRSSKUGroup}"\n\t\t\t\t\t\t\ttext="{ListItems>OrderMaterialGroupDesc} {= (${ListItems>OrderMaterialGroupID} &amp;&amp; ${ListItems>OrderMaterialGroupID} !== \'\')? \'(\'+${ListItems>OrderMaterialGroupID}+\')\' : \'\'}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" width="8rem"><Text text="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"/><table:template><Input maxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.String\'}" type="Text"\n\t\t\t\t\t\t\tvalue="{ListItems>Remarks}" visible="{LocalViewSetting>/editMode}" change="setRemarks" valueState="{ListItems>RemarksState}"\n\t\t\t\t\t\t\tvalueStateText="{ListItems>RemarksStateText}"/></table:template></table:Column></table:Table><table:Table id="UIListTable1" rows="{ListItems>/}" showColumnVisibilityMenu="true" enableGrouping="false" selectionMode="None"\n\t\t\t\tenableSelectAll="false" noData="No results found" enableColumnFreeze="true" minAutoRowCount="{LocalViewSetting>/ListItemsCount}"\n\t\t\t\tvisibleRowCount="{LocalViewSetting>/ListItemsCount}"\n\t\t\t\tvisible="{= ((${device>/system/phone} || ${device>/system/tablet}===false)&amp;&amp; ${LocalViewSetting>/stockMaterialT2}===true)? true : false}"\n\t\t\t\tvisibleRowCountMode="Fixed"><table:toolbar><Toolbar id="UIListTableToolBar1"><Title id="UIListTableTitle1" text="{i18n>List.Table.Title}" level="H2"/></Toolbar></table:toolbar><table:Column sortProperty="ItemNo" filterProperty="ItemNo" width="5rem" autoResizable="true" visible="true" tooltip="ItemNo"><Text text="SI No"/><table:template><ObjectNumber number="{ListItems>ItemNo}"/></table:template></table:Column><table:Column sortProperty="ItemNo" filterProperty="ItemNo" width="8rem" autoResizable="true" visible="true" tooltip="ItemNo"><Text text="Batch"/><table:template><Text text="{ListItems>Batch}"/></table:template></table:Column><table:Column autoResizable="true" width="7rem" tooltip="{i18n>List.Table.Qty}" hAlign="Right"><Text id="FQuantityEdit1" text="{i18n>List.Table.Qty}"/><table:template><ObjectNumber emphasized="false" number="{path:\'ListItems>Quantity\', type: \'sap.ui.model.type.Float\'}" id="FQuantity1"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Table.Qty} :{path:\'ListItems>Quantity\', type: \'sap.ui.model.type.Float\'} {ListItems>UOM}" unit="{ListItems>UOM}"\n\t\t\t\t\t\t\txmlns="sap.m" textAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" width="9rem" tooltip="{i18n>List.Table.ADJQty}" hAlign="Right"><Text id="FAdjQtyEdit1" text="{i18n>List.Table.ADJQty}"/><table:template><VBox id="HBoxAdjstdQty1"><ObjectNumber emphasized="false" number="{ListItems>AdjQty}" id="FAdjQuantity1"\n\t\t\t\t\t\t\t\ttooltip="{i18n>List.Table.ADJQty} :{path:\'ListItems>AdjQty\', type: \'sap.ui.model.type.Float\'} {ListItems>UOM}" unit="{ListItems>UOM}"\n\t\t\t\t\t\t\t\txmlns="sap.m" visible="{LocalViewSetting>/reviewMode}"/><Input id="FAdjQty1" type="Number" change="onChangeAdjQty" fieldWidth="65%" value="{path: \'ListItems>AdjQty\'}"\n\t\t\t\t\t\t\t\tvalueState="{ListItems>QuantityValueState}" valueStateText="{ListItems>QuantityValueStateText}" textAlign="Right"\n\t\t\t\t\t\t\t\tdescription="{ListItems>UOM}" visible="{LocalViewSetting>/editMode}"\n\t\t\t\t\t\t\t\tmaxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.Float\'}"/></VBox></table:template></table:Column><table:Column autoResizable="true" width="7rem" tooltip="{i18n>List.Table.DiffQty}" hAlign="Right"><Text text="{i18n>List.Table.DiffQty}"/><table:template><ObjectNumber id="FDiffQuantity1" number="{ListItems>DiffQty}"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Table.DiffQty} :{path:\'ListItems>DiffQty\', type: \'sap.ui.model.type.Float\'} {ListItems>UOM}" unit="{ListItems>UOM}"\n\t\t\t\t\t\t\txmlns="sap.m" textAlign="Right" emphasized="false"/></table:template></table:Column><table:Column autoResizable="true" width="8rem" tooltip="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"><Text id="FReasonID1" text="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"/><table:template><Select id="FReasonIDEdit1" items="{path: \'ReasonDD>/\', templateShareable : true}" change="onChangeReasonDesc"\n\t\t\t\t\t\t\tselectedKey="{ListItems>ReasonID}" visible="{LocalViewSetting>/editMode}"><core:ListItem key="{ReasonDD>Key}" tooltip="{ReasonDD>Text}" text="{ReasonDD>Key}{ReasonDD>Seperator}{ReasonDD>Text}"/></Select></table:template></table:Column><table:Column autoResizable="true" width="8rem" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"><Text id="FRemarksEdit1" text="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"/><table:template><HBox id="Remarks1"><Input id="FRemarks1" maxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.String\'}" type="Text"\n\t\t\t\t\t\t\t\tvalue="{ListItems>Remarks}" visible="{LocalViewSetting>/editMode}" change="setRemarks" valueState="{ListItems>RemarksState}"\n\t\t\t\t\t\t\t\tvalueStateText="{ListItems>RemarksStateText}"/><Text wrapping="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" text="{ListItems>Remarks}"\n\t\t\t\t\t\t\t\tvisible="{LocalViewSetting>/reviewMode}"/></HBox></table:template></table:Column><table:Column autoResizable="true" width="9rem" tooltip="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label}" hAlign="Right"><Text textAlign="End" text="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label}"/><table:template><Text textAlign="End" text="{path:\'ListItems>MRP\',type: \'sap.ui.model.type.Float\'} {ListItems>Currency}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label} : {path:\'ListItems>MRP\',type: \'sap.ui.model.type.Float\'} {ListItems>Currency}"/></table:template></table:Column><table:Column autoResizable="true" width="6rem" tooltip="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'ListItems>ManufacturingDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}"/></table:template></table:Column><table:Column autoResizable="true" width="6rem" tooltip="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'ListItems>ExpiryDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}"/></table:template></table:Column><table:Column autoResizable="true" width="10rem" tooltip="{i18n>List.Table.CRSSKUGroup}"><Text text="{i18n>List.Table.CRSSKUGroup}"/><table:template><Text id="FSKUGroup1" wrapping="true" tooltip="{i18n>List.Table.CRSSKUGroup}"\n\t\t\t\t\t\t\ttext="{ListItems>OrderMaterialGroupDesc} {= (${ListItems>OrderMaterialGroupID} &amp;&amp; ${ListItems>OrderMaterialGroupID} !== \'\')? \'(\'+${ListItems>OrderMaterialGroupID}+\')\' : \'\'}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/DMSDivisionID/#@sap:label}" width="10rem"><Text text="{SSGW_MM>/MaterialDocItemDetails/DMSDivisionID/#@sap:label}"/><table:template><Text id="IDMS1" wrapping="true" class="sapUiTinyMarginTopBottom" tooltip="{SSGW_MM>/MaterialDocItemDetails/DMSDivisionID/#@sap:label}"\n\t\t\t\t\t\t\ttext="{ListItems>DmsDivisionDesc} {= (${ListItems>DMSDivision} &amp;&amp; ${ListItems>DMSDivision} !== \'\')? \'(\'+${ListItems>DMSDivision}+\')\' : \'\'}"/></table:template></table:Column><table:Column visible="false" hAlign="Center" autoResizable="true" width="3rem" tooltip="Delete"><Text text=""/><table:template><core:Icon src="sap-icon://sys-cancel" hoverColor="#f00" color="#999" press="onDeleteItem"/></table:template></table:Column><table:Column hAlign="Center" autoResizable="true" width="3rem" tooltip="Delete"><Text text=""/><table:template><core:Icon src="sap-icon://sys-cancel" hoverColor="#f00" color="#999" press="onDeleteItem1"/></table:template></table:Column></table:Table></content><Input id="CPList_FOSaddvalId" visible="false"></Input></Panel><Panel xmlns="sap.m" class="sapUiResponsiveContentPadding" backgroundDesign="Solid"\n\t\tvisible="{= ${LocalViewSetting>/reviewMode} &amp;&amp; ${LocalViewSetting>/StockMaterialReview} ? true:false}"><content><table:Table id="UIListTableReview" rows="{MatDocItems>/}" showColumnVisibilityMenu="true" enableGrouping="false" selectionMode="None"\n\t\t\t\tenableSelectAll="false" noData="No results found" enableColumnFreeze="true"\n\t\t\t\tminAutoRowCount="{ path: \'LocalViewSetting>/MaterialItemCount\', formatter: \'com.arteriatech.ppc.utils.js.Common.setUITableVisibleRowCount\'}"\n\t\t\t\tvisibleRowCount="{ path: \'LocalViewSetting>/MaterialItemCount\', formatter: \'com.arteriatech.ppc.utils.js.Common.setUITableVisibleRowCount\'}"\n\t\t\t\tvisible="{= ((${device>/system/phone} || ${device>/system/tablet}===false)&amp;&amp; ${LocalViewSetting>/StockMaterial}===true)? true : false}"\n\t\t\t\tvisibleRowCountMode="Fixed"><table:toolbar><Toolbar id="UIListTableToolBarReview"><Title id="UIListTableTitleReview" text="{i18n>List.Table.Title}" level="H2"/><ToolbarSpacer/></Toolbar></table:toolbar><table:Column autoResizable="true" tooltip="ItemNo" width="4rem" hAlign="Right"><Text text="SI NO"/><table:template><ObjectNumber number="{MatDocItems>ItemNo}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" width="15rem"><Text text="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"/><table:template><HBox><Text id="FMaterialNoReview" wrapping="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" class="sapUiTinyMarginTopBottom"\n\t\t\t\t\t\t\t\ttext="{MatDocItems>MaterialDesc} {= (${MatDocItems>MaterialNo} &amp;&amp; ${MatDocItems>MaterialNo} !== \'\')? \'(\'+${MatDocItems>MaterialNo}+\')\' : \'\'}"/></HBox></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}" width="6rem"><Text text="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}"/><table:template><Text id="FBatchReview" wrapping="true" tooltip="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}" class="sapUiTinyMarginTopBottom"\n\t\t\t\t\t\t\ttext="{MatDocItems>Batch}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{i18n>List.Table.Qty}" width="6rem" hAlign="Right"><Text id="FQuantityEditReview" text="{i18n>List.Table.Qty}" textAlign="Right"/><table:template><ObjectNumber emphasized="false" number="{path:\'MatDocItems>Quantity\', type: \'sap.ui.model.type.Float\'}" id="FQuantityReview"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Table.Qty} :{path:\'MatDocItems>Quantity\', type: \'sap.ui.model.type.Float\'} {MatDocItems>UOM}" unit="{MatDocItems>UOM}"\n\t\t\t\t\t\t\txmlns="sap.m" textAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{i18n>List.Table.ADJQty}" width="8rem" hAlign="Right"><Text id="FAdjQtyReviewEditReview" text="{i18n>List.Table.ADJQty}" textAlign="Right"/><table:template><ObjectNumber emphasized="false" number="{MatDocItems>AdjQty}" id="FAdjQuantityReview" textAlign="Right"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Table.ADJQty} :{path:\'MatDocItems>AdjQty\', type: \'sap.ui.model.type.Float\'} {MatDocItems>UOM}" unit="{MatDocItems>UOM}"\n\t\t\t\t\t\t\txmlns="sap.m"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{i18n>List.Table.DiffQty}" width="6rem" hAlign="Right"><Text text="{i18n>List.Table.DiffQty}" textAlign="Right"/><table:template><ObjectNumber id="FDiffQuantityReview" number="{= ${MatDocItems>DiffQty} !== \'\' ? ${MatDocItems>DiffQty} : \'\' }"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Table.DiffQty} :{path:\'MatDocItems>DiffQty\', type: \'sap.ui.model.type.Float\'} {MatDocItems>UOM}"\n\t\t\t\t\t\t\tunit="{MatDocItems>UOM}" xmlns="sap.m" textAlign="Right" emphasized="false"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}" width="6rem"><Text id="FReasonIDReview" text="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"/><table:template><Text wrapping="true" id="FReasonReview" tooltip="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"\n\t\t\t\t\t\t\ttext="{MatDocItems>ReasonDesc} {= (${MatDocItems>ReasonID} &amp;&amp; ${MatDocItems>ReasonID} !== \'\')? \'(\'+${MatDocItems>ReasonID}+\')\' : \'\'}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label}" width="7rem" hAlign="Right"><Text textAlign="End" text="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label}"/><table:template><Text textAlign="End" text="{path:\'MatDocItems>MRP\',type: \'sap.ui.model.type.Float\'} {MatDocItems>Currency}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label} : {path:\'MatDocItems>MRP\',type: \'sap.ui.model.type.Float\'} {MatDocItems>Currency}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" width="6rem" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'MatDocItems>ManufacturingDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" textAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" width="6rem" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'MatDocItems>ExpiryDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" textAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{i18n>List.Table.CRSSKUGroup}" width="14rem"><Text text="{i18n>List.Table.CRSSKUGroup}"/><table:template><Text wrapping="true" tooltip="{i18n>List.Table.CRSSKUGroup}"\n\t\t\t\t\t\t\ttext="{MatDocItems>OrderMaterialGroupDesc} {= (${MatDocItems>OrderMaterialGroupID} &amp;&amp; ${MatDocItems>OrderMaterialGroupID} !== \'\')? \'(\'+${MatDocItems>OrderMaterialGroupID}+\')\' : \'\'}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/DMSDivisionID/#@sap:label}" width="9rem"><Text text="{SSGW_MM>/MaterialDocItemDetails/DMSDivisionID/#@sap:label}"/><table:template><Text wrapping="true" class="sapUiTinyMarginTopBottom"\n\t\t\t\t\t\t\ttext="{MatDocItems>DmsDivisionDesc} {= (${MatDocItems>DMSDivision} &amp;&amp; ${MatDocItems>DMSDivision} !== \'\')? \'(\'+${MatDocItems>DMSDivision}+\')\' : \'\'}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" width="6rem"><Text id="FRemarksEditReview" text="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"/><table:template><HBox><Text wrapping="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" text="{MatDocItems>Remarks}"/></HBox></table:template></table:Column></table:Table><table:Table rows="{MatDocItems>/}" showColumnVisibilityMenu="true" enableGrouping="false" selectionMode="None" enableSelectAll="false"\n\t\t\t\tnoData="No results found" enableColumnFreeze="true"\n\t\t\t\tminAutoRowCount="{ path: \'LocalViewSetting>/MaterialItemCount\', formatter: \'com.arteriatech.ppc.utils.js.Common.setUITableVisibleRowCount\'}"\n\t\t\t\tvisibleRowCount="{ path: \'LocalViewSetting>/MaterialItemCount\', formatter: \'com.arteriatech.ppc.utils.js.Common.setUITableVisibleRowCount\'}"\n\t\t\t\tvisible="{= ((${device>/system/phone} || ${device>/system/tablet}===false)&amp;&amp; ${LocalViewSetting>/OtherMaterial}===true)? true : false}"\n\t\t\t\tvisibleRowCountMode="Fixed"><table:toolbar><Toolbar><Title text="{i18n>List.Table.Title}" level="H2"/><ToolbarSpacer/></Toolbar></table:toolbar><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" width="15rem"><Text text="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"/><table:template><HBox><Text wrapping="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" class="sapUiTinyMarginTopBottom"\n\t\t\t\t\t\t\t\ttext="{=${MatDocItems>MaterialNo}===\'\'?\'\':${MatDocItems>MaterialDesc}+\' (\'+${MatDocItems>MaterialNo}+\')\'}"/></HBox></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}" width="6rem"><Text text="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}"/><table:template><Text wrapping="true" tooltip="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}" class="sapUiTinyMarginTopBottom" text="{MatDocItems>Batch}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Purchase Inv No" width="7rem" visible="false"><Text text="Purchase Inv No"/><table:template><Text wrapping="true" tooltip="Purchase Inv No" class="sapUiTinyMarginTopBottom" text="{MatDocItems>RefDocNo}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/RefDocItemNo/#@sap:label}" width="5rem" visible="false"><Text text="{SSGW_MM>/MaterialDocItemDetails/RefDocItemNo/#@sap:label}"/><table:template><Text wrapping="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/RefDocItemNo/#@sap:label}" class="sapUiTinyMarginTopBottom"\n\t\t\t\t\t\t\ttext="{MatDocItems>RefDocItemNo}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Good Quantity" width="5rem" hAlign="Right"><Text text="Good Quantity" textAlign="Right"/><table:template><Text text="{MatDocItems>GQuantity}" textAlign="Right" tooltip="Good Quantity"/></table:template></table:Column><table:Column autoResizable="true" width="5rem"><Text text="UOM"/><table:template><Text text="{MatDocItems>UOM}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{i18n>Detail.table.Label.PurchasePrice}" width="8rem" hAlign="Right"><Text text="{i18n>Detail.table.Label.PurchasePrice}"/><table:template><ObjectNumber number="{path:\'MatDocItems>PurchasePrice\',type:\'sap.ui.model.type.Float\'}" tooltip="{i18n>Detail.table.Label.PurchasePrice}"\n\t\t\t\t\t\t\txmlns="sap.m" textAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/MRP/#@sap:label} (PC)" width="7rem" hAlign="Right"><Text text="{SSGW_MM>/MaterialDocItemDetails/MRP/#@sap:label} (PC)"/><table:template><ObjectNumber number="{path:\'MatDocItems>MRP\',type:\'sap.ui.model.type.Float\'}" tooltip="{SSGW_MM>/MaterialDocItemDetails/Price/#@sap:label}"\n\t\t\t\t\t\t\txmlns="sap.m" textAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" width="7rem" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'MatDocItems>ManufacturingDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/ManufacturingDate/#@sap:label}" textAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" width="7rem" hAlign="Right"><Text text="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" textAlign="Right"/><table:template><Text text="{path: \'MatDocItems>ExpiryDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/ExpiryDate/#@sap:label}" textAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Damage Quantity" width="5rem" hAlign="Right" visible="false"><Text text="Damage Quantity" textAlign="Right"/><table:template><Text text="{MatDocItems>DQuantity}" textAlign="Right" tooltip="Damage Quantity"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Shortage Quantity" width="6rem" hAlign="Right" visible="false"><Text text="Shortage Quantity" textAlign="Right"/><table:template><Text text="{MatDocItems>SQuantity}" textAlign="Right" tooltip="Shortage Quantity"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{i18n>List.Table.CRSSKUGroup}" width="10rem"><Text text="{i18n>List.Table.CRSSKUGroup}"/><table:template><Text wrapping="true" tooltip="{i18n>List.Table.CRSSKUGroup}"\n\t\t\t\t\t\t\ttext="{=${MatDocItems>OrderMaterialGroupID}===\'\'?\'\':${MatDocItems>OrderMaterialGroupDesc}+\' (\'+${MatDocItems>OrderMaterialGroupID}+\')\'}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" width="8rem"><Text text="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"/><table:template><HBox><Text wrapping="true" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" text="{MatDocItems>Remarks}"/></HBox></table:template></table:Column></table:Table></content><Input id="CPList_FOSaddvalIdReview" visible="false"></Input></Panel><Panel xmlns="sap.m" class="sapUiResponsiveContentPadding" backgroundDesign="Solid" visible="{LocalViewSetting>/stockMaterialT3}"><content><table:Table rows="{ListItems>/}" showColumnVisibilityMenu="true" enableGrouping="false" selectionMode="None" enableSelectAll="false"\n\t\t\t\tnoData="No results found" enableColumnFreeze="true" minAutoRowCount="{LocalViewSetting>/Uploadatacount}"\n\t\t\t\tvisibleRowCount="{LocalViewSetting>/Uploadatacount}"\n\t\t\t\tvisible="{= ((${device>/system/phone} || ${device>/system/tablet}===false)&amp;&amp; ${LocalViewSetting>/stockMaterialT3}===true)? true : false}"\n\t\t\t\tvisibleRowCountMode="Fixed"><table:toolbar><Toolbar><Title text="{i18n>List.Table.Title}" level="H2"/><ToolbarSpacer/></Toolbar></table:toolbar><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" width="17rem"><Text text="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"/><table:template><HBox><Text wrapping="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" class="sapUiTinyMarginTopBottom"\n\t\t\t\t\t\t\t\ttext="{=${ListItems>MaterialNo}===\'\'?\'\':${ListItems>MaterialDesc}+\' (\'+${ListItems>MaterialNo}+\')\'}"/></HBox></table:template></table:Column><table:Column autoResizable="true" tooltip="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}" width="10rem"><Text text="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}"/><table:template><Text wrapping="true" tooltip="{SSGW_MM>/CPStockItemSnos/Batch/#@sap:label}" class="sapUiTinyMarginTopBottom" text="{ListItems>Batch}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Book Stock" width="8rem" hAlign="Right"><Text text="Book Stock" textAlign="Right"/><table:template><ObjectNumber emphasized="false" number="{path:\'ListItems>Quantity\', type: \'sap.ui.model.type.Float\'}" id="Quantity1"\n\t\t\t\t\t\t\ttooltip="Book Stock :{path:\'ListItems>Quantity\', type: \'sap.ui.model.type.Float\'} {ListItems>UOM}" unit="{ListItems>UOM}" xmlns="sap.m"\n\t\t\t\t\t\t\ttextAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Stock Diff" width="8rem" hAlign="Right"><Text text="Physical Stock" textAlign="Right"/><table:template><ObjectNumber emphasized="false" number="{path:\'ListItems>AdjQty\', type: \'sap.ui.model.type.Float\'}"\n\t\t\t\t\t\t\ttooltip="Physical Stock:{path:\'ListItems>AdjQty\', type: \'sap.ui.model.type.Float\'} {ListItems>UOM}" unit="{ListItems>UOM}" xmlns="sap.m"\n\t\t\t\t\t\t\ttextAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Stock Diff" width="8rem" hAlign="Right"><Text text="Stock Diff" textAlign="Right"/><table:template><ObjectNumber emphasized="false" number="{path:\'ListItems>DiffQty\', type: \'sap.ui.model.type.Float\'}"\n\t\t\t\t\t\t\ttooltip="Stock Diff:{path:\'ListItems>DiffQty\', type: \'sap.ui.model.type.Float\'} {ListItems>UOM}" unit="{ListItems>UOM}" xmlns="sap.m"\n\t\t\t\t\t\t\ttextAlign="Right"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Expiry Date" width="10rem" hAlign="Right"><Text text="Expiry Date" textAlign="Right"/><table:template><Text text="{path: \'ListItems>ExpiryDate\', formatter: \'com.arteriatech.ss.utils.js.Common.getFormattedDate\'}" tooltip="Expiry Date"/></table:template></table:Column><table:Column autoResizable="true" width="9rem" tooltip="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label}" hAlign="Right"><Text textAlign="End" text="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label}"/><table:template><Text textAlign="End" text="{path:\'ListItems>MRP\',type: \'sap.ui.model.type.Float\'} {ListItems>Currency}"\n\t\t\t\t\t\t\ttooltip="{SSGW_MM>/CPStockItemSnos/MRP/#@sap:label} : {path:\'ListItems>MRP\',type: \'sap.ui.model.type.Float\'} {ListItems>Currency}"/></table:template></table:Column><table:Column autoResizable="true" tooltip="Reason" width="12rem" hAlign="Right"><Text text="Reason" textAlign="Right"/><table:template><Text wrapping="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" class="sapUiTinyMarginTopBottom"\n\t\t\t\t\t\t\ttext="{=${ListItems>ReasonID}===\'\'?\'\':${ListItems>ReasonDesc}+\' (\'+${ListItems>ReasonID}+\')\'}"/></table:template></table:Column></table:Table></content></Panel><UploadCollection visible="{LocalViewSetting>/AttachmentsVisible}" id="UploadCollectionView" maximumFilenameLength="55" maximumFileSize="50"\n\t\tmultiple="false" showSeparators="All" change="onChange" fileDeleted="onFileDeleted" filenameLengthExceed="onFilenameLengthExceed"\n\t\tfileRenamed="onFileRenamed" fileSizeExceed="onFileSizeExceed" typeMissmatch="onTypeMissmatch" uploadComplete="onUploadComplete"\n\t\tbeforeUploadStarts="onBeforeUploadStarts" uploadTerminated="onUploadTerminated" items="{SchemeCPDocuments>/}"\n\t\tnoDataText="{ppcutili18n>common.NoAttachments}" uploadUrl="/sap/opu/odata/ARTEC/SCGW/SchemeCPDocuments" uploadEnabled="true"><toolbar><OverflowToolbar id="myId"><Title id="attachmentTitle" text="Attachments"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow"/></layoutData></Title><ToolbarSpacer/><Button visible="{LocalViewSetting>/editMode}" tooltip="{i18n>SchemeCPDocuments.Page.UploadCollection.Dialog.Title}" type="Emphasized"\n\t\t\t\t\ttext="{i18n>SchemeCPDocuments.Page.UploadCollection.Dialog.Title}" press="selectDocumentType" enabled="true"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow"/></layoutData></Button></OverflowToolbar></toolbar><items press="getDetails"><UploadCollectionItem id="UploadCollectionItem" documentId="{SchemeCPDocuments>DocumentID}" fileName="{SchemeCPDocuments>FileName}"\n\t\t\t\turl="{SchemeCPDocuments>DocumentUrl}" enableEdit="false" enableDelete="false" visibleDelete="false" visibleEdit="false"><attributes><ObjectAttribute title="{i18n>SchemeCPDocuments.Page.UploadCollectionItem.ObjectAttribute.UploadedOn}"\n\t\t\t\t\t\ttext="{path:\'SchemeCPDocuments>CreatedOn\',type: \'sap.ui.model.type.Date\'}" active="false"/><ObjectAttribute title="{i18n>SchemeCPDocuments.Page.UploadCollectionItem.ObjectAttribute.UploadedBy}"\n\t\t\t\t\t\ttext="{= ${SchemeCPDocuments>CreatedByName} ? ${SchemeCPDocuments>CreatedByName} : ${SchemeCPDocuments>CreatedBy}}" active="false"></ObjectAttribute></attributes></UploadCollectionItem></items></UploadCollection></core:View>',
"com/arteria/ss/stockadjustmnt/create/view/ListPage.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.ListPage" xmlns:html="http://www.w3.org/1999/xhtml" id="ListScreen"><App id="ListApp"><pages><Page title="{LocalViewSetting>/PageHeader}" id="ListPage" showNavButton="{LocalViewSetting>/reviewMode}" navButtonType="Back"\n\t\t\t\tnavButtonPress="navigateBack"><content><mvc:XMLView id="ListView" viewName="com.arteria.ss.stockadjustmnt.create.view.List"/></content><footer><Toolbar><Button id="oMessagePopoverButton" text="{= ${LocalViewSetting>/messageLength} === 0 ? \'\' : ${LocalViewSetting>/messageLength} }"\n\t\t\t\t\t\t\ticon="{= ${LocalViewSetting>/messageLength} === 0 ? \'\' : \'sap-icon://alert\' }" press="showPopUp"\n\t\t\t\t\t\t\ttype="{= ${LocalViewSetting>/messageLength} === 0 ? \'Default\' : \'Emphasized\' }"/><ToolbarSpacer/><Button text="Calculate" press="onCalculate" type="Emphasized" visible="{LocalViewSetting>/CalculateButton}" enabled="{LocalViewSetting>/CalculateButtonEnable}"/><Button text="Back" press="navigateBack" icon="sap-icon://nav-back" type="Accept" visible="{LocalViewSetting>/reviewMode}"/><Button text="{i18n>List.Footer.review}" press="onReview" visible="{LocalViewSetting>/editMode}" icon="sap-icon://activities" type="Accept"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Footer.review}" enabled="{LocalViewSetting>/ReviewButtonEnable}"/><Button id="saveBtn" text="{i18n>List.Footer.save}" press="onSave" visible="{LocalViewSetting>/reviewMode}" icon="sap-icon://save" type="Accept"\n\t\t\t\t\t\t\ttooltip="{i18n>List.Footer.save}"/></Toolbar></footer></Page></pages></App></mvc:View>',"com/arteria/ss/stockadjustmnt/create/view/Main.view.xml":'<core:View controllerName="com.arteria.ss.stockadjustmnt.create.controller.Main" displayBlock="true" height="100%" xmlns:core="sap.ui.core"\n\txmlns="sap.m" id="MainScreen"><App id="ssstkadjcreate"></App></core:View>',"com/arteria/ss/stockadjustmnt/create/view/MaterialDetails.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:html="http://www.w3.org/1999/xhtml"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.MaterialDetails" xmlns:u="sap.ui.unified" xmlns:l="sap.ui.layout"\n\txmlns:f="sap.ui.layout.form"><l:Grid defaultSpan="L12 M12 S12" width="auto"><l:content><f:SimpleForm columnsL="2" columnsM="2" editable="true" emptySpanL="2" emptySpanM="2" labelSpanL="3" labelSpanM="3"\n\t\t\t\tlayout="ResponsiveGridLayout" maxContainerCols="2" title=""><f:content><core:Title text=""/><Label text="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"></Label><Text wrapping="true" tooltip="{SSGW_MM>/CPStockItemSnos/MaterialNo/#@sap:label}"\n\t\t\t\t\t\ttext="{MaterialDocItemDetails>/MaterialDesc} {= (${MaterialDocItemDetails>/MaterialNo} &amp;&amp; ${MaterialDocItemDetails>/MaterialNo} !== \'\')? \'(\'+${MaterialDocItemDetails>/MaterialNo}+\')\' : \'\'}"/><Label text="Manuf. Date" tooltip="Manuf. Date"></Label><Text text="{MaterialDocItemDetails>/MFD}"/><Label text="Quantity" tooltip="Quantity"></Label><Input value="{MaterialDocItemDetails>/AdjQty}" type="Number" maxLength="4"/><Text text="{MaterialDocItemDetails>/NetWeightUOM}"/><core:Title text=""/><Label text="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}" tooltip="{SSGW_MM>/MaterialDocItemDetails/ReasonID/#@sap:label}"></Label><Select id="ReasonID" items="{path: \'ReasonDD>/\', templateShareable : true}" selectedKey="{MaterialDocItemDetails>/ReasonID}"\n\t\t\t\t\t\tchange="onChangeReasonDesc"><core:ListItem key="{ReasonDD>Key}" tooltip="{ReasonDD>Text}" text="{ReasonDD>Key}{ReasonDD>Seperator}{ReasonDD>Text}"/></Select><Label text="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}" tooltip="{SSGW_MM>/MaterialDocItemDetails/Remarks/#@sap:label}"></Label><Input maxLength="{path:\'SSGW_MM>/MaterialDocItemDetails/Remarks/#@maxLength\', type:\'sap.ui.model.type.String\'}" type="Text"\n\t\t\t\t\t\tvalue="{MaterialDocItemDetails>/Remarks}" change="setRemarks" valueState="{MaterialDocItemDetails>RemarksState}"\n\t\t\t\t\t\tvalueStateText="{MaterialDocItemDetails>RemarksStateText}"/></f:content></f:SimpleForm></l:content></l:Grid></mvc:View>',"com/arteria/ss/stockadjustmnt/create/view/NoMatching.view.xml":'<core:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.NoMatching" xmlns:html="http://www.w3.org/1999/xhtml" id="NoMatchingScreen"><MessagePage id="notFoundMessagePage" title="{i18n>NoMatching.Page.Header}" text="{i18n>NoMatching.Page.text}"\n\t\ticon="{i18n>NoMatching.Page.icon}" description="{i18n>NoMatching.Page.description}" showNavButton="true" navButtonPress="onNavBack"/></core:View>',"com/arteria/ss/stockadjustmnt/create/view/NotFound.view.xml":'<core:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.NotFound" xmlns:html="http://www.w3.org/1999/xhtml" id="NotFoundScreen"><MessagePage id="notFoundMessagePage" title="{i18n>NotFound.Page.Header}" text="{i18n>NotFound.Page.text}" icon="{i18n>NotFound.Page.icon}"\n\t\tdescription="{i18n>NotFound.Page.description}" showNavButton="true" navButtonPress="onNavBack"/></core:View>',"com/arteria/ss/stockadjustmnt/create/view/ViewPage.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form"\n\tcontrollerName="com.arteria.ss.stockadjustmnt.create.controller.ViewPage" xmlns:html="http://www.w3.org/1999/xhtml" id="ViewScreen"><Page title="ToAdd with i18n" id="ViewPage"><f:Form id="Form" editable="true" width="100%"><f:layout><f:ResponsiveGridLayout labelSpanL="2" labelSpanM="2" labelSpanS="2" emptySpanL="1" emptySpanM="1" emptySpanS="1" columnsL="1" columnsM="1"/></f:layout><f:formContainers><f:FormContainer><f:FormElement><f:label><Label id="ViewPageValueHelpLabel" text="ToAdd" required="true"/></f:label><f:fields><MultiInput id="ViewPageValueHelp" change="onF4Change" maxLength="10" valueHelpRequest="ViewPageF4" width="300px"/></f:fields></f:FormElement></f:FormContainer></f:formContainers></f:Form><footer><Toolbar><ToolbarSpacer/><Button id="gotoDetailButton" text="{i18n>ViewPage.Footer.DetailButtonText}" press="gotoDetail"/></Toolbar></footer></Page></mvc:View>',"com/arteria/ss/stockadjustmnt/create/i18n/i18n_de.properties":"title=Stock Summary\r\n","com/arteria/ss/stockadjustmnt/create/i18n/i18n_en_IN.properties":"common.appTitle=Create Stock Adjustment","com/arteria/ss/stockadjustmnt/create/i18n/i18n_en_US.properties":"title=Stock Summary\r\n","com/arteria/ss/stockadjustmnt/create/i18n/i18n_en.properties":"common.appTitle=Create Stock Adjustment","com/arteria/ss/stockadjustmnt/create/i18n/i18n.properties":"#Common\r\n\t# App Descriptor\t\r\n\tcommon.appTitle=Create Stock Adjustment\r\n\tcommon.appDescription=Arteria Standard Create application\r\n\tcommon.Legend=Legend\r\n\tcommon.message.pleaseSelect=Please Select\r\n\tcommon.message.pleaseSelect.reason=Please Select Reason\r\n\tcommon.message.pleaseEneter=Please Enter\r\n\tcommon.message.pleaseEneter.remarks=Please Enter Remarks\r\n\tcommon.message.pleaseEneter.oneqty=Enter Physical Stock for atleast  one item\r\n\tcommon.message.pleaseEneter.qty=Please Enter Quantity\r\n\tcommon.message.pleaseeneter=Please Enter {0}\r\n\tcommon.message.pleaseselect=Please Select {0}\r\n\tcommon.message.searchOneEntry=Please search the items\r\n\tList.Table.CRSSKUGroup=SKU Group\r\n\tPage.Detail.title=Create Stock Adjustment\r\nSSInvoiceCreate.Message.BatchRepeat=Batch Should not be repeated for Item No {0}\r\n#ListPage\r\n\tListPage.Message.MinimumOneListRequired=Please select atleast one item to Adjust stock\r\n#List\r\n\tList.title=Create Stock Adjustment\r\n\tList.Review.title=Stock Adjustment Review\r\n\tList.ValueHelp.SKUGroup=SKU Group\r\n\tList.Filterbar.MultiInput.custNoError=Please enter valid {0}\r\n\tList.FilterBar.Validation.customerNo=Please enter {0}\r\n\tList.FilterBar.Validation.custNo=Please Select {0}\r\n\tList.FilterBar.Validation.customerNo=Please enter {0}\r\n\tList.Footer.save=Save\r\n\tList.Footer.clear=Clear\r\n\tList.Footer.review=Review\r\n\tList.Footer.addNewstock=Add New Stock\r\n\tList.Footer.stockAdjstmt=Create Stock Adjustment\r\n\tList.Footer.Clear.confirmation=Do you want to clear the changes ?\r\n\tCreateNew=Create New\r\n\tList.Table.CRSSKUGroup= SKU Group\r\n\tList.Table.Qty=Book Stock\r\n\tList.Table.ADJQty=Physical Stock\r\n\tList.Table.DiffQty=Stock Diff\r\n\tList.ValueHelp.Material.header=Materials\r\n\tList.Input.Adjqty.AdjQtyEmpty= Please enter Physical Stock for Material No {0}\r\n\tList.Input.Adjqty.AdjQtyEmpty1= Please enter physical stock for atleast one line item\r\n\tList.Input.Adjqty.AdjQtyWithZero=Physical Stock should be in correct number format for Material No {0}\r\n\tList.Input.Adjqty.AdjQtyWithNegative=Physical Stock should not be negative for Material No {0}\r\n\tList.Input.Adjqty.AdjQtyWithNegative1=Physical Stock should not be negative for Batch No {0}\r\n\tList.Input.Adjqty.AdjQtyCompHdrAmount=Amount should be equal to {0}\r\n\tList.Input.Adjqty.AdjQtyCompCollectedAmount=Amount should not be greater than Collected Amount for an Item No {0}\r\n\tSSStockCreate.Message.MaterialRepeat1 = Material {0}\r\n\tSSStockCreate.Message.MaterialRepeat2= already entered\r\n\tDetail.table.Label.PurchasePrice=Purchase Price (PC)\r\n\r\n#Table\r\n\tList.Table.Title=Stock Items\r\n\tList.Table.TitleCount=Stocks ({0})\r\n\tList.Table.ItemMessage.MinimumOneQtyExist=Atleast one line Quantity should be filled\r\n\tList.Table.ItemMessage.QuantityEmpty=Please Enter Quantity\r\n\tList.Table.ItemMessage.ReasonEmpty=Please Select Batch for Item {0}\r\n\t\r\n#Customer F4\r\n\tList.ValueHelp.CustomerNo.header=Distributors\r\n\tList.ValueHelp.CustomerNo.customerNo=Distributor\r\n\tList.ValueHelp.CustomerNo.name=Distributor Name\r\n\r\n#Detail\r\n\tDetail.title=Stock Adjustment Detail\r\n\tDetailHeader.Message.validInstDate=Date Cannot be Future Date\r\n\tDetailItem.Table.Title=Items\r\n\r\n#View\r\n\tViewPage.Footer.DetailButtonText=View\r\n\t\r\n#F4\r\n\tList.ValueHelp.Batch.header=Batch\r\n\t\r\nROCreate.message.ValidQty = Please Enter Valid {0} for Item No {1}\r\n\r\nROCreate.message.ToolBarValidQty = Please Enter Valid {0}\r\n\r\nSchemeCPDocuments.Page.Title=Stock Adjustment Document Attachment\r\nSchemeCPDocuments.message.uploaded=File successfully uploded \r\nSchemeCPDocuments.message.notuploaded=File not uploded :  \r\nSchemeCPDocuments.message.deleted=File successfully deleted\r\nSchemeCPDocuments.Page.UploadCollection.Dialog.Title=Upload\r\nSchemeCPDocuments.Page.UploadCollectionItem.ObjectAttribute.UploadedOn= Uploaded On\r\nSchemeCPDocuments.Page.UploadCollectionItem.ObjectAttribute.UploadedBy=Uploaded By\r\nSchemeCPDocuments.Page.UploadCollectionItem.ObjectAttribute.FileSize= File Size\r\nSchemeCPDocuments.Page.UploadCollection.Dialog.DoumentType= Doument Type:\r\nSchemeCPDocuments.Page.UploadCollection.Dialog.Title= Upload\r\nSchemeCPDocuments.Page.UploadCollection.Dialog.Button.Cancel= Cancel\r\nSchemeCPDocumentsA.Page.Upload.DocTypeErrorMsg= Please Select Document Type.\r\nSchemeCPDocumentsA.Page.Upload.AttachmentErrorMsg= No File is attached to Upload.\r\nContractAttachments.Page.UploadCollection.Dialog.DoumentType= Doument Type:\r\nContractAttachments.Page.UploadCollection.Dialog.Title= Upload\r\nContractAttachments.Page.UploadCollection.Dialog.Button.Cancel= Cancel\r\nContractAttachments.message.deleted=File successfully deleted\r\nContractAttachments.message.uploaded=File successfully uploded\r\nContractAttachments.message.notuploaded=File not uploded :\r\nContractAttachmentsA.Page.Upload.DocTypeErrorMsg= Please Select Document Type.\r\nContractAttachmentsA.Page.Upload.AttachmentErrorMsg= No File is attached to Upload.","com/arteria/ss/stockadjustmnt/create/manifest.json":'{"_version":"1.8.0","sap.app":{"handleValidation":true,"id":"com.arteria.ss.stockadjustmnt.create","type":"application","i18n":"i18n/i18n.properties","ppcutili18n":"/sap/bc/ui5_ui5/ARTEC/PPCUTIL/utils/i18n/i18n.properties","title":"Create Stock Adjustment","description":"Arteria Standard Create application","applicationVersion":{"version":"1.0.0"},"ach":"CA-UI5-DOC","dataSources":{"SCGW":{"uri":"/sap/opu/odata/ARTEC/SCGW","type":"OData","settings":{"odataVersion":"2.0"}},"SSGW_MM":{"uri":"/sap/opu/odata/ARTEC/SSGW_MM/","type":"OData","settings":{"odataVersion":"2.0"}},"SFGW_MIS":{"uri":"/sap/opu/odata/ARTEC/SFGW_MIS/","type":"OData","settings":{"odataVersion":"2.0"}},"SSGW_MST":{"uri":"/sap/opu/odata/ARTEC/SSGW_MST/","type":"OData","settings":{"odataVersion":"2.0"}},"SFGW_MST":{"uri":"/sap/opu/odata/ARTEC/SFGW_MST/","type":"OData","settings":{"odataVersion":"2.0"}},"SFGW_SLS":{"uri":"/sap/opu/odata/ARTEC/SFGW_SLS/","type":"OData","settings":{"odataVersion":"2.0"}},"PCGW":{"uri":"/sap/opu/odata/ARTEC/PCGW/","type":"OData","settings":{"odataVersion":"2.0"}},"PUGW":{"uri":"/sap/opu/odata/ARTEC/PUGW/","type":"OData","settings":{"odataVersion":"2.0"}}}},"sap.ui":{"technology":"UI5","icons":{},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_bluecrystal"]},"sap.ui5":{"rootView":{"viewName":"com.arteria.ss.stockadjustmnt.create.view.Main","type":"XML","async":true,"id":"ssstkadjcreate"},"dependencies":{"minUI5Version":"1.34.7","libs":{"sap.ca.ui":{"minVersion":"1.38.1"},"sap.m":{"minVersion":"1.38.1"},"sap.ui.layout":{"minVersion":"1.38.1"},"sap.ui.table":{"minVersion":"1.38.1"},"sap.ushell":{"minVersion":"1.38.1"}}},"resources":{"css":[{"uri":"css/style.css"}]},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"com.arteria.ss.stockadjustmnt.create.i18n.i18n"},"preload":true,"async":true},"ppcutili18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleUrl":"/sap/bc/ui5_ui5/ARTEC/PPCUTIL/utils/i18n/i18n.properties"},"preload":true,"async":true},"SFGW_MIS":{"type":"sap.ui.model.odata.v2.ODataModel","preload":true,"dataSource":"SFGW_MIS","settings":{"defaultOperationMode":"Auto","defaultUpdateMethod":"PUT","useBatch":true,"defaultBindingMode":"Default","tokenHandling":true,"disableHeadRequestForToken":true}},"SSGW_MST":{"type":"sap.ui.model.odata.v2.ODataModel","preload":true,"dataSource":"SSGW_MST","settings":{"defaultOperationMode":"Auto","defaultUpdateMethod":"PUT","useBatch":true,"defaultBindingMode":"Default","tokenHandling":true,"disableHeadRequestForToken":true}},"SSGW_MM":{"type":"sap.ui.model.odata.v2.ODataModel","preload":true,"dataSource":"SSGW_MM","settings":{"defaultOperationMode":"Auto","defaultUpdateMethod":"PUT","useBatch":true,"defaultBindingMode":"Default","tokenHandling":true,"disableHeadRequestForToken":true}},"SFGW_MST":{"type":"sap.ui.model.odata.v2.ODataModel","preload":true,"dataSource":"SFGW_MST","settings":{"defaultOperationMode":"Auto","defaultUpdateMethod":"PUT","useBatch":true,"defaultBindingMode":"Default","tokenHandling":true,"disableHeadRequestForToken":true}},"SFGW_SLS":{"type":"sap.ui.model.odata.v2.ODataModel","preload":true,"dataSource":"SFGW_SLS","settings":{"defaultOperationMode":"Auto","defaultUpdateMethod":"PUT","useBatch":true,"defaultBindingMode":"Default","tokenHandling":true,"disableHeadRequestForToken":true}},"SCGW":{"type":"sap.ui.model.odata.v2.ODataModel","preload":true,"dataSource":"SCGW","settings":{"defaultOperationMode":"Auto","defaultUpdateMethod":"PUT","useBatch":true,"defaultBindingMode":"Default","tokenHandling":true,"disableHeadRequestForToken":true}},"PCGW":{"type":"sap.ui.model.odata.v2.ODataModel","preload":true,"dataSource":"PCGW","settings":{"defaultOperationMode":"Auto","defaultUpdateMethod":"PUT","useBatch":true,"defaultBindingMode":"Default","tokenHandling":true,"disableHeadRequestForToken":true}},"PUGW":{"type":"sap.ui.model.odata.v2.ODataModel","preload":true,"dataSource":"PUGW","settings":{"defaultOperationMode":"Auto","defaultUpdateMethod":"PUT","useBatch":true,"defaultBindingMode":"Default","tokenHandling":true,"disableHeadRequestForToken":true}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"com.arteria.ss.stockadjustmnt.create.view","controlId":"ssstkadjcreate","controlAggregation":"pages","bypassed":{"target":["NoMatching"]}},"routes":[{"pattern":"StockAdjustment","name":"DetailPage","target":["DetailPage"]},{"pattern":"ViewItem/{contextPath}","name":"ItemDetailPage","target":["ItemDetailPage"]},{"pattern":"View/","name":"View","target":["ViewPage"]},{"pattern":"","name":"ListPage","target":["ListPage"]},{"pattern":"Search/{contextPath}","name":"SearchListPage","target":["ListPage"]},{"pattern":"NoMatching","name":"NoMatching","target":["NoMatching"]},{"pattern":"{all*}","name":"NotFound","target":["NotFound"]}],"targets":{"ListPage":{"viewName":"ListPage","viewId":"ListPage"},"DetailPage":{"viewName":"DetailPage","viewId":"DetailPage"},"ViewPage":{"viewName":"ViewPage","viewId":"ViewPage"},"ItemDetailPage":{"viewName":"ItemDetailPage","viewId":"ItemDetailPage"},"NoMatching":{"viewName":"NoMatching","viewId":"NoMatching"},"NotFound":{"viewName":"NotFound","viewId":"NotFound"}}}},"sap.platform.hcp":{"uri":"","_version":"1.1.0"}}'},"com/arteria/ss/stockadjustmnt/create/Component-preload");